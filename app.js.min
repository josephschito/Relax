(function(e){"use strict";if("undefined"!=typeof globalThis?e=globalThis:"undefined"!=typeof global?e=global:"undefined"!=typeof window&&(e=window),null==e.console&&(e.console={}),"log"in(t="object"==typeof e.console?e.console:{})||(t.log=function(){}),"warn"in t||(t.warn=t.log),void 0!==e.Opal)return t.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var t,r,n,i,s,o,a,u,l=e.Opal={};l.global=e,l.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var c=Function.prototype.call,h=Function.prototype.bind,f=Object.hasOwn||c.bind(Object.prototype.hasOwnProperty),d=Object.setPrototypeOf,p=c.bind(Array.prototype.slice),g=c.bind(Array.prototype.splice),m=4;function $(){return m+=2}l.uid=$,l.id=function(e){return e.$$is_number?2*e+1:(null==e.$$id&&b(e,"$$id",$()),e.$$id)};var v=l.gvars={};function _(e,t){if(e||(e=l.Exception||Error),u&&u.$raise)arguments.length>2?u.$raise(e.$new.apply(e,p(arguments,1))):u.$raise(e,t);else if(e.$new)throw e.$new(t);else throw new e(t)}function b(e,t,r){"string"==typeof e?e[t]=r:Object.defineProperty(e,t,{value:r,enumerable:!1,configurable:!0,writable:!0})}l.exit=function(e){v.DEBUG&&t.log("Exited with status "+e)},l.exceptions=[],l.pop_exception=function(){var e=l.exceptions.pop();e?(v["!"]=e,v["@"]=e.$backtrace()):v["!"]=v["@"]=r},l.prop=b,l.defineProperty=l.prop,l.slice=p;var y=l.truthy=function(e){return!1!==e&&r!==e&&null!=e&&(!(e instanceof Boolean)||!0===e.valueOf())};function w(e){var t,r,n;for(t=0,r=l.tracers_for_class.length;t<r;t++)(n=l.tracers_for_class[t]).trace_object=e,n.block.$call(n)}function E(e,t){if(e.$$autoload[t].loaded){if(e.$$autoload[t].loaded&&!e.$$autoload[t].required&&e.$$autoload[t].exception)throw e.$$autoload[t].exception}else{e.$$autoload[t].loaded=!0;try{l.Kernel.$require(e.$$autoload[t].path)}catch(r){throw e.$$autoload[t].exception=r,r}if(e.$$autoload[t].required=!0,null!=e.$$const[t])return e.$$autoload[t].success=!0,e.$$const[t]}}function x(e,t){if(e){if(null!=e.$$const[t])return e.$$const[t];if(e.$$autoload&&e.$$autoload[t])return E(e,t)}}function k(e,t){var r,n,i;if(null!=e)for(r=0,n=(i=F(e)).length;r<n;r++){if(i[r].$$const&&f(i[r].$$const,t))return i[r].$$const[t];if(i[r].$$autoload&&i[r].$$autoload[t])return E(i[r],t)}}function A(e,t){return(e||i).$const_missing(t)}function z(e,t,n){var s=!0;return(null==e||"::"===e)&&(e=i),n.$$is_a_module&&((null==n.$$name||n.$$name===r)&&(n.$$name=t),null==n.$$base_module&&(n.$$base_module=e)),e.$$const=e.$$const||Object.create(null),(t in e.$$const||"$$autoload"in e&&t in e.$$autoload)&&(s=!1),e.$$const[t]=n,e.$$=e.$$const,l.const_cache_version++,e===i&&(l[t]=n),b(e,t,n),s&&e.$const_added&&!e.$const_added.$$pristine&&e.$const_added(t),n}function I(e,t,n){var i;if(i=null!=t&&t.$$bridge?function(){var e=p(arguments),r=new(h.apply(t.$$constructor,[null].concat(e)));return d(r,i.$$prototype),r}:function(){},e&&e!==r&&b(i,"displayName","::"+e),b(i,"$$name",e),b(i,"$$constructor",i),b(i,"$$prototype",i.prototype),b(i,"$$const",{}),b(i,"$$is_class",!0),b(i,"$$is_a_module",!0),b(i,"$$super",t),b(i,"$$cvars",{}),b(i,"$$own_included_modules",[]),b(i,"$$own_prepended_modules",[]),b(i,"$$ancestors",[]),b(i,"$$ancestors_cache_version",null),b(i,"$$subclasses",[]),b(i.$$prototype,"$$class",i),l.Class&&d(i,l.Class.prototype),null!=t){if(d(i.$$prototype,t.$$prototype),!0!==n){if("undefined"!=typeof WeakRef){var s,o,a=[];for(s=0;s<t.$$subclasses.length;s++)void 0!==(o=t.$$subclasses[s]).deref()&&a.push(o);a.push(new WeakRef(i)),t.$$subclasses=a}else t.$$subclasses.push(i)}t.$$meta&&l.build_class_singleton_class(i)}return i}function S(e){var t=function(){},r=t;return e&&b(t,"displayName",e+".constructor"),b(r,"$$name",e),b(r,"$$prototype",t.prototype),b(r,"$$const",{}),b(r,"$$is_module",!0),b(r,"$$is_a_module",!0),b(r,"$$cvars",{}),b(r,"$$iclasses",[]),b(r,"$$own_included_modules",[]),b(r,"$$own_prepended_modules",[]),b(r,"$$ancestors",[r]),b(r,"$$ancestors_cache_version",null),d(r,l.Module.prototype),r}function O(e,t){e.hasOwnProperty("$$meta")?e.$$meta=t:b(e,"$$meta",t),e.$$frozen?e.$$meta.$freeze():d(e,t.$$prototype)}function q(e){return e.hasOwnProperty("$$iclass")&&e.hasOwnProperty("$$root")}function R(e){var t=T(e);return e.$$is_module&&e.$$iclasses.push(t),t}function T(e){var t={},r=e.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var n,i=Object.getOwnPropertyNames(r),s=i.length;for(n=0;n<s;n++){var o=i[n];b(t,o,r[o])}return b(t,"$$iclass",!0),b(t,"$$module",e),t}function C(e){var t=e.length,r=e[0];if(b(r,"$$root",!0),1===t)return{first:r,last:r};for(var n=r,i=1;i<t;i++){var s=e[i];d(n,s),n=s}return{first:e[0],last:e[t-1]}}function N(e){if(!e.hasOwnProperty("$$dummy")){if(e.hasOwnProperty("$$iclass"))return e.$$module;if(e.hasOwnProperty("$$class"))return e.$$class}}function F(e){if(!e)return[];if(e.$$ancestors_cache_version===l.const_cache_version)return e.$$ancestors;var t,r,n,i,s=[];for(t=0,n=(r=(i=e).$$own_prepended_modules.concat([i]).concat(i.$$own_included_modules)).length;t<n;t++)s.push(r[t]);if(e.$$super)for(t=0,n=(r=F(e.$$super)).length;t<n;t++)s.push(r[t]);return e.$$ancestors_cache_version=l.const_cache_version,e.$$ancestors=s,s}function j(e){return e.hasOwnProperty("$$meta")&&null!==e.$$meta?F(e.$$meta):F(e.$$class)}function M(e,t){"number"==typeof t?e.$$arity=t:"object"==typeof t&&Object.assign(e,t)}l.falsy=function(e){return!y(e)},l.type_error=function(e,t,r,n){e=e.$$class,n&&r?(n=n.$$class,_(l.TypeError,"can't convert "+e+" into "+t+" ("+e+"#"+r+" gives "+n+")")):_(l.TypeError,"no implicit conversion of "+e+" into "+t)},l.coerce_to=function(e,t,r,n){var i;return"to_int"===r&&t===l.Integer&&e.$$is_number?e<0?Math.ceil(e):Math.floor(e):"to_str"===r&&t===l.String&&e.$$is_string||l.is_a(e,t)?e:e["$respond_to?"].$$pristine&&e.$method_missing.$$pristine?((null==(i=e[D(r)])||i.$$stub)&&l.type_error(e,t),i.apply(e,n)):(e["$respond_to?"](r)||l.type_error(e,t),null==n&&(n=[]),l.send(e,r,n))},l.respond_to=function(e,t,r){if(null==e||!e.$$class)return!1;r=!!r;var n=e[t];return e["$respond_to?"].$$pristine?"function"==typeof n&&!n.$$stub||(e["$respond_to_missing?"].$$pristine?void 0:l.send(e,e["$respond_to_missing?"],[t.substr(1),r])):l.send(e,e["$respond_to?"],[t.substr(1),r])},l.trace_class=!1,l.tracers_for_class=[],l.const_get_local=function(e,t,r){var n;if(null!=e)return"::"===e&&(e=i),e.$$is_module||e.$$is_class||_(l.TypeError,e.toString()+" is not a class/module"),null!=(n=x(e,t))||r?n:A(e,t)},l.const_get_qualified=function(e,t,r){var n,s,o,a=l.const_cache_version;return null==t?null!=(n=x(i,e))?n:l.const_get_qualified(i,e,r):null!=e?("::"===e&&(e=i),e.$$is_module||e.$$is_class||_(l.TypeError,e.toString()+" is not a class/module"),null==(s=e.$$const_cache)&&(b(e,"$$const_cache",Object.create(null)),s=e.$$const_cache),null==(o=s[t])||o[0]!==a?(null!=(n=x(e,t))||(n=k(e,t)),s[t]=[a,n]):n=o[1],null!=n||r?n:A(e,t)):void 0},l.const_cache_version=1,l.const_get_relative=function(e,t,r){var n,s,o,a=e[0],u=l.const_cache_version;return null==(s=e.$$const_cache)&&(b(e,"$$const_cache",Object.create(null)),s=e.$$const_cache),null==(o=s[t])||o[0]!==u?(null!=(n=x(a,t))||null!=(n=function e(t,r){var n,i,s;if(0!==t.length)for(n=0,i=t.length;n<i;n++){if(null!=(s=t[n].$$const[r]))return s;if(t[n].$$autoload&&t[n].$$autoload[r])return E(t[n],r)}}(e,t))||null!=(n=k(a,t))||(n=function e(t,r){if(null==t||t.$$is_module)return k(i,r)}(a,t)),s[t]=[u,n]):n=o[1],null!=n||r?n:A(a,t)},l.const_set=z,l.constants=function(e,t){null==t&&(t=!0);var r,n,s,o,a=[e],u={};for(t&&(a=a.concat(F(e))),t&&e.$$is_module&&(a=a.concat([l.Object]).concat(F(l.Object))),n=0,s=a.length;n<s&&(r=a[n],e===i||r!=i);n++){for(o in r.$$const)u[o]=!0;if(r.$$autoload)for(o in r.$$autoload)u[o]=!0}return Object.keys(u)},l.const_remove=function(e,t){if(l.const_cache_version++,null!=e.$$const[t]){var n=e.$$const[t];return delete e.$$const[t],n}if(e.$$autoload&&e.$$autoload[t])return delete e.$$autoload[t],r;_(l.NameError,"constant "+e+"::"+e.$name()+" not defined")},l.const_get_relative_factory=function(e){return function(t,r){return l.$$(e,t,r)}},l.$$=l.const_get_relative,l.$$$=l.const_get_qualified,l.$r=l.const_get_relative_factory,l.allocate_class=I,l.klass=function(e,t,r){null==e||"::"==e?e=i:e.$$is_class||e.$$is_module||(e=e.$$class),null==t||t.hasOwnProperty&&(!t.hasOwnProperty||t.hasOwnProperty("$$is_class"))||(t.constructor&&"Function"==t.constructor.name?(o=t,t=i):_(l.TypeError,"superclass must be a Class ("+(t.constructor&&(t.constructor.name||t.constructor.$$name)||typeof t)+" given)"));var n,s,o,a=function e(t,r){var n=x(t,r);if(n)return n.$$is_class||_(l.TypeError,r+" is not a class"),n}(e,r);return null!=a?t&&(n=a,s=t,n.$$super!==s&&_(l.TypeError,"superclass mismatch for class "+n.$$name)):(null==t&&(t=i),a=I(r,t),z(e,r,a),t.$inherited&&t.$inherited(a),o&&l.bridge(o,a)),l.trace_class&&w(a),a},l.allocate_module=S,l.module=function(e,t){var r,n,s,o;return null==e||"::"==e?e=i:e.$$is_class||e.$$is_module||(e=e.$$class),null==(r=(n=e,null==(o=x(n,s=t))&&n===i&&(o=k(i,s)),o&&!o.$$is_module&&o!==i&&_(l.TypeError,s+" is not a module"),o))&&(r=S(t),z(e,t,r)),l.trace_class&&w(r),r},l.get_singleton_class=function(e){return(e.$$is_number&&_(l.TypeError,"can't define singleton"),e.$$meta)?e.$$meta:e.hasOwnProperty("$$is_class")?l.build_class_singleton_class(e):e.hasOwnProperty("$$is_module")?l.build_module_singleton_class(e):l.build_object_singleton_class(e)},l.build_class_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=e===n?o:l.get_singleton_class(e.$$super),r=I(null,t,!0);return b(r,"$$is_singleton",!0),b(r,"$$singleton_of",e),O(e,r),b(e,"$$class",l.Class),r},l.build_module_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=I(null,l.Module,!0);return b(t,"$$is_singleton",!0),b(t,"$$singleton_of",e),O(e,t),b(e,"$$class",l.Module),t},l.build_object_singleton_class=function(e){var t=I(r,e.$$class,!0);return b(t,"$$is_singleton",!0),b(t,"$$singleton_of",e),delete t.$$prototype.$$class,O(e,t),t},l.is_method=function(e){return"$"===e[0]&&"$"!==e[1]},l.instance_methods=function(e){for(var t=[],r=[],n=F(e),i=0,s=n.length;i<s;i++){var o=n[i].$$prototype;o.hasOwnProperty("$$dummy")&&(o=o.$$define_methods_on);for(var a=Object.getOwnPropertyNames(o),u=0,c=a.length;u<c;u++){var h=a[u];if(l.is_method(h)){var f=h.slice(1),d=o[h];d.$$stub&&-1===t.indexOf(f)&&t.push(f),d.$$stub||-1!==r.indexOf(f)||-1!==t.indexOf(f)||r.push(f)}}}return r},l.own_instance_methods=function(e){var t=[],r=e.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var n=Object.getOwnPropertyNames(r),i=0,s=n.length;i<s;i++){var o=n[i];if(l.is_method(o)&&!r[o].$$stub){var a=o.slice(1);t.push(a)}}return t},l.methods=function(e){return l.instance_methods(e.$$meta||e.$$class)},l.own_methods=function(e){return e.$$meta?l.own_instance_methods(e.$$meta):[]},l.receiver_methods=function(e){var t=l.get_singleton_class(e),r=l.own_instance_methods(t),n=l.own_instance_methods(t.$$super);return r.concat(n)},l.class_variables=function(e){var t,r=F(e),n=r.length,i={};for(t=n-1;t>=0;t--){var s=r[t];for(var o in s.$$cvars)i[o]=s.$$cvars[o]}return i},l.class_variable_set=function(e,t,r){var n,i=F(e),s=i.length;for(n=s-2;n>=0;n--){var o=i[n];if(f(o.$$cvars,t))return o.$$cvars[t]=r,r}return e.$$cvars[t]=r,r},l.class_variable_get=function(e,t,n){if(f(e.$$cvars,t))return e.$$cvars[t];var i,s=F(e),o=s.length;for(i=0;i<o;i++){var a=s[i];if(f(a.$$cvars,t))return a.$$cvars[t]}return n||_(l.NameError,"uninitialized class variable "+t+" in "+e.$name()),r},l.append_features=function(e,t){var r=F(e),n=[];-1!==r.indexOf(t)&&_(l.ArgumentError,"cyclic include detected");for(var i=0,s=r.length;i<s;i++){var o=R(r[i]);b(o,"$$included",!0),n.push(o)}var a,u,c=F(t),h=C(n);if(-1===c.indexOf(e))a=t.$$prototype,u=Object.getPrototypeOf(t.$$prototype);else{for(var f=t.$$prototype,p=Object.getPrototypeOf(f);null!=p&&!(p.$$module===e&&q(p));)f=p,p=Object.getPrototypeOf(p);if(p){for(var g=Object.getPrototypeOf(p);g.hasOwnProperty("$$iclass")&&!q(g);)g=Object.getPrototypeOf(g);a=f,u=g}else a=t.$$prototype,u=Object.getPrototypeOf(t.$$prototype)}d(a,h.first),d(h.last,u),t.$$own_included_modules=function e(t){for(var r,n=[],i=Object.getPrototypeOf(t.$$prototype);i&&!i.hasOwnProperty("$$class");)(r=N(i))&&n.push(r),i=Object.getPrototypeOf(i);return n}(t),l.const_cache_version++},l.prepend_features=function(e,t){var r=F(e),n=[];-1!==r.indexOf(t)&&_(l.ArgumentError,"cyclic prepend detected");for(var i=0,s=r.length;i<s;i++){var o=R(r[i]);b(o,"$$prepended",!0),n.push(o)}var a,u,c,h=C(n),f=t.$$prototype,p=Object.getPrototypeOf(f);if(f.hasOwnProperty("$$dummy")?a=f.$$define_methods_on:(a=T(t),function e(t){for(var r=t.$$prototype,n=Object.getOwnPropertyNames(r),i=0;i<n.length;i++){var s=n[i];l.is_method(s)&&delete r[s]}}(t),b(f,"$$dummy",!0),b(f,"$$define_methods_on",a),d(f,a),d(a,p)),-1===F(t).indexOf(e))for(u=f,c=Object.getPrototypeOf(f);null!=c&&!c.hasOwnProperty("$$root")&&c!==a&&c.hasOwnProperty("$$iclass");)c=Object.getPrototypeOf(c);else _(l.RuntimeError,"Prepending a module multiple times is not supported");d(u,h.first),d(h.last,c),t.$$own_prepended_modules=function e(t){var r,n=[],i=Object.getPrototypeOf(t.$$prototype);if(t.$$prototype.hasOwnProperty("$$dummy"))for(;i&&i!==t.$$prototype.$$define_methods_on;)(r=N(i))&&n.push(r),i=Object.getPrototypeOf(i);return n}(t),l.const_cache_version++},l.bridge=function(e,t){e.hasOwnProperty("$$bridge")&&_(l.ArgumentError,"already bridged"),b(e,"$$bridge",t),d(e.prototype,(t.$$super||l.Object).$$prototype),b(t,"$$prototype",e.prototype),b(t.$$prototype,"$$class",t),b(t,"$$constructor",e),b(t,"$$bridge",!0)},l.ancestors=F,l.included_modules=function(e){for(var t=[],r=null,n=Object.getPrototypeOf(e.$$prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(r=N(n))&&r.$$is_module&&n.$$iclass&&n.$$included&&t.push(r);return t},l.add_stubs=function(e){var t,r,n=l.BasicObject.$$prototype;e=e.split(",");for(var i=0,s=e.length;i<s;i++)(null==(r=n[t=D(e[i])])||r.$$stub)&&l.add_stub_for(n,t)},l.add_stub_for=function(e,t){b(e,t,l.stub_for(t))},l.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var r=Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[e.slice(1)].concat(r))}return t.$$stub=!0,t},l.ac=function(e,t,r,n){var i="";r.$$is_a_module?i+=r.$$name+".":i+=r.$$class.$$name+"#",i+=n,_(l.ArgumentError,"["+i+"] wrong number of arguments (given "+e+", expected "+t+")")},l.block_ac=function(e,t,r){_(l.ArgumentError,"`block in "+r+"': wrong number of arguments (given "+e+", expected "+t+")")},l.find_super=function(e,t,r,n,i){for(var s,o,a=D(t),u=(s=j(e)).indexOf(r.$$owner),c=u+1;c<s.length;c++){var h=s[c].$$prototype;if(h.hasOwnProperty("$$dummy")&&(h=h.$$define_methods_on),h.hasOwnProperty(a)){o=h[a];break}}return!n&&o&&o.$$stub&&e.$method_missing.$$pristine&&_(l.NoMethodError,"super: no superclass method `"+t+"' for "+e,t),o.$$stub&&!i?null:o},l.find_block_super=function(e,t,r,n,i){var s=t;return r||_(l.RuntimeError,"super called outside of method"),i&&r.$$define_meth&&_(l.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),r.$$def&&(s=r.$$jsid),l.find_super(e,s,r,n)},l.find_super_dispatcher=l.find_super,l.find_iter_super_dispatcher=l.find_block_super,l.yield1=function(e,t){"function"!=typeof e&&_(l.LocalJumpError,"no block given");var r=e.$$has_top_level_mlhs_arg,n=e.$$has_trailing_comma_in_args;return((e.length>1||(r||n)&&1===e.length)&&(t=l.to_ary(t)),(e.length>1||n&&1===e.length)&&t.$$is_array)?e.apply(null,t):e(t)},l.yieldX=function(e,t){if("function"!=typeof e&&_(l.LocalJumpError,"no block given"),e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var r=Array(t.length),n=0,i=r.length;n<i;n++)r[n]=t[n];return e.apply(null,r)}return e.apply(null,t)},l.rescue=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.$$is_array){var i=l.rescue(e,n);if(i)return i}else if(n===l.JS.Error||n["$==="](e))return n}return null},l.is_a=function(e,t){return null!=t&&e.$$meta===t||e.$$class===t||(e.$$is_number&&t.$$is_number_class?!t.$$is_integer_class||e%1==0:-1!==F(e.$$is_class?l.get_singleton_class(e):e.$$meta||e.$$class).indexOf(t))},l.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;_(l.TypeError,"Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}else _(l.TypeError,"no implicit conversion of "+e.$$class+" into Hash")},l.to_ary=function(e){if(e.$$is_array)return e;if(!e["$respond_to?"]("to_ary",!0))return[e];var t=e.$to_ary();return t===r?[e]:t.$$is_array?t:void _(l.TypeError,"Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")},l.to_a=function(e){if(e.$$is_array)return e.slice();if(!e["$respond_to?"]("to_a",!0))return[e];var t=e.$to_a();return t===r?[e]:t.$$is_array?t:void _(l.TypeError,"Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")},l.extract_kwargs=function(e){var t=e[e.length-1];if(null!=t&&l.respond_to(t,"$to_hash",!0))return g(e,e.length-1),t},l.kwrestargs=function(e,t){var r,n=[],i={},s=e.$$smap;for(r in s)t[r]||(n.push(r),i[r]=s[r]);return l.hash2(n,i)};var P={};function D(e){return P[e]||(P[e]="$"+e)}function B(e){return"function"==typeof e&&!e.$$stub}l.jsid=D,l.send=function(e,t,r,n,i){var s;return"function"==typeof t?(s=t,t=null):"string"==typeof t?s=e[D(t)]:_(l.NameError,"Passed method should be a string or a function"),l.send2(e,s,t,r,n,i)},l.send2=function(e,t,r,n,i,s){return null==t&&null!=r&&e.$method_missing&&(t=e.$method_missing,n=[r].concat(n)),M(i,s),"function"==typeof i&&(t.$$p=i),t.apply(e,n)},l.refined_send=function(e,t,r,n,i,s){var o,a,u,c,h,f,d,p,g,m;for(o=0,c=j(t);o<c.length;o++)for(a=0,h=l.id(c[o]);a<e.length;a++)for(u=(f=e[a]).length-1;u>=0;u--)if(void 0!==(d=f[u]).$$refine_modules&&void 0!==(p=d.$$refine_modules)[h]&&void 0!==(g=p[h]).$$prototype[D(r)])return m=g.$$prototype[D(r)],l.send2(t,m,r,n,i,s);return l.send(t,r,n,i,s)},l.lambda=function(e,t){return e.$$is_lambda=!0,M(e,t),e},l.def=function(e,t,r,n){return(M(r,n),e===l.top)?l.defn(l.Object,t,r):!e.$$eval&&e.$$is_a_module?l.defn(e,t,r):l.defs(e,t,r)},l.defn=function(e,t,r){U(e),r.displayName=t,r.$$owner=e;var n=t.substr(1),i=e.$$prototype;if(i.hasOwnProperty("$$dummy")&&(i=i.$$define_methods_on),b(i,t,r),e.$$is_module){e.$$module_function&&l.defs(e,t,r);for(var s=0,o=e.$$iclasses,a=o.length;s<a;s++)b(o[s],t,r)}var u=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||u?u&&u.$singleton_method_added&&!u.$singleton_method_added.$$stub&&u.$singleton_method_added(n):e.$method_added(n),n},l.defs=function(e,t,r,n){return M(r,n),(e.$$is_string||e.$$is_number)&&_(l.TypeError,"can't define singleton"),l.defn(l.get_singleton_class(e),t,r)},l.rdef=function(e,t){f(e.$$prototype,t)||_(l.NameError,"method '"+t.substr(1)+"' not defined in "+e.$name()),delete e.$$prototype[t],e.$$is_singleton?e.$$prototype.$singleton_method_removed&&!e.$$prototype.$singleton_method_removed.$$stub&&e.$$prototype.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},l.udef=function(e,t){(!e.$$prototype[t]||e.$$prototype[t].$$stub)&&_(l.NameError,"method '"+t.substr(1)+"' not defined in "+e.$name()),l.add_stub_for(e.$$prototype,t),e.$$is_singleton?e.$$prototype.$singleton_method_undefined&&!e.$$prototype.$singleton_method_undefined.$$stub&&e.$$prototype.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},l.alias=function(e,t,r){var n,i,s=D(t),o=D(r);if(void 0===e.$$prototype&&(e=l.Object),n=e.$$prototype[o],e.$$eval)return l.alias(l.get_singleton_class(e),t,r);if(!B(n)){for(var a=e.$$super;"function"!=typeof n&&a;)n=a[o],a=a.$$super;!B(n)&&e.$$is_module&&(n=l.Object.$$prototype[o]),B(n)||_(l.NameError,"undefined method `"+r+"' for class `"+e.$name()+"'")}n.$$alias_of&&(n=n.$$alias_of),i=function(){var e,t,r,s=i.$$p;for(t=0,e=Array(arguments.length),r=arguments.length;t<r;t++)e[t]=arguments[t];return i.$$p=null,l.send(this,n,e,s)};try{Object.defineProperty(i,"length",{value:n.length})}catch(u){}return i.displayName=t,i.$$arity=null==n.$$arity?n.length:n.$$arity,i.$$parameters=n.$$parameters,i.$$source_location=n.$$source_location,i.$$alias_of=n,i.$$alias_name=t,l.defn(e,s,i),e},l.alias_gvar=function(e,t){return Object.defineProperty(v,e,{configurable:!0,enumerable:!0,get:function(){return v[t]},set:function(e){v[t]=e}}),r},l.alias_native=function(e,t,r){var n=D(t),i=e.$$prototype[r];return("function"!=typeof i||i.$$stub)&&_(l.NameError,"undefined native method `"+r+"' for class `"+e.$name()+"'"),l.defn(e,n,i),e},l.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},l.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var r,n,i=0,s=e.$$keys,o=e.$$smap,a=s.length;i<a;i++)(r=s[i]).$$is_string?n=o[r]:(n=r.value,r=r.key),l.hash_put(t,r,n)},l.hash_put=function(e,t,r){var n,i,s;if(t.$$is_string){f(e.$$smap,t)||e.$$keys.push(t),e.$$smap[t]=r;return}if(n=e.$$by_identity?l.id(t):t.$hash(),!f(e.$$map,n)){i={key:t,key_hash:n,value:r},e.$$keys.push(i),e.$$map[n]=i;return}for(i=e.$$map[n];i;){if(t===i.key||t["$eql?"](i.key)){s=void 0,i.value=r;break}s=i,i=i.next}s&&(i={key:t,key_hash:n,value:r},e.$$keys.push(i),s.next=i)},l.hash_get=function(e,t){var r,n;if(t.$$is_string)return f(e.$$smap,t)?e.$$smap[t]:void 0;if(r=e.$$by_identity?l.id(t):t.$hash(),f(e.$$map,r))for(n=e.$$map[r];n;){if(t===n.key||t["$eql?"](n.key))return n.value;n=n.next}},l.hash_delete=function(e,t){var r,n,i,s=e.$$keys,o=s.length;if(t.$$is_string){if("string"!=typeof t&&(t=t.valueOf()),!f(e.$$smap,t))return;for(r=0;r<o;r++)if((i=s[r]).$$is_string&&"string"!=typeof i&&(i=i.valueOf()),i===t){s.splice(r,1);break}return n=e.$$smap[t],delete e.$$smap[t],n}var a=t.$hash();if(f(e.$$map,a))for(var u,l=e.$$map[a];l;){if(t===l.key||t["$eql?"](l.key)){for(r=0,n=l.value;r<o;r++)if(s[r]===l){s.splice(r,1);break}return u&&l.next?u.next=l.next:u?delete u.next:l.next?e.$$map[a]=l.next:delete e.$$map[a],n}u=l,l=l.next}},l.hash_rehash=function(e){for(var t,r,n,i=0,s=e.$$keys.length;i<s;i++)if(!e.$$keys[i].$$is_string&&(t=e.$$keys[i].key.$hash())!==e.$$keys[i].key_hash){for(r=e.$$map[e.$$keys[i].key_hash],n=void 0;r;){if(r===e.$$keys[i]){n&&r.next?n.next=r.next:n?delete n.next:r.next?e.$$map[e.$$keys[i].key_hash]=r.next:delete e.$$map[e.$$keys[i].key_hash];break}n=r,r=r.next}if(e.$$keys[i].key_hash=t,!f(e.$$map,t)){e.$$map[t]=e.$$keys[i];continue}for(r=e.$$map[t],n=void 0;r;){if(r===e.$$keys[i]){n=void 0;break}n=r,r=r.next}n&&(n.next=e.$$keys[i])}},l.hash=function(){var e,t,r,n,i,s,o=arguments.length;if(1===o&&arguments[0].$$is_hash)return arguments[0];if(t=new l.Hash,l.hash_init(t),1===o){if(e=arguments[0],arguments[0].$$is_array){for(r=0,n=e.length;r<n;r++)2!==e[r].length&&_(l.ArgumentError,"value not of length 2: "+e[r].$inspect()),i=e[r][0],s=e[r][1],l.hash_put(t,i,s);return t}for(i in e=arguments[0])f(e,i)&&(s=e[i],l.hash_put(t,i,s));return t}for(o%2!=0&&_(l.ArgumentError,"odd number of arguments for Hash"),r=0;r<o;r+=2)i=arguments[r],s=arguments[r+1],l.hash_put(t,i,s);return t},l.hash2=function(e,t){var r=new l.Hash;return r.$$smap=t,r.$$map=Object.create(null),r.$$keys=e,r},l.range=function(e,t,r){var n=new l.Range;return n.begin=e,n.end=t,n.excl=r,n};var L=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];function U(e){e.$$frozen&&_(l.FrozenError,"can't modify frozen "+e.$class()+": "+e,l.hash2(["receiver"],{receiver:e}))}function K(e,t){return"number"==typeof e&&"number"==typeof t}function G(e,t){return"number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t}function Y(e){return function(){return e}}function H(){var e=p(arguments),t=H.$$p;return H.$$p=null,l.send(i,"define_method",e,t)}l.ivar=function(e){return -1!==L.indexOf(e)&&(e+="$"),e},l.deny_frozen_access=U,l.freeze=function(e){return b(e,"$$frozen",!0),e.hasOwnProperty("$$id")||b(e,"$$id",$()),e.hasOwnProperty("$$meta")?e.$$meta.$freeze():b(e,"$$meta",null),e.hasOwnProperty("$$comparable")||b(e,"$$comparable",null),Object.seal(e),e},l.freeze_props=function(e){var t,r,n;for(t in e)("string"!=(r=typeof t)&&"object"!==r||"$"!==t[0])&&(n=Object.getOwnPropertyDescriptor(e,t))&&n.enumerable&&n.writable&&function(){var r=e[t];Object.defineProperty(e,t,{get:function(){return r},set:function(t){U(e)},enumerable:!0})}()},l.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},l.global_regexp=function(e){return e.global?e:(null==e.$$g?e.$$g=RegExp(e.source,(e.multiline?"gm":"g")+(e.ignoreCase?"i":"")):e.$$g.lastIndex=null,e.$$g)},l.global_multiline_regexp=function(e){var t,r;return e.global&&e.multiline?e:(r="gm"+(e.ignoreCase?"i":""),e.multiline?(null==e.$$g&&(e.$$g=RegExp(e.source,r)),t=e.$$g):(null==e.$$gm&&(e.$$gm=RegExp(e.source,r)),t=e.$$gm),t.lastIndex=null,t)},l.regexp=function(e,t){for(var r,n=void 0!==t&&t&&t.indexOf("i")>=0,i=0,s=e.length;i<s;i++)(r=e[i])instanceof RegExp&&(r.ignoreCase!==n&&l.Kernel.$warn("ignore case doesn't match for "+r.source.$inspect(),l.hash({uplevel:1})),r=r.source),""===r&&(r="(?:"+r+")"),e[i]=r;return t?RegExp(e.join(""),t):RegExp(e.join(""))},l.modules={},l.loaded_features=["corelib/runtime"],l.current_dir=".",l.require_table={"corelib/runtime":!0},l.normalize=function(e){var t,r,n=[];"."!==l.current_dir&&(e=l.current_dir.replace(/\/*$/,"/")+e),t=(e=(e=e.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/");for(var i=0,s=t.length;i<s;i++)""!==(r=t[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},l.loaded=function(e){var t,r,n;for(t=0,r=e.length;t<r;t++)n=l.normalize(e[t]),!l.require_table[n]&&(l.loaded_features.push(n),l.require_table[n]=!0)},l.load_normalized=function(e){l.loaded([e]);var r=l.modules[e];if(r){var n=r(l);if("undefined"!=typeof Promise&&n instanceof Promise)return n.then(Y(!0))}else{var i=l.config.missing_require_severity,s="cannot load such file -- "+e;"error"===i?_(l.LoadError,s):"warning"===i&&t.warn("WARNING: LoadError: "+s)}return!0},l.load=function(e){return e=l.normalize(e),l.load_normalized(e)},l.require=function(e){return e=l.normalize(e),!l.require_table[e]&&l.load_normalized(e)},l.encodings=Object.create(null),l.set_encoding=function(e,t,r){void 0===r&&(r="encoding"),("string"==typeof e||!0===e.$$frozen)&&_(l.FrozenError,"can't modify frozen String");var n=l.find_encoding(t);return n===e[r]||(e[r]=n),e},l.find_encoding=function(e){var t=l.encodings,r=t[e]||t[e.toUpperCase()];return r||_(l.ArgumentError,"unknown encoding name - "+e),r},l.enc=function(e,t){var r=new String(e);return(r=l.set_encoding(r,t)).internal_encoding=r.encoding,r},l.binary=function(e){var t=new String(e);return l.set_encoding(t,"binary","internal_encoding")},l.last_promise=null,l.promise_unhandled_exception=!1,l.queue=function(e){if(l.last_promise)return l.last_promise=l.last_promise.then(function(){if(!l.promise_unhandled_exception)return e(l)}).catch(function(e){l.respond_to(e,"$full_message")&&(e=e.$full_message()),t.error(e),l.promise_unhandled_exception=!0,l.exit(1)}),l.last_promise;var r=e(l);return"function"==typeof Promise&&"object"==typeof r&&r instanceof Promise&&(l.last_promise=r),r},l.rb_plus=function(e,t){return K(e,t)?e+t:e["$+"](t)},l.rb_minus=function(e,t){return K(e,t)?e-t:e["$-"](t)},l.rb_times=function(e,t){return K(e,t)?e*t:e["$*"](t)},l.rb_divide=function(e,t){return K(e,t)?e/t:e["$/"](t)},l.rb_lt=function(e,t){return K(e,t)?e<t:e["$<"](t)},l.rb_gt=function(e,t){return K(e,t)?e>t:e["$>"](t)},l.rb_le=function(e,t){return K(e,t)?e<=t:e["$<="](t)},l.rb_ge=function(e,t){return K(e,t)?e>=t:e["$>="](t)},l.eqeq=function e(t,r){return G(t,r)?t===r:y(t["$=="](r))},l.eqeqeq=function(e,t){return G(e,t)?e===t:y(e["$==="](t))},l.neqeq=function(e,t){return G(e,t)?e!==t:y(e["$!="](t))},l.not=function(e){return null==e||!1===e||r===e||!0!==e&&!e["$!"].$$pristine&&y(e["$!"]())},l.return_val=Y,l.return_self=function(){return this},l.return_ivar=function(e){return function(){return null==this[e]?r:this[e]}},l.assign_ivar=function(e){return function(t){return U(this),this[e]=t}},l.assign_ivar_val=function(e,t){return function(){return U(this),this[e]=t}},l.ensure_kwargs=function(e){return null==e?l.hash2([],{}):e.$$is_hash?e:void _(l.ArgumentError,"expected kwargs")},l.get_kwarg=function(e,t){return f(e.$$smap,t)||_(l.ArgumentError,"missing keyword: "+t),e.$$smap[t]},l.large_array_unpack=function(e){var t,n=e.split(","),i=n.length;for(t=0;t<i;t++)switch(n[t][0]){case void 0:n[t]=r;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n[t]=+n[t]}return n},l.BasicObject=n=I("BasicObject",null),l.Object=i=I("Object",l.BasicObject),l.Module=s=I("Module",l.Object),l.Class=o=I("Class",l.Module),l.Opal=a=S("Opal"),l.Kernel=u=S("Kernel"),d(l.BasicObject,l.Class.$$prototype),d(l.Object,l.Class.$$prototype),d(l.Module,l.Class.$$prototype),d(l.Class,l.Class.$$prototype),n.$$const.BasicObject=n,z(i,"BasicObject",n),z(i,"Object",i),z(i,"Module",s),z(i,"Class",o),z(i,"Opal",a),z(i,"Kernel",u),n.$$class=o,i.$$class=o,s.$$class=o,o.$$class=o,a.$$class=s,u.$$class=s,b(i.$$prototype,"toString",function(){var e=this.$to_s();return e.$$is_string&&"object"==typeof e?e.valueOf():e}),b(i.$$prototype,"$require",l.require),l.top=new i,l.top.$to_s=l.top.$inspect=Y("main"),l.top.$define_method=H,l.NilClass=I("NilClass",l.Object),z(i,"NilClass",l.NilClass),(r=l.nil=new l.NilClass).$$id=4,r.call=r.apply=function(){_(l.LocalJumpError,"no block given")},r.$$frozen=!0,r.$$comparable=!1,Object.seal(r),l.thrower=function(e){var t=Error("unexpected "+e);return t.$thrower_type=e,t.$throw=function(e){throw null==e&&(e=r),t.$v=e,t},t},l.t_eval_return=l.thrower("return"),TypeError.$$super=Error,l.file_sources={}}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(e){var t,r,n=e.type_error,i=e.coerce_to,s=e.module,o=e.defs,a=e.slice,u=e.eqeqeq,l=e.Kernel,c=e.truthy,h=e.Opal,f=e.nil,d=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),o(t=s("::","Opal"),"$bridge",function t(r,n){return e.bridge(r,n)}),o(t,"$coerce_to!",function e(t,r,s,o){var c,h,d=f;return c=a(arguments,3),d=i(t,r,s,h=c),u(r,d)||l.$raise(n(t,r,s,d)),d},-4),o(t,"$coerce_to?",function e(t,r,s,o){var h,d,p=f;return(h=a(arguments,3),d=h,!c(t["$respond_to?"](s))||c((p=i(t,r,s,d))["$nil?"]()))?f:(u(r,p)||l.$raise(n(t,r,s,p)),p)},-4),o(t,"$try_convert",function e(t,r,n){return u(r,t)?t:c(t["$respond_to?"](n))?t.$__send__(n):f}),o(t,"$compare",function e(t,r){var n=f;return c((n=t["$<=>"](r))===f)&&l.$raise(d("ArgumentError"),"comparison of "+t.$class()+" with "+r.$class()+" failed"),n}),o(t,"$destructure",function e(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var r=Array(t.length),n=0,i=r.length;n<i;n++)r[n]=t[n];return r}),o(t,"$respond_to?",function e(t,r,n){return null==n&&(n=!1),null!=t&&!!t.$$class&&t["$respond_to?"](r,n)},-3),o(t,"$instance_variable_name!",function e(t){return t=h["$coerce_to!"](t,d("String"),"to_str"),c(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||l.$raise(d("NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t}),o(t,"$class_variable_name!",function e(t){return c((t=h["$coerce_to!"](t,d("String"),"to_str")).length<3||"@@"!==t.slice(0,2))&&l.$raise(d("NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t}),o(t,"$const_name?",function e(t){return"string"!=typeof t&&(t=h["$coerce_to!"](t,d("String"),"to_str")),t[0]===t[0].toUpperCase()}),o(t,"$const_name!",function e(t){var r;return c((r=d("::","String","skip_raise"))?"constant":f)&&(t=h["$coerce_to!"](t,d("String"),"to_str")),t&&t[0]==t[0].toUpperCase()||this.$raise(d("NameError"),"wrong constant name "+t),t}),o(t,"$pristine",function t(r,n){i=a(arguments,1),s=i;for(var i,s,o,u,l=s.length-1;l>=0;l--)o=s[l],(u=r.$$prototype[e.jsid(o)])&&!u.$$stub&&(u.$$pristine=!0);return f},-2),r=[],o(t,"$inspect",function t(n){var i=f,s=!1;return function(){try{try{if(null===n)return"null";if(void 0===n)return"undefined";if(void 0===n.$$class)return Object.prototype.toString.apply(n);else if("function"!=typeof n.$inspect||n.$inspect.$$stub)return"#<"+n.$$class+":0x"+n.$__id__().$to_s(16)+">";else if(-1!==r.indexOf(n.$__id__()))return"#<"+n.$$class+":0x"+n.$__id__().$to_s(16)+">";else return r.push(n.$__id__()),s=!0,n.$inspect()}catch(t){if(e.rescue(t,[d("Exception")])){i=t;try{return"#<"+n.$$class+":0x"+n.$__id__().$to_s(16)+">"}finally{e.pop_exception()}}else throw t}}finally{s&&r.pop()}}()},-1)},Opal.modules["corelib/module"]=function(e){var t,r,n,i,s,o,a,u=e.truthy,l=e.coerce_to,c=e.const_set,h=e.Object,f=e.return_ivar,d=e.assign_ivar,p=e.ivar,g=e.deny_frozen_access,m=e.freeze,$=e.prop,v=e.jsid,_=e.klass,b=e.defs,y=e.send,w=e.def,E=e.eqeqeq,x=e.Module,k=e.Kernel,A=e.rb_lt,z=e.rb_gt,I=e.slice,S=e.to_a,O=e.hash2,q=e.Opal,R=e.return_val,T=e.eqeq,C=e.lambda,N=e.range,F=e.send2,j=e.find_super,M=e.alias,P=e.nil,D=e.$$$;return e.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),t=[],n=[r=_("::",null,"Module")].concat(t),i=e.$r(n),b(r,"$allocate",function t(){var r=e.allocate_module(P,function(){});return this!==e.Module&&Object.setPrototypeOf(r,this.$$prototype),r}),w(r,"$initialize",function e(){var t=e.$$p||P;return(e.$$p=null,t!==P)?y(this,"module_eval",[],t.$to_proc()):P}),w(r,"$===",function t(r){return!u(null==r)&&e.is_a(r,this)}),w(r,"$<",function t(r){var n,i,s;if(E(x,r)||k.$raise(D("TypeError"),"compared with non class/module"),this===r)return!1;for(i=0,s=(n=e.ancestors(this)).length;i<s;i++)if(n[i]===r)return!0;for(i=0,s=(n=e.ancestors(r)).length;i<s;i++)if(n[i]===this)return!1;return P}),w(r,"$<=",function e(t){var r=P;return u(r=this["$equal?"](t))?r:A(this,t)}),w(r,"$>",function e(t){return E(x,t)||k.$raise(D("TypeError"),"compared with non class/module"),A(t,this)}),w(r,"$>=",function e(t){var r=P;return u(r=this["$equal?"](t))?r:z(this,t)}),w(r,"$<=>",function e(t){var r=P;return this===t?0:!E(x,t)||u((r=A(this,t))["$nil?"]())?P:u(r)?-1:1}),w(r,"$alias_method",function t(r,n){return g(this),r=l(r,D("String"),"to_str"),n=l(n,D("String"),"to_str"),e.alias(this,r,n),this}),w(r,"$alias_native",function t(r,n){return null==n&&(n=r),g(this),e.alias_native(this,r,n),this},-2),w(r,"$ancestors",function t(){return e.ancestors(this)}),w(r,"$append_features",function t(r){return g(r),e.append_features(this,r),this}),w(r,"$attr_accessor",function e(t){var r,n;return r=I(arguments),y(this,"attr_reader",S(n=r)),y(this,"attr_writer",S(n))},-1),w(r,"$attr",function e(t){var r,n;return(r=I(arguments),2==(n=r).length&&(!0===n[1]||!1===n[1]))?(this.$warn("optional boolean argument is obsoleted",O(["uplevel"],{uplevel:1})),n[1]?this.$attr_accessor(n[0]):this.$attr_reader(n[0]),P):y(this,"attr_reader",S(n))},-1),w(r,"$attr_reader",function t(r){n=I(arguments),i=n,g(this);for(var n,i,s=this.$$prototype,o=i.length-1;o>=0;o--){var a=i[o],u=v(a),l=p(a),c=f(l);e.prop(s,l,P),c.$$parameters=[],c.$$arity=0,e.defn(this,u,c)}return P},-1),w(r,"$attr_writer",function t(r){n=I(arguments),i=n,g(this);for(var n,i,s=this.$$prototype,o=i.length-1;o>=0;o--){var a=i[o],u=v(a+"="),l=p(a),c=d(l);c.$$parameters=[["req"]],c.$$arity=1,e.prop(s,l,P),e.defn(this,u,c)}return P},-1),w(r,"$autoload",function t(r,n){var s=this;return g(s),i("Opal")["$const_name?"](r)||k.$raise(D("NameError"),"autoload must be constant name: "+r),""==n&&k.$raise(D("ArgumentError"),"empty file name"),s.$$const.hasOwnProperty(r)||(s.$$autoload||(s.$$autoload={}),e.const_cache_version++,s.$$autoload[r]={path:n,loaded:!1,required:!1,success:!1,exception:!1},s.$const_added&&!s.$const_added.$$pristine&&s.$const_added(r)),P}),w(r,"$autoload?",function e(t){if(this.$$autoload&&this.$$autoload[t]&&!this.$$autoload[t].required&&!this.$$autoload[t].success)return this.$$autoload[t].path;for(var r=this.$ancestors(),n=0,i=r.length;n<i;n++)if(r[n].$$autoload&&r[n].$$autoload[t]&&!r[n].$$autoload[t].required&&!r[n].$$autoload[t].success)return r[n].$$autoload[t].path;return P}),w(r,"$class_variables",function t(){return Object.keys(e.class_variables(this))}),w(r,"$class_variable_get",function t(r){return r=q["$class_variable_name!"](r),e.class_variable_get(this,r,!1)}),w(r,"$class_variable_set",function t(r,n){return g(this),r=q["$class_variable_name!"](r),e.class_variable_set(this,r,n)}),w(r,"$class_variable_defined?",function t(r){return r=q["$class_variable_name!"](r),e.class_variables(this).hasOwnProperty(r)}),w(r,"$const_added",R(P)),q.$pristine(r,"const_added"),w(r,"$remove_class_variable",function t(r){if(g(this),r=q["$class_variable_name!"](r),e.hasOwnProperty.call(this.$$cvars,r)){var n=this.$$cvars[r];return delete this.$$cvars[r],n}k.$raise(D("NameError"),"cannot remove "+r+" for "+this)}),w(r,"$constants",function t(r){return null==r&&(r=!0),e.constants(this,r)},-1),b(r,"$constants",function t(r){if(null!=r)return e.constants(this,r);var n,i,s,o=(this.$$nesting||[]).concat(h),a={};for(i=0,s=o.length;i<s;i++)for(n in o[i].$$const)a[n]=!0;return Object.keys(a)},-1),b(r,"$nesting",function e(){return this.$$nesting||[]}),w(r,"$const_defined?",function t(r,n){null==n&&(n=!0),u((r=i("Opal")["$const_name!"](r))["$=~"](D(q,"CONST_NAME_REGEXP")))||k.$raise(D("NameError").$new("wrong constant name "+r,r));var s,o,a,l=[this];for(n&&(l=l.concat(e.ancestors(this)),this.$$is_module&&(l=l.concat([h]).concat(e.ancestors(h)))),o=0,a=l.length;o<a;o++)if(null!=(s=l[o]).$$const[r]||s.$$autoload&&s.$$autoload[r]&&!s.$$autoload[r].required&&!s.$$autoload[r].success)return!0;return!1},-2),w(r,"$const_get",function t(r,n){return(null==n&&(n=!0),0===(r=i("Opal")["$const_name!"](r)).indexOf("::")&&"::"!==r&&(r=r.slice(2)),u(-1!=r.indexOf("::")&&"::"!=r))?y(r.$split("::"),"inject",[this],function e(t,r){return null==t&&(t=P),null==r&&(r=P),t.$const_get(r)}):(u(r["$=~"](D(q,"CONST_NAME_REGEXP")))||k.$raise(D("NameError").$new("wrong constant name "+r,r)),n)?e.$$([this],r):e.const_get_local(this,r)},-2),w(r,"$const_missing",function e(t){var r=P;return r=T(this,h)?t:""+this+"::"+t,k.$raise(D("NameError").$new("uninitialized constant "+r,t))}),w(r,"$const_set",function e(t,r){return g(this),(u((t=q["$const_name!"](t))["$!~"](D(q,"CONST_NAME_REGEXP")))||u(t["$start_with?"]("::")))&&k.$raise(D("NameError").$new("wrong constant name "+t,t)),c(this,t,r),r}),w(r,"$public_constant",R(P)),w(r,"$define_method",function t(r,n){var i=t.$$p||P,s=P,o=P;return t.$$p=null,g(this),void 0===n&&i===P&&k.$raise(D("ArgumentError"),"tried to create a Proc object without a block"),i=u(s=i)?s:E(D("Proc"),o=n)?n:E(D("Method"),o)?n.$to_proc().$$unbound:E(D("UnboundMethod"),o)?C(function e(t){var r,i,s=null==e.$$s?this:e.$$s,o=P;return r=I(arguments),i=r,y(o=n.$bind(s),"call",S(i))},{$$arity:-1,$$s:this}):k.$raise(D("TypeError"),"wrong argument type "+i.$class()+" (expected Proc/Method)"),"undefined"!=typeof Proxy&&(Object.create(null),i.$$proxy_target=i,i=new Proxy(i,{apply:function(e,t,n){var i=e.$$jsid;e.$$jsid=r;try{return e.apply(t,n)}catch(s){if(s===e.$$brk||s===e.$$ret)return s.$v;throw s}finally{e.$$jsid=i}}})),i.$$jsid=r,i.$$s=null,i.$$def=i,i.$$define_meth=!0,e.defn(this,v(r),i)},-2),w(r,"$freeze",function e(){return u(this["$frozen?"]())?this:(this.hasOwnProperty("$$base_module")||$(this,"$$base_module",null),m(this))}),w(r,"$remove_method",function t(r){var n,i;n=I(arguments),i=n;for(var s=0;s<i.length;s++){var o=i[s];"string"==typeof o||o.$$is_string||this.$raise(D("TypeError"),""+this.$name()+" is not a symbol nor a string"),g(this),e.rdef(this,"$"+o)}return this},-1),w(r,"$singleton_class?",function e(){return!!this.$$is_singleton}),w(r,"$include",function e(t){var r,n;r=I(arguments),n=r;for(var i=n.length-1;i>=0;i--){var s=n[i];s.$$is_module||k.$raise(D("TypeError"),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features(this),s.$included(this)}return this},-1),w(r,"$included_modules",function t(){return e.included_modules(this)}),w(r,"$include?",function t(r){r.$$is_module||k.$raise(D("TypeError"),"wrong argument type "+r.$class()+" (expected Module)");var n,i,s,o=e.ancestors(this);for(n=0,i=o.length;n<i;n++)if((s=o[n])===r&&s!==this)return!0;return!1}),w(r,"$instance_method",function e(t){var r=this.$$prototype[v(t)];return(!r||r.$$stub)&&k.$raise(D("NameError").$new("undefined method `"+t+"' for class `"+this.$name()+"'",t)),D("UnboundMethod").$new(this,r.$$owner||this,r,t)}),w(r,"$instance_methods",function t(r){return(null==r&&(r=!0),u(r))?e.instance_methods(this):e.own_instance_methods(this)},-1),w(r,"$included",R(P)),w(r,"$extended",R(P)),w(r,"$extend_object",function e(t){return g(t),P}),w(r,"$method_added",function e(t){var r,n;return r=I(arguments),n=r,P},-1),w(r,"$method_removed",function e(t){var r,n;return r=I(arguments),n=r,P},-1),w(r,"$method_undefined",function e(t){var r,n;return r=I(arguments),n=r,P},-1),w(r,"$module_eval",function t(r){var n,i,s,o=t.$$p||P,a=P,l=P,c=P,h=P,f=P,d=P,p=P;t.$$p=null,n=I(arguments),i=n,u(o["$nil?"]())&&u(!!e.compile)?(u(N(1,3,!1)["$cover?"](i.$size()))||k.$raise(D("ArgumentError"),"wrong number of arguments (0 for 1..3)"),a=null==(s=[].concat(S(i)))[0]?P:s[0],l=null==s[1]?P:s[1],c=null==s[2]?P:s[2],h=O(["file","eval"],{file:u(f=l)?f:"(eval)",eval:!0}),d=e.hash({arity_check:!1}).$merge(h),p=q.$compile(a,d),o=y(k,"proc",[],function t(){var r=null==t.$$s?this:t.$$s;return Function("Opal,self","return "+p)(e,r)},{$$s:this})):u(i["$any?"]())&&k.$raise(D("ArgumentError"),"wrong number of arguments ("+i.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var g,m=o.$$s;return o.$$s=null,g=o.apply(this,[this]),o.$$s=m,g},-1),w(r,"$module_exec",function e(t){var r,n,i=e.$$p||P;e.$$p=null,r=I(arguments),n=r,i===P&&k.$raise(D("LocalJumpError"),"no block given");var s,o=i.$$s;return i.$$s=null,s=i.apply(this,n),i.$$s=o,s},-1),w(r,"$method_defined?",function e(t){var r=this.$$prototype[v(t)];return!!r&&!r.$$stub}),w(r,"$module_function",function t(r){var n,i,s=this;if(n=I(arguments),i=n,g(s),0===i.length)return s.$$module_function=!0,P;for(var o=0,a=i.length;o<a;o++){var u=v(i[o]),l=s.$$prototype[u];e.defs(s,u,l)}return 1===i.length?i[0]:i},-1),w(r,"$name",function e(){var t=this;if(t.$$full_name)return t.$$full_name;for(var r=[],n=t;n;){if(n.$$name===P||null==n.$$name)return P;if(r.unshift(n.$$name),(n=n.$$base_module)===h)break}return 0===r.length?P:t.$$full_name=r.join("::")}),w(r,"$prepend",function e(t){var r,n;r=I(arguments),0===(n=r).length&&k.$raise(D("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var i=n.length-1;i>=0;i--){var s=n[i];s.$$is_module||k.$raise(D("TypeError"),"wrong argument type "+s.$class()+" (expected Module)"),s.$prepend_features(this),s.$prepended(this)}return this},-1),w(r,"$prepend_features",function t(r){return g(r),this.$$is_module||k.$raise(D("TypeError"),"wrong argument type "+this.$class()+" (expected Module)"),e.prepend_features(this,r),this}),w(r,"$prepended",R(P)),w(r,"$remove_const",function t(r){return g(this),e.const_remove(this,r)}),w(r,"$to_s",function t(){var r=P;return u(r=e.Module.$name.call(this))?r:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"}),w(r,"$undef_method",function t(r){var n,i;n=I(arguments),i=n;for(var s=0;s<i.length;s++){var o=i[s];"string"==typeof o||o.$$is_string||this.$raise(D("TypeError"),""+this.$name()+" is not a symbol nor a string"),g(this),e.udef(this,"$"+i[s])}return this},-1),w(r,"$instance_variables",function t(){var r=P;r=(e.Module.$$nesting=n,this.$constants());var i=[];for(var s in this)this.hasOwnProperty(s)&&"$"!==s.charAt(0)&&"constructor"!==s&&!r["$include?"](s)&&i.push("@"+s);return i}),w(r,"$dup",function e(){var t=e.$$p||P,r=P;return e.$$p=null,(r=F(this,j(this,"dup",e,!1,!0),"dup",[],t)).$copy_class_variables(this),r.$copy_constants(this),r}),w(r,"$copy_class_variables",function e(t){var r=this;for(var n in t.$$cvars)r.$$cvars[n]=t.$$cvars[n]}),w(r,"$copy_constants",function e(t){var r,n=t.$$const;for(r in n)c(this,r,n[r])}),w(r,"$refine",function t(r){var n,i=t.$$p||P,s=this,o=P,a=P,u=P;return t.$$p=null,o=(n=[s,P,P])[0],a=n[1],u=n[2],u=e.id(r),void 0===s.$$refine_modules&&(s.$$refine_modules=Object.create(null)),(a=void 0===s.$$refine_modules[u]?s.$$refine_modules[u]=D("Refinement").$new():s.$$refine_modules[u]).refinement_module=o,a.refined_class=r,y(a,"class_exec",[],i.$to_proc()),a}),w(r,"$refinements",function e(){var t=this.$$refine_modules,r=O([],{});if(void 0===t)return r;for(var n in t)r["$[]="](t[n].refined_class,t[n]);return r}),w(r,"$using",function e(t){return k.$raise("Module#using is not permitted in methods")}),M(r,"class_eval","module_eval"),M(r,"class_exec","module_exec"),M(r,"inspect","to_s"),(a=(o=_("::",s=x,"Refinement")).$$prototype).refinement_module=a.refined_class=P,o.$attr_reader("refined_class"),w(o,"$inspect",function e(){var t=e.$$p||P;return(e.$$p=null,u(this.refinement_module))?"#<refinement:"+this.refined_class.$inspect()+"@"+this.refinement_module.$inspect()+">":F(this,j(this,"inspect",e,!1,!0),"inspect",[],t)})},Opal.modules["corelib/class"]=function(e){var t,r,n,i,s=e.klass,o=e.send,a=e.defs,u=e.def,l=e.rb_plus,c=e.return_val,h=e.slice,f=e.send2,d=e.find_super,p=e.Kernel,g=e.alias,m=e.top,$=e.nil,v=e.$$$;return e.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),m.$require("corelib/module"),t=[],n=[r=s("::",null,"Class")].concat(t),i=e.$r(n),a(r,"$new",function t(r){var n=t.$$p||$;if(t.$$p=null,null==r&&(r=i("Object")),!r.$$is_class)throw e.TypeError.$new("superclass must be a Class");var s=e.allocate_class($,r);return r.$inherited(s),n!==$&&o(s,"class_eval",[],n.$to_proc()),s},-1),u(r,"$allocate",function t(){var r=new this.$$constructor;return r.$$id=e.uid(),r}),u(r,"$descendants",function e(){return l(this.$subclasses(),o(this.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),u(r,"$inherited",c($)),u(r,"$initialize_dup",function e(t){var r=this;r.$initialize_copy(t),r.$$name=null,r.$$full_name=null}),u(r,"$new",function t(r){var n,i,s=t.$$p||$;t.$$p=null,n=h(arguments),i=n;var o=this.$allocate();return e.send(o,o.$initialize,i,s),o},-1),u(r,"$subclasses",function e(){if("undefined"==typeof WeakRef)return this.$$subclasses;var t,r,n=[];for(t=0;t<this.$$subclasses.length;t++)void 0!==(r=this.$$subclasses[t].deref())&&n.push(r);return n}),u(r,"$superclass",function e(){return this.$$super||$}),u(r,"$to_s",function t(){t.$$p,t.$$p=null;var r=this.$$singleton_of;return r&&r.$$is_a_module?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+e.id(r).$to_s(16)+">>":f(this,d(this,"to_s",t,!1,!0),"to_s",[],null)}),u(r,"$attached_object",function e(){if(null!=this.$$singleton_of)return this.$$singleton_of;p.$raise(v("TypeError"),"`"+this+"' is not a singleton class")}),g(r,"inspect","to_s")},Opal.modules["corelib/basic_object"]=function(e){"use strict";var t,r=e.klass,n=e.slice,i=e.def,s=e.alias,o=e.return_val,a=e.Opal,u=e.truthy,l=e.range,c=e.Kernel,h=e.to_a,f=e.hash2,d=e.send,p=e.eqeq,g=e.rb_ge,m=e.nil,$=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),i(t=r("::",null,"BasicObject"),"$initialize",function e(t){var r,i;return r=n(arguments),i=r,m},-1),i(t,"$==",function e(t){return this===t}),i(t,"$eql?",function e(t){return this["$=="](t)}),s(t,"equal?","=="),i(t,"$__id__",function t(){return null!=this.$$id||e.prop(this,"$$id",e.uid()),this.$$id}),i(t,"$__send__",function t(r,i){var s,o,a=t.$$p||m,u=this;t.$$p=null,s=n(arguments,1),o=s,r.$$is_string||u.$raise($("TypeError"),""+u.$inspect()+" is not a symbol nor a string");var l=u[e.jsid(r)];return l?(a!==m&&(l.$$p=a),l.apply(u,o)):(a!==m&&(u.$method_missing.$$p=a),u.$method_missing.apply(u,[r].concat(o)))},-2),i(t,"$!",o(!1)),a.$pristine("!"),i(t,"$!=",function e(t){return this["$=="](t)["$!"]()}),i(t,"$instance_eval",function t(r){var i,s,o,v=t.$$p||m,_=this,b=m,y=m,w=m,E=m,x=m,k=m,A=m;if(t.$$p=null,i=n(arguments),s=i,u(v["$nil?"]())&&u(!!e.compile))u(l(1,3,!1)["$cover?"](s.$size()))||c.$raise($("ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=null==(o=[].concat(h(s)))[0]?m:o[0],y=null==o[1]?m:o[1],w=null==o[2]?m:o[2],E=f(["file","eval"],{file:u(x=y)?x:"(eval)",eval:!0}),k=e.hash({arity_check:!1}).$merge(E),A=a.$compile(b,k),v=d(c,"proc",[],function t(){var r=null==t.$$s?this:t.$$s;return Function("Opal,self","return "+A)(e,r)},{$$s:_});else{if(u(v["$nil?"]())&&u(g(s.$length(),1))&&p(s.$first()["$[]"](0),"@"))return _.$instance_variable_get(s.$first());u(s["$any?"]())&&c.$raise($("ArgumentError"),"wrong number of arguments ("+s.$size()+" for 0)")}var z,I=v.$$s;if(v.$$s=null,_.$$is_a_module){_.$$eval=!0;try{z=v.call(_,_)}finally{_.$$eval=!1}}else z=v.call(_,_);return v.$$s=I,z},-1),i(t,"$instance_exec",function e(t){var r,i,s=e.$$p||m,o=this;e.$$p=null,r=n(arguments),i=r,u(s)||c.$raise($("ArgumentError"),"no block given");var a,l=s.$$s;if(s.$$s=null,o.$$is_a_module){o.$$eval=!0;try{a=s.apply(o,i)}finally{o.$$eval=!1}}else a=s.apply(o,i);return s.$$s=l,a},-1),i(t,"$singleton_method_added",function e(t){var r,i;return r=n(arguments),i=r,m},-1),i(t,"$singleton_method_removed",function e(t){var r,i;return r=n(arguments),i=r,m},-1),i(t,"$singleton_method_undefined",function e(t){var r,i;return r=n(arguments),i=r,m},-1),i(t,"$method_missing",function e(t,r){e.$$p;var i,s,o=m;return e.$$p=null,i=n(arguments,1),s=i,o=a.$inspect(this),c.$raise($("NoMethodError").$new("undefined method `"+t+"' for "+o,t,s),m,c.$caller(1))},-2),a.$pristine(t,"method_missing"),i(t,"$respond_to_missing?",function e(t,r){return null==r&&(r=!1),!1},-2)},Opal.modules["corelib/kernel"]=function(e){"use strict";var t,r,n,i,s,o,a=e.truthy,u=e.coerce_to,l=e.respond_to,c=e.Opal,h=e.deny_frozen_access,f=e.freeze,d=e.freeze_props,p=e.jsid,g=e.module,m=e.return_val,$=e.def,v=e.Kernel,_=e.gvars,b=e.slice,y=e.send,w=e.to_a,E=e.ensure_kwargs,x=e.eqeq,k=e.hash2,A=e.rb_plus,z=e.eqeqeq,I=e.return_self,S=e.rb_le,O=e.extract_kwargs,q=e.rb_lt,R=e.Object,T=e.alias,C=e.klass,N=e.nil,F=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),t=[],n=[r=g("::","Kernel")].concat(t),i=e.$r(n),$(r,"$=~",m(!1)),$(r,"$!~",function e(t){return this["$=~"](t)["$!"]()}),$(r,"$===",function e(t){var r=N;return a(r=this.$object_id()["$=="](t.$object_id()))?r:this["$=="](t)}),$(r,"$<=>",function e(t){var r=this;r.$$comparable=!0;var n=r["$=="](t);return n&&n!==N?0:N}),$(r,"$method",function e(t){var r=this[p(t)];return(!r||r.$$stub)&&v.$raise(F("NameError").$new("undefined method `"+t+"' for class `"+this.$class()+"'",t)),F("Method").$new(this,r.$$owner||this.$class(),r,t)}),$(r,"$methods",function t(r){return(null==r&&(r=!0),a(r))?e.methods(this):e.own_methods(this)},-1),$(r,"$public_methods",function t(r){return(null==r&&(r=!0),a(r))?e.methods(this):e.receiver_methods(this)},-1),$(r,"$Array",function e(t){var r;return t===N?[]:t.$$is_array?t:(r=c["$coerce_to?"](t,F("Array"),"to_ary"))!==N||(r=c["$coerce_to?"](t,F("Array"),"to_a"))!==N?r:[t]}),$(r,"$at_exit",function e(){var t=e.$$p||N,r=N;return null==_.__at_exit__&&(_.__at_exit__=N),e.$$p=null,_.__at_exit__=a(r=_.__at_exit__)?r:[],_.__at_exit__["$<<"](t),t}),$(r,"$caller",function e(t,r){null==t&&(t=1),null==r&&(r=N),n=Error().$backtrace(),i=[];for(var n,i,s=t+1,o=n.length;s<o;s++)n[s].match(/runtime\.js/)||i.push(n[s]);return r!=N&&(i=i.slice(0,r)),i},-1),$(r,"$caller_locations",function e(t){var r,n;return r=b(arguments),y(y(this,"caller",w(n=r)),"map",[],function e(t){return null==t&&(t=N),F(F(F("Thread"),"Backtrace"),"Location").$new(t)})},-1),$(r,"$class",function e(){return this.$$class}),$(r,"$copy_instance_variables",function e(t){var r,n,i,s=this,o=Object.keys(t);for(r=0,n=o.length;r<n;r++)"$"!==(i=o[r]).charAt(0)&&t.hasOwnProperty(i)&&(s[i]=t[i])}),$(r,"$copy_singleton_methods",function t(r){var n,i,s,o,a=this;if(r.hasOwnProperty("$$meta")&&null!==r.$$meta){var u=e.get_singleton_class(r),l=e.get_singleton_class(a);for(n=0,o=(s=Object.getOwnPropertyNames(u.$$prototype)).length;n<o;n++)i=s[n],e.is_method(i)&&(l.$$prototype[i]=u.$$prototype[i]);l.$$const=Object.assign({},u.$$const),Object.setPrototypeOf(l.$$prototype,Object.getPrototypeOf(u.$$prototype))}for(n=0,o=(s=Object.getOwnPropertyNames(r)).length;n<o;n++)"$"===(i=s[n]).charAt(0)&&"$"!==i.charAt(1)&&r.hasOwnProperty(i)&&(a[i]=r[i])}),$(r,"$clone",function e(t){var r,n=N;return null==(r=(t=E(t)).$$smap.freeze)&&(r=N),a(r["$nil?"]())||x(r,!0)||x(r,!1)||this.$raise(i("ArgumentError"),"unexpected value for freeze: "+r.$class()),(n=this.$class().$allocate()).$copy_instance_variables(this),n.$copy_singleton_methods(this),n.$initialize_clone(this,k(["freeze"],{freeze:r})),(x(r,!0)||a(r["$nil?"]())&&a(this["$frozen?"]()))&&n.$freeze(),n},-1),$(r,"$initialize_clone",function e(t,r){var n;return null==(n=(r=E(r)).$$smap.freeze)&&(n=N),this.$initialize_copy(t),this},-2),$(r,"$define_singleton_method",function e(t,r){var n=e.$$p||N;return e.$$p=null,y(this.$singleton_class(),"define_method",[t,r],n.$to_proc())},-2),$(r,"$dup",function e(){var t=N;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t}),$(r,"$initialize_dup",function e(t){return this.$initialize_copy(t)}),$(r,"$enum_for",function e(t,r){var n,i,s,o=e.$$p||N;return e.$$p=null,n=b(arguments),n.length>0&&(i=n.shift()),null==i&&(i="each"),s=n,y(F("Enumerator"),"for",[this,i].concat(w(s)),o.$to_proc())},-1),$(r,"$equal?",function e(t){return this===t}),$(r,"$exit",function t(r){var n=N,i=N;for(null==_.__at_exit__&&(_.__at_exit__=N),null==r&&(r=!0),_.__at_exit__=a(n=_.__at_exit__)?n:[];!a(_.__at_exit__["$empty?"]());)(i=_.__at_exit__.$pop()).$call();return r=r.$$is_boolean?r?0:1:u(r,F("Integer"),"to_int"),e.exit(r),N},-1),$(r,"$extend",function e(t){r=b(arguments),0==(n=r).length&&this.$raise(F("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),h(this);for(var r,n,i=this.$singleton_class(),s=n.length-1;s>=0;s--){var o=n[s];o.$$is_module||v.$raise(F("TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(i),o.$extend_object(this),o.$extended(this)}return this},-1),$(r,"$freeze",function e(){return a(this["$frozen?"]())?this:"object"==typeof this?(d(this),f(this)):this}),$(r,"$frozen?",function e(){switch(typeof this){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return this.$$frozen||!1;default:return!1}}),$(r,"$gets",function e(t){var r,n;return null==_.stdin&&(_.stdin=N),r=b(arguments),n=r,y(_.stdin,"gets",w(n))},-1),$(r,"$hash",function e(){return this.$__id__()}),$(r,"$initialize_copy",m(N)),s=[],$(r,"$inspect",function t(){var r=this,n=N,o=N,u=N,l=N;return function(){try{try{return n="",o=r.$__id__(),a(s["$include?"](o))?n=" ...":(s["$<<"](o),u=!0,y(r.$instance_variables(),"each",[],function e(t){var r=null==e.$$s?this:e.$$s,s=N,o=N;return null==t&&(t=N),s=r.$instance_variable_get(t),o=i("Opal").$inspect(s),n=A(n," "+t+"="+o)},{$$s:r})),"#<"+r.$class()+":0x"+o.$to_s(16)+n+">"}catch(t){if(e.rescue(t,[i("StandardError")])){l=t;try{return"#<"+r.$class()+":0x"+o.$to_s(16)+">"}finally{e.pop_exception()}}else throw t}}finally{a(u)&&s.$pop()}}()}),$(r,"$instance_of?",function e(t){return t.$$is_class||t.$$is_module||v.$raise(F("TypeError"),"class or module required"),this.$$class===t}),$(r,"$instance_variable_defined?",function t(r){return r=c["$instance_variable_name!"](r),e.hasOwnProperty.call(this,r.substr(1))}),$(r,"$instance_variable_get",function t(r){r=c["$instance_variable_name!"](r);var n=this[e.ivar(r.substr(1))];return null==n?N:n}),$(r,"$instance_variable_set",function t(r,n){var i=this;return h(i),r=c["$instance_variable_name!"](r),i[e.ivar(r.substr(1))]=n}),$(r,"$remove_instance_variable",function t(r){r=c["$instance_variable_name!"](r);var n,i=e.ivar(r.substr(1));return this.hasOwnProperty(i)?(n=this[i],delete this[i],n):v.$raise(F("NameError"),"instance variable "+r+" not defined")}),$(r,"$instance_variables",function e(){var t,r=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,r.push("@"+t));return r}),$(r,"$Integer",function e(t,r){var n,i,s;return t.$$is_string?"0"===t?0:(void 0===r?r=0:(1===(r=u(r,F("Integer"),"to_int"))||r<0||r>36)&&v.$raise(F("ArgumentError"),"invalid radix "+r),i=(i=(i=t.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,n,i){switch(i){case"0b":if(0===r||2===r)return r=2,n;case"0":case"0o":if(0===r||8===r)return r=8,n;case"0d":if(0===r||10===r)return r=10,n;case"0x":if(0===r||16===r)return r=16,n}v.$raise(F("ArgumentError"),'invalid value for Integer(): "'+t+'"')}),RegExp("^\\s*[+-]?["+(s="0-"+((r=0===r?10:r)<=10?r-1:"9a-"+String.fromCharCode(97+(r-11))))+"]+\\s*$").test(i)||v.$raise(F("ArgumentError"),'invalid value for Integer(): "'+t+'"'),isNaN(n=parseInt(i,r))&&v.$raise(F("ArgumentError"),'invalid value for Integer(): "'+t+'"'),n):(void 0!==r&&v.$raise(F("ArgumentError"),"base specified for non string value"),t===N&&v.$raise(F("TypeError"),"can't convert nil into Integer"),t.$$is_number)?((t===1/0||t===-1/0||isNaN(t))&&v.$raise(F("FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(n=t.$to_int())!==N?n:c["$coerce_to!"](t,F("Integer"),"to_i")},-2),$(r,"$Float",function e(t){var r;return(t===N&&v.$raise(F("TypeError"),"can't convert nil into Float"),t.$$is_string)?(r=(r=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(r))?v.$Integer(r):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(r)||v.$raise(F("ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(r)):c["$coerce_to!"](t,F("Float"),"to_f")}),$(r,"$Hash",function e(t){return a(t["$nil?"]())||x(t,[])?k([],{}):z(F("Hash"),t)?t:c["$coerce_to!"](t,F("Hash"),"to_hash")}),$(r,"$is_a?",function t(r){return r.$$is_class||r.$$is_module||v.$raise(F("TypeError"),"class or module required"),e.is_a(this,r)}),$(r,"$itself",I),$(r,"$lambda",function t(){var r=t.$$p||N;return t.$$p=null,e.lambda(r)}),$(r,"$load",function t(r){return r=c["$coerce_to!"](r,F("String"),"to_str"),e.load(r)}),$(r,"$loop",function t(){var r=t.$$p||N,n=N;if(t.$$p=null,!(r!==N))return y(this,"enum_for",["loop"],function e(){return F(F("Float"),"INFINITY")});for(;a(!0);)try{e.yieldX(r,[])}catch(i){if(e.rescue(i,[F("StopIteration")])){n=i;try{return n.$result()}finally{e.pop_exception()}}else throw i}return this}),$(r,"$nil?",m(!1)),$(r,"$printf",function e(t){var r,n;return r=b(arguments),a((n=r)["$any?"]())&&this.$print(y(this,"format",w(n))),N},-1),$(r,"$proc",function e(){var t=e.$$p||N;return e.$$p=null,a(t)||v.$raise(F("ArgumentError"),"tried to create Proc object without a block"),t.$$is_lambda=!1,t}),$(r,"$puts",function e(t){var r,n;return null==_.stdout&&(_.stdout=N),r=b(arguments),n=r,y(_.stdout,"puts",w(n))},-1),$(r,"$p",function e(t){var r,n;return(r=b(arguments),y(n=r,"each",[],function e(t){return null==_.stdout&&(_.stdout=N),null==t&&(t=N),_.stdout.$puts(t.$inspect())}),a(S(n.$length(),1)))?n["$[]"](0):n},-1),$(r,"$print",function e(t){var r,n;return null==_.stdout&&(_.stdout=N),r=b(arguments),n=r,y(_.stdout,"print",w(n))},-1),$(r,"$readline",function e(t){var r,n;return null==_.stdin&&(_.stdin=N),r=b(arguments),n=r,y(_.stdin,"readline",w(n))},-1),$(r,"$warn",function e(t,r){var n,i,s,o,u,l,h=N;return(null==_.VERBOSE&&(_.VERBOSE=N),null==_.stderr&&(_.stderr=N),n=b(arguments),i=E(i=O(n)),s=n,null==(o=i.$$smap.uplevel)&&(o=N),a(o)&&(a(q(o=c["$coerce_to!"](o,F("Integer"),"to_str"),0))&&v.$raise(F("ArgumentError"),"negative level ("+o+")"),a(h=(u=(l=this.$caller(A(o,1),1).$first())===N||null==l?N:l.$split(":in `"))===N||null==u?N:u.$first())&&(h=""+h+": "),s=y(s,"map",[],function e(t){return null==t&&(t=N),""+h+"warning: "+t})),a(_.VERBOSE["$nil?"]())||a(s["$empty?"]()))?N:y(_.stderr,"puts",w(s))},-1),$(r,"$raise",function t(r,n,i){if(null==_["!"]&&(_["!"]=N),null==_["@"]&&(_["@"]=N),null==n&&(n=N),null==i&&(i=N),null==r&&_["!"]!==N)throw _["!"];throw null==r?r=F("RuntimeError").$new(""):l(r,"$to_str")?r=F("RuntimeError").$new(r.$to_str()):r.$$is_class&&l(r,"$exception")?r=r.$exception(n):r.$$is_exception||(r=F("TypeError").$new("exception class/object expected")),i!==N&&r.$set_backtrace(i),_["!"]!==N&&e.exceptions.push(_["!"]),_["!"]=r,_["@"]=r.$backtrace(),r},-1),$(r,"$rand",function e(t){return void 0===t?F(F("Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),F(F("Random"),"DEFAULT").$rand(t))},-1),$(r,"$respond_to?",function e(t,r){null==r&&(r=!1);var n=this[p(t)];return"function"==typeof n&&!n.$$stub||!0!==this["$respond_to_missing?"].$$pristine&&this["$respond_to_missing?"](t,r)},-2),$(r,"$respond_to_missing?",function e(t,r){return null==r&&(r=!1),!1},-2),c.$pristine(r,"respond_to?","respond_to_missing?"),$(r,"$require",function t(r){return"string"!=typeof r&&e.String&&e.Array&&(r=c["$coerce_to!"](r,F("String"),"to_str")),e.require(r)}),$(r,"$require_relative",function t(r){return c["$try_convert!"](r,F("String"),"to_str"),r=F("File").$expand_path(F("File").$join(e.current_file,"..",r)),e.require(r)}),$(r,"$require_tree",function t(r,n){null==(i=(n=E(n)).$$smap.autoload)&&(i=!1);var i,s=[];for(var o in r=F("File").$expand_path(r),"."===(r=e.normalize(r))&&(r=""),e.modules)o["$start_with?"](r)&&(i?s.push([o,!0]):s.push([o,e.require(o)]));return s},-2),$(r,"$singleton_class",function t(){return e.get_singleton_class(this)}),$(r,"$sleep",function t(r){null==r&&(r=N),r===N&&v.$raise(F("TypeError"),"can't convert NilClass into time interval"),r.$$is_number||v.$raise(F("TypeError"),"can't convert "+r.$class()+" into time interval"),r<0&&v.$raise(F("ArgumentError"),"time interval must be positive");for(var n=e.global.performance?function(){return performance.now()}:function(){return new Date},i=n();n()-i<=1e3*r;);return Math.round(r)},-1),$(r,"$srand",function e(t){return null==t&&(t=i("Random").$new_seed()),F("Random").$srand(t)},-1),$(r,"$String",function e(t){var r=N;return a(r=c["$coerce_to?"](t,F("String"),"to_str"))?r:c["$coerce_to!"](t,F("String"),"to_s")}),$(r,"$tap",function t(){var r=t.$$p||N;return t.$$p=null,e.yield1(r,this),this}),$(r,"$to_proc",I),$(r,"$to_s",function e(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"}),$(r,"$catch",function t(r){var n=t.$$p||N,i=N,s=N;t.$$p=null,null==r&&(r=N);try{return r=a(i=r)?i:R.$new(),e.yield1(n,r)}catch(o){if(e.rescue(o,[F("UncaughtThrowError")])){s=o;try{if(x(s.$tag(),r))return s.$value();return v.$raise()}finally{e.pop_exception()}}else throw o}},-1),$(r,"$throw",function e(t,r){return null==r&&(r=N),v.$raise(F("UncaughtThrowError").$new(t,r))},-2),$(r,"$open",function e(t){var r,n,i=e.$$p||N;return e.$$p=null,r=b(arguments),n=r,y(F("File"),"open",w(n),i.$to_proc())},-1),$(r,"$yield_self",function t(){var r=t.$$p||N;return(t.$$p=null,r!==N)?e.yield1(r,this):y(this,"enum_for",["yield_self"],m(1))}),T(r,"fail","raise"),T(r,"kind_of?","is_a?"),T(r,"object_id","__id__"),T(r,"public_send","__send__"),T(r,"send","__send__"),T(r,"then","yield_self"),T(r,"to_enum","enum_for"),o=C("::",null,"Object"),delete R.$$prototype.$require,o.$include(v)},Opal.modules["corelib/main"]=function(e){var t,r,n=e.return_val,i=e.def,s=e.Object,o=e.slice,a=e.Kernel,u=e.top;return e.nil,e.add_stubs("include,raise"),i(t=e.get_singleton_class(u),"$to_s",n("main")),i(t,"$include",function e(t){return s.$include(t)}),i(t,"$autoload",function t(r){var n,i;return n=o(arguments),i=n,e.Object.$autoload.apply(e.Object,i)},-1),i(t,"$using",function e(t){return a.$raise("main.using is permitted only at toplevel")})},Opal.modules["corelib/error/errno"]=function(e){var t,r,n,i,s,o,a=e.module,u=e.truthy,l=e.rb_plus,c=e.send2,h=e.find_super,f=e.def,d=e.klass,p=[],g=e.nil,m=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(t,r){var n,i=a("::","Errno"),s=[i].concat(r),o=g,d=g;for(n=0,o=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],d=g;n<o.length;n++)!function(){var t,r,s=o[n][0],a=o[n][1],p=o[n][2];(d=e.klass(i,e.SystemCallError,s)).errno=p,t=e.get_singleton_class(d),f(t,"$new",function e(t){e.$$p;var r=g;return e.$$p=null,null==t&&(t=g),r=a,u(t)&&(r=l(r," - "+t)),c(this,h(this,"new",e,!1,!0),"new",[r],null)},-1)}()}("::",p),t=m("StandardError"),r=p,i=[n=d("::",t,"SystemCallError")].concat(r),f(n,"$errno",function e(){return this.$class().$errno()}),s=e.get_singleton_class(n),s.$attr_reader("errno")},Opal.modules["corelib/error"]=function(e){var t,r,n,i,s,o,a,u,l,c=e.klass,h=e.slice,f=e.gvars,d=e.defs,p=e.send,g=e.to_a,m=e.def,$=e.truthy,v=e.hash2,_=e.Kernel,b=e.not,y=e.rb_plus,w=e.eqeq,E=e.Object,x=e.ensure_kwargs,k=e.send2,A=e.find_super,z=e.module,I=[],S=e.nil,O=e.$$$;e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(t,r,n){var i,s=c("::",r,"Exception"),o=[s].concat(n),a=e.$r(o);function u(e){for(var t,r=[],n=0;n<e.length;n++){var i=e[n];i&&i.$$is_string&&((t=i.match(/^    at (.*?) \((.*?)\)$/))?r.push(t[2]+":in `"+t[1]+"'"):(t=i.match(/^    at (.*?)$/))?r.push(t[1]+":in `undefined'"):(t=i.match(/^  from (.*?)$/))?r.push(t[1]):(t=i.match(/^(.*?)@(.*?)$/))&&r.push(t[2]+":in `"+t[1]+"'"))}return r}s.$$prototype.message=S,e.prop(s.$$prototype,"$$is_exception",!0),Error.stackTraceLimit=100,d(s,"$new",function t(r){null==f["!"]&&(f["!"]=S),n=h(arguments);var n,s,o=(s=n).length>0?s[0]:S,a=new this.$$constructor(o);return a.name=this.$$name,a.message=o,a.cause=f["!"],e.send(a,a.$initialize,s),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(a,i),a},-1),i=s.$new,d(s,"$exception",function e(t){var r,n;return r=h(arguments),p(this,"new",g(n=r))},-1),m(s,"$initialize",function e(t){var r,n,i=this;return r=h(arguments),n=r,i.message=n.length>0?n[0]:S},-1),m(s,"$backtrace",function e(){var t=this;if(t.backtrace)return t.backtrace;var r=t.stack;return void 0!==r&&r.$$is_string?t.backtrace=u(r.split("\n")):r?t.backtrace=u(r):[]}),m(s,"$backtrace_locations",function e(){var t,r=this;return r.backtrace_locations||(r.backtrace_locations=(t=r.$backtrace())===S||null==t?S:p(t,"map",[],function e(t){return null==t&&(t=S),O(O(O("Thread"),"Backtrace"),"Location").$new(t)})),r.backtrace_locations}),m(s,"$cause",function e(){return this.cause||S}),m(s,"$exception",function e(t){if(null==t&&(t=S),t===S||this===t)return this;var r=this.$clone();return r.message=t,this.backtrace&&(r.backtrace=this.backtrace.$dup()),r.stack=this.stack,r.cause=this.cause,r},-1),m(s,"$message",function e(){return this.$to_s()}),m(s,"$full_message",function e(t){var r,n,i=S,s=S,o=S,u=S,l=S,c=S,h=S,d=S,g=S;return(null==f.stderr&&(f.stderr=S),null==t&&(t=S),$((r=a("Hash","skip_raise"))?"constant":S))?(s=(n=[(t=v(["highlight","order"],{highlight:f.stderr["$tty?"](),order:"top"}).$merge($(i=t)?i:v([],{})))["$[]"]("highlight"),t["$[]"]("order")])[0],o=n[1],$([!0,!1]["$include?"](s))||_.$raise(O("ArgumentError"),"expected true or false as highlight: "+s),$(["top","bottom"]["$include?"](o))||_.$raise(O("ArgumentError"),"expected :top or :bottom as order: "+o),$(s)?(u="\x1b[1;4m",l="\x1b[1m",c="\x1b[m"):u=l=c="",(b(h=this.$backtrace().$dup())||$(h["$empty?"]()))&&(h=this.$caller()),g=y(g=""+(d=h.$shift())+": ",""+l+this.$to_s()+" ("+u+this.$class()+c+l+")"+c+"\n"),g=y(g,p(h,"map",[],function e(t){return null==t&&(t=S),"	from "+t+"\n"}).$join()),$(this.$cause())&&(g=y(g,this.$cause().$full_message(v(["highlight"],{highlight:s})))),w(o,"bottom")&&(g=y(""+l+"Traceback"+c+" (most recent call last):\n",g=g.$split("\n").$reverse().$join("\n"))),g):""+this.message+"\n"+this.stack},-1),m(s,"$inspect",function e(){var t=S;return $((t=this.$to_s())["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"}),m(s,"$set_backtrace",function e(t){var r,n,i=this,s=!0;if(t===S)i.backtrace=S,i.stack="";else if(t.$$is_string)i.backtrace=[t],i.stack="  from "+t;else{if(t.$$is_array){for(r=0,n=t.length;r<n;r++)if(!t[r].$$is_string){s=!1;break}}else s=!1;!1===s&&_.$raise(O("TypeError"),"backtrace must be Array of String"),i.backtrace=t,i.stack=p(t,"map",[],function e(t){return null==t&&(t=S),y("  from ",t)}).join("\n")}return t}),m(s,"$to_s",function e(){var t=S,r=S;return $(t=$(r=this.message)?this.message.$to_s():r)?t:this.$class().$to_s()})}("::",Error,I),c("::",O("Exception"),"ScriptError"),c("::",O("ScriptError"),"SyntaxError"),c("::",O("ScriptError"),"LoadError"),c("::",O("ScriptError"),"NotImplementedError"),c("::",O("Exception"),"SystemExit"),c("::",O("Exception"),"NoMemoryError"),c("::",O("Exception"),"SignalException"),c("::",O("SignalException"),"Interrupt"),c("::",O("Exception"),"SecurityError"),c("::",O("Exception"),"SystemStackError"),c("::",O("Exception"),"StandardError"),c("::",O("StandardError"),"EncodingError"),c("::",O("StandardError"),"ZeroDivisionError"),c("::",O("StandardError"),"NameError"),c("::",O("NameError"),"NoMethodError"),c("::",O("StandardError"),"RuntimeError"),c("::",O("RuntimeError"),"FrozenError"),c("::",O("StandardError"),"LocalJumpError"),c("::",O("StandardError"),"TypeError"),c("::",O("StandardError"),"ArgumentError"),c("::",O("ArgumentError"),"UncaughtThrowError"),c("::",O("StandardError"),"IndexError"),c("::",O("IndexError"),"StopIteration"),c("::",O("StopIteration"),"ClosedQueueError"),c("::",O("IndexError"),"KeyError"),c("::",O("StandardError"),"RangeError"),c("::",O("RangeError"),"FloatDomainError"),c("::",O("StandardError"),"IOError"),c("::",O("IOError"),"EOFError"),c("::",O("StandardError"),"SystemCallError"),c("::",O("StandardError"),"RegexpError"),c("::",O("StandardError"),"ThreadError"),c("::",O("StandardError"),"FiberError"),E.$autoload("Errno","corelib/error/errno"),(s=c("::",i=O("RuntimeError"),"FrozenError")).$attr_reader("receiver"),m(s,"$initialize",function e(t,r){e.$$p;var n,i=this;return e.$$p=null,null==(n=(r=x(r)).$$smap.receiver)&&(n=S),k(i,A(i,"initialize",e,!1,!0),"initialize",[t],null),i.receiver=n},-2),(a=c("::",o=O("ArgumentError"),"UncaughtThrowError")).$$prototype.tag=S,a.$attr_reader("tag","value"),m(a,"$initialize",function e(t,r){e.$$p;var n=this;return e.$$p=null,null==r&&(r=S),n.tag=t,n.value=r,k(n,A(n,"initialize",e,!1,!0),"initialize",["uncaught throw "+n.tag.$inspect()],null)},-2),(u=c("::",null,"NameError")).$attr_reader("name"),m(u,"$initialize",function e(t,r){e.$$p;var n=this;return e.$$p=null,null==r&&(r=S),k(n,A(n,"initialize",e,!1,!0),"initialize",[t],null),n.name=r},-2),(l=c("::",null,"NoMethodError")).$attr_reader("args"),m(l,"$initialize",function e(t,r,n){e.$$p;var i=this;return e.$$p=null,null==r&&(r=S),null==n&&(n=[]),k(i,A(i,"initialize",e,!1,!0),"initialize",[t,r],null),i.args=n},-2);return c("::",null,"StopIteration").$attr_reader("result"),(r=(t=c("::",null,"KeyError")).$$prototype).receiver=r.key=S,m(t,"$initialize",function e(t,r){e.$$p;var n,i,s=this;return e.$$p=null,null==(n=(r=x(r)).$$smap.receiver)&&(n=S),null==(i=r.$$smap.key)&&(i=S),k(s,A(s,"initialize",e,!1,!0),"initialize",[t],null),s.receiver=n,s.key=i},-2),m(t,"$receiver",function e(){var t=S;return $(t=this.receiver)?t:_.$raise(O("ArgumentError"),"no receiver is available")}),m(t,"$key",function e(){var t=S;return $(t=this.key)?t:_.$raise(O("ArgumentError"),"no key is available")}),c([z("::","JS")].concat(n=I)[0],null,"Error"),S},Opal.modules["corelib/constants"]=function(e){var t=e.const_set,r=(e.nil,e.$$$);return t("::","RUBY_PLATFORM","opal"),t("::","RUBY_ENGINE","opal"),t("::","RUBY_VERSION","3.2.0"),t("::","RUBY_ENGINE_VERSION","1.7.3"),t("::","RUBY_RELEASE_DATE","2023-03-23"),t("::","RUBY_PATCHLEVEL",0),t("::","RUBY_REVISION","0"),t("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),t("::","RUBY_DESCRIPTION","opal "+r("RUBY_ENGINE_VERSION")+" ("+r("RUBY_RELEASE_DATE")+" revision "+r("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.Object;return e.nil,e.add_stubs("require"),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/main"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){var t,r,n,i,s,o=e.klass,a=e.Kernel,u=e.def,l=e.return_val,c=e.ensure_kwargs,h=e.NilClass,f=e.slice,d=e.truthy,p=e.rb_gt,g=e.alias,m=e.nil,$=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),t=[],n=[r=o("::",null,"NilClass")].concat(t),r.$$prototype.$$meta=r,i=e.get_singleton_class(r),u(i,"$allocate",function e(){return a.$raise($("TypeError"),"allocator undefined for "+this.$name())}),e.udef(i,"$new"),u(r,"$!",l(!0)),u(r,"$&",l(!1)),u(r,"$|",function e(t){return!1!==t&&t!==m}),u(r,"$^",function e(t){return!1!==t&&t!==m}),u(r,"$==",function e(t){return t===m}),u(r,"$dup",l(m)),u(r,"$clone",function e(t){var r;return null==(r=(t=c(t)).$$smap.freeze)&&(r=!0),m},-1),u(r,"$inspect",l("nil")),u(r,"$nil?",l(!0)),u(r,"$singleton_class",function e(){return h}),u(r,"$to_a",function e(){return[]}),u(r,"$to_h",function t(){return e.hash()}),u(r,"$to_i",l(0)),u(r,"$to_s",l("")),u(r,"$to_c",function e(){return $("Complex").$new(0,0)}),u(r,"$rationalize",function e(t){var r,n;return r=f(arguments),d(p((n=r).$length(),1))&&a.$raise($("ArgumentError")),a.$Rational(0,1)},-1),u(r,"$to_r",function e(){return a.$Rational(0,1)}),u(r,"$instance_variables",function e(){return[]}),g(r,"to_f","to_i")},Opal.modules["corelib/boolean"]=function(e){"use strict";var t=e.klass,r=e.Kernel,n=e.def,i=e.return_self,s=e.ensure_kwargs,o=e.slice,a=e.truthy,u=e.send2,l=e.find_super,c=e.to_a,h=e.alias,f=e.nil,d=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(p,g,m){var $,v,_=t("::",g,"Boolean"),b=[_].concat(m);e.prop(_.$$prototype,"$$is_boolean",!0);for(var y=["$$class","$$meta"],w=0;w<y.length;w++)Object.defineProperty(_.$$prototype,y[w],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});Object.defineProperty(_.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:f}}),$=e.get_singleton_class(_),n($,"$allocate",function e(){return r.$raise(d("TypeError"),"allocator undefined for "+this.$name())}),e.udef($,"$new"),n(_,"$__id__",function e(){return this.valueOf()?2:0}),n(_,"$!",function e(){return!0!=this}),n(_,"$&",function e(t){return!0==this&&!1!==t&&t!==f}),n(_,"$|",function e(t){return!0==this||!1!==t&&t!==f}),n(_,"$^",function e(t){return!0==this?!1===t||t===f:!1!==t&&t!==f}),n(_,"$==",function e(t){return!0==this===t.valueOf()}),n(_,"$singleton_class",function e(){return this.$$meta}),n(_,"$to_s",function e(){return!0==this?"true":"false"}),n(_,"$dup",i),n(_,"$clone",function e(t){var r;return null==(r=(t=s(t)).$$smap.freeze)&&(r=!0),this},-1),n(_,"$method_missing",function t(r,n){var i,s,h=t.$$p||f;t.$$p=null,i=o(arguments,1),s=i;var d=this.$$class.$$prototype[e.jsid(r)];return a(void 0!==d&&!d.$$stub)||u(this,l(this,"method_missing",t,!1,!0),"method_missing",[r].concat(c(s)),h),e.send(this,d,s,h)},-2),n(_,"$respond_to_missing?",function t(r,n){null==n&&(n=!1);var i=this.$$class.$$prototype[e.jsid(r)];return void 0!==i&&!i.$$stub},-2),h(_,"eql?","=="),h(_,"equal?","=="),h(_,"inspect","to_s"),h(_,"object_id","__id__")}("::",Boolean,[]),t("::",d("Boolean"),"TrueClass"),t("::",d("Boolean"),"FalseClass"),f},Opal.modules["corelib/comparable"]=function(e){var t=e.truthy,r=e.module,n=e.rb_gt,i=e.rb_lt,s=e.eqeqeq,o=e.Kernel,a=e.def,u=e.nil,l=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(c){var h=r("::","Comparable"),f=u;function d(t){return e.is_a(t,e.Integer)?t:n(t,0)?1:i(t,0)?-1:0}function p(e,r){var n,i,a,c=e["$<=>"](r);return!t(c)&&(n=e,a=s(u,f=i=r)||s(!0,f)||s(!1,f)||s(l("Integer"),f)||s(l("Float"),f)?i.$inspect():i.$$class,o.$raise(l("ArgumentError"),"comparison of "+n.$class()+" with "+a+" failed")),d(c)}return a(h,"$==",function r(n){var i=this,s=u;return!!t(i["$equal?"](n))||i["$<=>"]!=e.Kernel["$<=>"]&&(i.$$comparable?(i.$$comparable=!1,!1):!!t(s=i["$<=>"](n))&&0==d(s))}),a(h,"$>",function e(t){return p(this,t)>0}),a(h,"$>=",function e(t){return p(this,t)>=0}),a(h,"$<",function e(t){return 0>p(this,t)}),a(h,"$<=",function e(t){return 0>=p(this,t)}),a(h,"$between?",function e(t,r){return!(i(this,t)||n(this,r))}),a(h,"$clamp",function t(r,n){var i,s;if(null==n&&(n=u),n===u&&(e.is_a(r,e.Range)||o.$raise(l("TypeError"),"wrong argument type "+r.$class()+" (expected Range)"),s=r.excl,n=r.end,r=r.begin,n!==u&&s&&o.$raise(l("ArgumentError"),"cannot clamp with an exclusive range")),r!==u&&n!==u&&p(r,n)>0&&o.$raise(l("ArgumentError"),"min argument must be smaller than max argument"),r!==u){if(0==(i=p(this,r)))return this;if(i<0)return r}return n!==u&&(i=p(this,n))>0?n:this},-2)}("::")},Opal.modules["corelib/regexp"]=function(e){var t,r,n,i,s,o,a,u,l,c,h,f,d,p,g=e.coerce_to,m=e.prop,$=e.freeze,v=e.klass,_=e.const_set,b=e.send2,y=e.find_super,w=e.def,E=e.truthy,x=e.gvars,k=e.slice,A=e.Kernel,z=e.Opal,I=e.alias,S=e.send,O=e.hash2,q=e.rb_plus,R=e.ensure_kwargs,T=e.rb_ge,C=e.to_a,N=e.eqeqeq,F=e.rb_minus,j=e.return_ivar,M=[],P=e.nil,D=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),v("::",D("StandardError"),"RegexpError"),t=RegExp,r=M,i=[n=v("::",t,"Regexp")].concat(r),s=e.$r(i),_(n,"IGNORECASE",1),_(n,"EXTENDED",2),_(n,"MULTILINE",4),e.prop(n.$$prototype,"$$is_regexp",!0),o=e.get_singleton_class(n),u=[o].concat(a=i),l=e.$r(u),w(o,"$allocate",function e(){var t=e.$$p||P,r=P;return e.$$p=null,(r=b(this,y(this,"allocate",e,!1,!0),"allocate",[],t)).uninitialized=!0,r}),w(o,"$escape",function t(r){return e.escape_regexp(r)}),w(o,"$last_match",function e(t){return(null==x["~"]&&(x["~"]=P),null==t&&(t=P),E(t["$nil?"]()))?x["~"]:E(x["~"])?x["~"]["$[]"](t):P},-1),w(o,"$union",function e(t){var r,n,i,s,o,a,u;if(a=k(arguments),0==(u=a).length)return/(?!)/;if(1==u.length&&u[0].$$is_regexp)return u[0];r=u[0].$$is_array,u.length>1&&r&&A.$raise(D("TypeError"),"no implicit conversion of Array into String"),r&&(u=u[0]),s=void 0,n=[];for(var l=0;l<u.length;l++)(i=u[l]).$$is_string?n.push(this.$escape(i)):i.$$is_regexp?(o=i.$options(),void 0!=s&&s!=o&&A.$raise(D("TypeError"),"All expressions must use the same options"),s=o,n.push("("+i.source+")")):n.push(this.$escape(i.$to_str()));return this.$new(n.$join("|"),s)},-1),w(o,"$new",function e(t,r){if(t.$$is_regexp||("\\"===(t=z["$coerce_to!"](t,D("String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&A.$raise(D("RegexpError"),"too short escape sequence: /"+t+"/"),t=t.replace("\\A","^").replace("\\z","$"),void 0===r||r["$!"]()))return RegExp(t);if(r.$$is_number){var n="";l("IGNORECASE")&r&&(n+="i"),l("MULTILINE")&r&&(n+="m"),r=n}else r="i";return RegExp(t,r)},-2),I(o,"compile","new"),I(o,"quote","escape"),w(n,"$==",function e(t){return t instanceof RegExp&&this.toString()===t.toString()}),w(n,"$===",function e(t){return this.$match(z["$coerce_to?"](t,D("String"),"to_str"))!==P}),w(n,"$=~",function e(t){var r=P;return(null==x["~"]&&(x["~"]=P),E(r=this.$match(t)))?x["~"].$begin(0):r}),w(n,"$freeze",function e(){return E(this["$frozen?"]())?this:(this.hasOwnProperty("$$g")||m(this,"$$g",null),this.hasOwnProperty("$$gm")||m(this,"$$gm",null),$(this))}),w(n,"$inspect",function e(){var t=this.toString(),r=/^\/(.*)\/([^\/]*)$/.exec(t);if(!r)return t;for(var n=r[1],i=r[2],s=n.split(""),o=s.length,a=!1,u="",l=0;l<o;l++){var c=s[l];a||"/"!=c||(u=u.concat("\\")),u=u.concat(c),a="\\"==c&&!a}return"/"+u+"/"+i}),w(n,"$match",function t(r,n){var i=t.$$p||P;if(null==x["~"]&&(x["~"]=P),t.$$p=null,this.uninitialized&&A.$raise(D("TypeError"),"uninitialized Regexp"),void 0===n){if(r===P)return x["~"]=P;var s=this.exec(g(r,D("String"),"to_str"));return s?(x["~"]=D("MatchData").$new(this,s),i===P?x["~"]:e.yield1(i,x["~"])):x["~"]=P}if(n=g(n,D("Integer"),"to_int"),r===P||(r=g(r,D("String"),"to_str"),n<0&&(n+=r.length)<0))return x["~"]=P;for(var o,a=e.global_regexp(this);;){if(null===(o=a.exec(r)))return x["~"]=P;if(o.index>=n)return x["~"]=D("MatchData").$new(a,o),i===P?x["~"]:e.yield1(i,x["~"]);a.lastIndex=o.index+1}},-2),w(n,"$match?",function t(r,n){var i;return(this.uninitialized&&A.$raise(D("TypeError"),"uninitialized Regexp"),void 0===n)?r!==P&&this.test(g(r,D("String"),"to_str")):(n=g(n,D("Integer"),"to_int"),r!==P&&(r=g(r,D("String"),"to_str"),!(n<0)||!((n+=r.length)<0))&&null!==(i=e.global_regexp(this).exec(r))&&!(i.index<n))},-2),w(n,"$names",function e(){return S(this.$source().$scan(/\(?<(\w+)>/,O(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),w(n,"$named_captures",function e(){return S(S(S(this.$source().$scan(/\(?<(\w+)>/,O(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function e(t){return null==t&&(t=P),S(t,"map",[],function e(t){return null==t&&(t=P),q(t.$last(),1)})})}),w(n,"$~",function e(){return null==x._&&(x._=P),this["$=~"](x._)}),w(n,"$source",function e(){return this.source}),w(n,"$options",function e(){this.uninitialized&&A.$raise(D("TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=s("MULTILINE")),this.ignoreCase&&(t|=s("IGNORECASE")),t}),w(n,"$casefold?",function e(){return this.ignoreCase}),I(n,"eql?","=="),I(n,"to_s","source"),c=M[0],h=M,d=[f=v(c,null,"MatchData")].concat(h),p=e.$r(d),f.$$prototype.matches=P,f.$attr_reader("post_match","pre_match","regexp","string"),w(f,"$initialize",function e(t,r,n){var i,s=this;null==(i=(n=R(n)).$$smap.no_matchdata)&&(i=!1),E(i)||(x["~"]=s),s.regexp=t,s.begin=r.index,s.string=r.input,s.pre_match=r.input.slice(0,r.index),s.post_match=r.input.slice(r.index+r[0].length),s.matches=[];for(var o=0,a=r.length;o<a;o++){var u=r[o];null==u?s.matches.push(P):s.matches.push(u)}},-3),w(f,"$match",function e(t){var r=P;return E(r=this["$[]"](t))?r:E(t["$is_a?"](p("Integer")))&&E(T(t,this.$length()))?A.$raise(D("IndexError"),"index "+t+" out of matches"):P}),w(f,"$match_length",function e(t){var r;return(r=this.$match(t))===P||null==r?P:r.$length()}),w(f,"$[]",function e(t){var r,n;return(r=k(arguments),(n=r)[0].$$is_string)?(this.$regexp().$names()["$include?"](n["$[]"](0))["$!"]()&&A.$raise(D("IndexError"),"undefined group name reference: "+n["$[]"](0)),this.$named_captures()["$[]"](n["$[]"](0))):S(this.matches,"[]",C(n))},-1),w(f,"$offset",function e(t){return 0!==t&&A.$raise(D("ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]}),w(f,"$==",function e(t){var r=P,n=P,i=P,s=P;return!!N(D("MatchData"),t)&&(E(r=E(n=E(i=E(s=this.string==t.string)?this.regexp.toString()==t.regexp.toString():s)?this.pre_match==t.pre_match:i)?this.post_match==t.post_match:n)?this.begin==t.begin:r)}),w(f,"$begin",function e(t){return 0!==t&&A.$raise(D("ArgumentError"),"MatchData#begin only supports 0th element"),this.begin}),w(f,"$end",function e(t){return 0!==t&&A.$raise(D("ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length}),w(f,"$captures",function e(){return this.matches.slice(1)}),w(f,"$named_captures",function e(){var t=P;return t=this.$captures(),S(this.$regexp().$named_captures(),"transform_values",[],function e(r){return null==r&&(r=P),t["$[]"](F(r.$last(),1))})}),w(f,"$names",function e(){return this.$regexp().$names()}),w(f,"$inspect",function e(){var t="#<MatchData "+this.matches[0].$inspect();if(this.$regexp().$names()["$empty?"]())for(var r=1,n=this.matches.length;r<n;r++)t+=" "+r+":"+this.matches[r].$inspect();else S(this.$named_captures(),"each",[],function e(r,n){return null==r&&(r=P),null==n&&(n=P),t+=" "+r+":"+n.$inspect()});return t+">"}),w(f,"$length",function e(){return this.matches.length}),w(f,"$to_a",j("matches")),w(f,"$to_s",function e(){return this.matches[0]}),w(f,"$values_at",function e(t){r=k(arguments),n=r;var r,n,i,s,o,a=[];for(i=0;i<n.length;i++){if(n[i].$$is_range&&((s=n[i].$to_a()).unshift(i,1),Array.prototype.splice.apply(n,s)),(o=z["$coerce_to!"](n[i],D("Integer"),"to_int"))<0&&(o+=this.matches.length)<0){a.push(P);continue}a.push(this.matches[o])}return a},-1),I(f,"eql?","=="),I(f,"size","length")},Opal.modules["corelib/string"]=function(e){var t=e.coerce_to,r=e.respond_to,n=e.global_multiline_regexp,i=e.prop,s=e.klass,o=e.def,a=e.Opal,u=e.defs,l=e.slice,c=e.send,h=e.to_a,f=e.extract_kwargs,d=e.ensure_kwargs,p=e.eqeqeq,g=e.Kernel,m=e.truthy,$=e.gvars,v=e.rb_divide,_=e.rb_plus,b=e.eqeq,y=e.hash2,w=e.alias,E=e.const_set,x=e.top,k=[],A=e.$r(k),z=e.nil,I=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),x.$require("corelib/comparable"),x.$require("corelib/regexp"),function(E,x,k){var A=s("::",x,"String"),S=[A].concat(k),O=e.$r(S);function q(e){function r(e){var t,r,n,i,s,o,a="",u=e.length;for(t=0;t<u;t++)if("-"===(r=e.charAt(t))&&t>0&&t<u-1&&!n){for((i=e.charCodeAt(t-1))>(s=e.charCodeAt(t+1))&&g.$raise(I("ArgumentError"),'invalid range "'+i+"-"+s+'" in string transliteration'),o=i+1;o<s+1;o++)a+=String.fromCharCode(o);n=!0,t++}else n="\\"===r,a+=r;return a}function n(e,t){if(0===e.length)return t;var r,n,i="",s=e.length;for(r=0;r<s;r++)n=e.charAt(r),-1!==t.indexOf(n)&&(i+=n);return i}var i,s,o,a,u,l,c="",h="";for(i=0,s=e.length;i<s;i++)o=r((a="^"===(o=t(e[i],I("String"),"to_str")).charAt(0)&&o.length>1)?o.slice(1):o),a?h=n(h,o):c=n(c,o);if(c.length>0&&h.length>0){for(i=0,l="",s=c.length;i<s;i++)u=c.charAt(i),-1===h.indexOf(u)&&(l+=u);c=l,h=""}return c.length>0?"["+I("Regexp").$escape(c)+"]":h.length>0?"[^"+I("Regexp").$escape(h)+"]":null}A.$include(I("Comparable")),e.prop(A.$$prototype,"$$is_string",!0),o(A,"$__id__",function e(){return this.toString()}),u(A,"$try_convert",function e(t){return a["$coerce_to?"](t,I("String"),"to_str")}),u(A,"$new",function e(r){n=l(arguments);var n,i,s=(i=n)[0]||"",o=i[i.length-1];return s=t(s,I("String"),"to_str"),o&&o.$$is_hash&&o.$$smap.encoding&&(s=s.$force_encoding(o.$$smap.encoding)),(s=new this.$$constructor(s)).$initialize.$$pristine||c(s,"initialize",h(i)),s},-1),o(A,"$initialize",function e(t,r){var n,i,s,o,a;return n=l(arguments),i=d(i=f(n)),n.length>0&&(s=n.shift()),null==(o=i.$$smap.encoding)&&(o=z),null==(a=i.$$smap.capacity)&&(a=z),z},-1),o(A,"$%",function e(t){return p(I("Array"),t)?c(this,"format",[this].concat(h(t))):this.$format(this,t)}),o(A,"$*",function e(r){if((r=t(r,I("Integer"),"to_int"))<0&&g.$raise(I("ArgumentError"),"negative argument"),0===r)return"";var n="",i=this.toString();for(i.length*r>=268435456&&g.$raise(I("RangeError"),"multiply count must not overflow maximum string size");(1&r)==1&&(n+=i),0!=(r>>>=1);)i+=i;return n}),o(A,"$+",function r(n){if(""==(n=t(n,I("String"),"to_str"))&&this.$$class===e.String)return this;if(""==this&&n.$$class===e.String)return n;var i=this+n;return this.encoding===i.encoding&&n.encoding===i.encoding||"UTF-8"===this.encoding.name||"UTF-8"===n.encoding.name?i:e.enc(i,this.encoding)}),o(A,"$<=>",function e(t){if(m(t["$respond_to?"]("to_str")))return this>(t=t.$to_str().$to_s())?1:this<t?-1:0;var r=t["$<=>"](this);return r===z?z:r>0?-1:r<0?1:0}),o(A,"$==",function e(t){return t.$$is_string?this.toString()===t.toString():!!r(t,"$to_str")&&t["$=="](this)}),o(A,"$=~",function e(t){return t.$$is_string&&g.$raise(I("TypeError"),"type mismatch: String given"),t["$=~"](this)}),o(A,"$[]",function e(r,n){var i,s,o=this.length;if(r.$$is_range)return(i=r.excl,s=r,n=r.end===z?-1:t(r.end,I("Integer"),"to_int"),Math.abs(r=r.begin===z?0:t(r.begin,I("Integer"),"to_int"))>o)?z:(r<0&&(r+=o),n<0&&(n+=o),i&&s.end!==z||(n+=1),(n-=r)<0&&(n=0),this.substr(r,n));if(r.$$is_string)return null!=n&&g.$raise(I("TypeError")),-1!==this.indexOf(r)?r:z;if(r.$$is_regexp){var a=this.match(r);return null===a?($["~"]=z,z):($["~"]=I("MatchData").$new(r,a),null==n)?a[0]:(n=t(n,I("Integer"),"to_int"))<0&&-n<a.length?a[n+=a.length]:n>=0&&n<a.length?a[n]:z}return((r=t(r,I("Integer"),"to_int"))<0&&(r+=o),null==n)?r>=o||r<0?z:this.substr(r,1):(n=t(n,I("Integer"),"to_int"))<0||r>o||r<0?z:this.substr(r,n)},-2),o(A,"$b",function e(){return new String(this).$force_encoding("binary")}),o(A,"$capitalize",function e(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()}),o(A,"$casecmp",function e(r){var n=this;if(!m(r["$respond_to?"]("to_str")))return z;r=t(r,I("String"),"to_str").$to_s();var i=/^[\x00-\x7F]*$/;return i.test(n)&&i.test(r)&&(n=n.toLowerCase(),r=r.toLowerCase()),n["$<=>"](r)}),o(A,"$casecmp?",function e(t){var r=this.$casecmp(t);return r===z?z:0===r}),o(A,"$center",function e(r,n){if(null==n&&(n=" "),r=t(r,I("Integer"),"to_int"),m((n=t(n,I("String"),"to_str").$to_s())["$empty?"]())&&g.$raise(I("ArgumentError"),"zero width padding"),m(r<=this.length))return this;var i=this.$ljust(v(_(r,this.length),2).$ceil(),n);return this.$rjust(v(_(r,this.length),2).$floor(),n)+i.slice(this.length)},-2),o(A,"$chomp",function e(t){var r;return(null==$["/"]&&($["/"]=z),null==t&&(t=$["/"]),m(t===z||0===this.length))?this:("\n"===(t=a["$coerce_to!"](t,I("String"),"to_str").$to_s())?r=this.replace(/\r?\n?$/,""):""===t?r=this.replace(/(\r?\n)+$/,""):this.length>=t.length&&this.substr(this.length-t.length,t.length)===t&&(r=this.substr(0,this.length-t.length)),null!=r?r:this)},-1),o(A,"$chop",function e(){var t,r=this.length;return r<=1?"":"\n"===this.charAt(r-1)&&"\r"===this.charAt(r-2)?this.substr(0,r-2):this.substr(0,r-1)}),o(A,"$chr",function e(){return this.charAt(0)}),o(A,"$clone",function e(t){var r,n=z;return null==(r=(t=d(t)).$$smap.freeze)&&(r=z),m(r["$nil?"]())||b(r,!0)||b(r,!1)||this.$raise(O("ArgumentError"),"unexpected value for freeze: "+r.$class()),(n=new String(this)).$copy_singleton_methods(this),n.$initialize_clone(this,y(["freeze"],{freeze:r})),b(r,!0)?n.$$frozen||(n.$$frozen=!0):m(r["$nil?"]())&&this.$$frozen&&(n.$$frozen=!0),n},-1),o(A,"$dup",function e(){var t=z;return(t=new String(this)).$initialize_dup(this),t}),o(A,"$count",function e(t){r=l(arguments),0===(n=r).length&&g.$raise(I("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var r,n,i=q(n);return null===i?0:this.length-this.replace(RegExp(i,"g"),"").length},-1),o(A,"$delete",function e(t){r=l(arguments),0===(n=r).length&&g.$raise(I("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var r,n,i=q(n);return null===i?this:this.replace(RegExp(i,"g"),"")},-1),o(A,"$delete_prefix",function e(r){return(r.$$is_string||(r=t(r,I("String"),"to_str")),this.slice(0,r.length)===r)?this.slice(r.length):this}),o(A,"$delete_suffix",function e(r){return(r.$$is_string||(r=t(r,I("String"),"to_str")),this.slice(this.length-r.length)===r)?this.slice(0,this.length-r.length):this}),o(A,"$downcase",function e(){return this.toLowerCase()}),o(A,"$each_line",function r(n,i){var s,o,a,u,c,h,p,g,m,v,_,b,w=r.$$p||z;if(null==$["/"]&&($["/"]=z),r.$$p=null,m=l(arguments),v=d(v=f(m)),m.length>0&&(_=m.shift()),null==_&&(_=$["/"]),null==(b=v.$$smap.chomp)&&(b=!1),!(w!==z))return this.$enum_for("each_line",_,y(["chomp"],{chomp:b}));if(_===z)return e.yield1(w,this),this;if(0===(_=t(_,I("String"),"to_str")).length){for(s=this.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),o=0,a=s.length;o<a;o+=2)(s[o]||s[o+1])&&(g=(s[o]||"")+(s[o+1]||""),b&&(g=g.$chomp("\n")),e.yield1(w,g));return this}for(o=0,c=this.$chomp(_),h=this.length!=c.length,u=(p=c.split(_)).length;o<u;o++)g=p[o],(o<u-1||h)&&(g+=_),b&&(g=g.$chomp(_)),e.yield1(w,g);return this},-1),o(A,"$empty?",function e(){return 0===this.length}),o(A,"$end_with?",function e(r){var n,i;n=l(arguments),i=n;for(var s=0,o=i.length;s<o;s++){var a=t(i[s],I("String"),"to_str").$to_s();if(this.length>=a.length&&this.substr(this.length-a.length,a.length)==a)return!0}return!1},-1),o(A,"$gsub",function e(r,i){var s,o=e.$$p||z,a=this;if(e.$$p=null,void 0===i&&o===z)return a.$enum_for("gsub",r);var u,l,c="",h=z,f=0;for(r=r.$$is_regexp?n(r):RegExp((r=t(r,I("String"),"to_str")).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm");;){if(null===(u=r.exec(a))){$["~"]=z,c+=a.slice(f);break}h=I("MatchData").$new(r,u),void 0===i?(s=r.lastIndex,l=o(u[0]),r.lastIndex=s):i.$$is_hash?l=i["$[]"](u[0]).$to_s():(i.$$is_string||(i=t(i,I("String"),"to_str")),l=i.replace(/([\\]+)([0-9+&`'])/g,function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=u.length-1;n>0;n--)if(void 0!==u[n])return t.slice(1)+u[n];return"";case"&":return t.slice(1)+u[0];case"`":return t.slice(1)+a.slice(0,u.index);case"'":return t.slice(1)+a.slice(u.index+u[0].length);default:return t.slice(1)+(u[r]||"")}}).replace(/\\\\/g,"\\")),r.lastIndex===u.index?(c+=a.slice(f,u.index)+l+(a[u.index]||""),r.lastIndex+=1):c+=a.slice(f,u.index)+l,f=r.lastIndex}return $["~"]=h,c},-2),o(A,"$hash",function e(){return this.toString()}),o(A,"$hex",function e(){return this.$to_i(16)}),o(A,"$include?",function e(r){return r.$$is_string||(r=t(r,I("String"),"to_str")),-1!==this.indexOf(r)}),o(A,"$index",function e(r,i){var s,o,a;if(void 0===i)i=0;else if((i=t(i,I("Integer"),"to_int"))<0&&(i+=this.length)<0)return z;if(r.$$is_regexp)for(a=n(r);;){if(null===(o=a.exec(this))){$["~"]=z,s=-1;break}if(o.index>=i){$["~"]=I("MatchData").$new(a,o),s=o.index;break}a.lastIndex=o.index+1}else s=0===(r=t(r,I("String"),"to_str")).length&&i>this.length?-1:this.indexOf(r,i);return -1===s?z:s},-2),o(A,"$inspect",function e(){var t=this,r={"\x07":"\\a","\x1b":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+t.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return r[e]?r[e]:(e=e.charCodeAt(0))<=255&&(t.encoding["$binary?"]()||t.internal_encoding["$binary?"]())?"\\x"+("00"+e.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+e.toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'}),o(A,"$intern",function e(){return this.toString()}),o(A,"$length",function e(){return this.length}),w(A,"size","length"),o(A,"$lines",function e(t,r){var n,i,s,o,a=e.$$p||z,u=z;return(null==$["/"]&&($["/"]=z),e.$$p=null,n=l(arguments),i=d(i=f(n)),n.length>0&&(s=n.shift()),null==s&&(s=$["/"]),null==(o=i.$$smap.chomp)&&(o=!1),u=c(this,"each_line",[s,y(["chomp"],{chomp:o})],a.$to_proc()),m(a))?this:u.$to_a()},-1),o(A,"$ljust",function e(r,n){if(null==n&&(n=" "),r=t(r,I("Integer"),"to_int"),m((n=t(n,I("String"),"to_str").$to_s())["$empty?"]())&&g.$raise(I("ArgumentError"),"zero width padding"),m(r<=this.length))return this;var i=-1,s="";for(r-=this.length;++i<r;)s+=n;return this+s.slice(0,r)},-2),o(A,"$lstrip",function e(){return this.replace(/^[\u0000\s]*/,"")}),o(A,"$ascii_only?",function e(){return!!this.encoding.ascii&&/^[\x00-\x7F]*$/.test(this)}),o(A,"$match",function e(t,r){var n=e.$$p||z;return e.$$p=null,(p(O("String"),t)||m(t["$respond_to?"]("to_str")))&&(t=I("Regexp").$new(t.$to_str())),p(I("Regexp"),t)||g.$raise(I("TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),c(t,"match",[this,r],n.$to_proc())},-2),o(A,"$match?",function e(t,r){return(p(O("String"),t)||m(t["$respond_to?"]("to_str")))&&(t=I("Regexp").$new(t.$to_str())),p(I("Regexp"),t)||g.$raise(I("TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),t["$match?"](this,r)},-2),o(A,"$next",function e(){var t,r=this.length;if(0===r)return"";for(var n=this,i=this.search(/[a-zA-Z0-9]/),s=!1;r--;){if((t=this.charCodeAt(r))>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)switch(t){case 57:s=!0,t=48;break;case 90:s=!0,t=65;break;case 122:s=!0,t=97;break;default:s=!1,t+=1}else -1===i?255===t?(s=!0,t=0):(s=!1,t+=1):s=!0;if(n=n.slice(0,r)+String.fromCharCode(t)+n.slice(r+1),s&&(0===r||r===i)){switch(t){case 65:case 97:break;default:t+=1}n=0===r?String.fromCharCode(t)+n:n.slice(0,r)+String.fromCharCode(t)+n.slice(r),s=!1}if(!s)break}return n}),o(A,"$oct",function e(){var t,r=this,n=r,i=8;return/^\s*_/.test(n)?0:isNaN(t=parseInt((n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,r,n){switch(n.charAt(0)){case"+":case"-":return e;case"0":if("x"===n.charAt(1)&&"0x"===r)return e}switch(r){case"0b":i=2;break;case"0":case"0o":i=8;break;case"0d":i=10;break;case"0x":i=16}return t+n})).replace(/_(?!_)/g,""),i))?0:t}),o(A,"$ord",function e(){return"function"==typeof this.codePointAt?this.codePointAt(0):this.charCodeAt(0)}),o(A,"$partition",function e(r){var n,i;return(r.$$is_regexp?null===(i=r.exec(this))?n=-1:(I("MatchData").$new(r,i),r=i[0],n=i.index):(r=t(r,I("String"),"to_str"),n=this.indexOf(r)),-1===n)?[this,"",""]:[this.slice(0,n),this.slice(n,n+r.length),this.slice(n+r.length)]}),o(A,"$reverse",function e(){return this.split("").reverse().join("")}),o(A,"$rindex",function e(r,i){var s,o,a,u;if(void 0===i)i=this.length;else if((i=t(i,I("Integer"),"to_int"))<0&&(i+=this.length)<0)return z;if(r.$$is_regexp){for(o=null,a=n(r);null!==(u=a.exec(this))&&!(u.index>i);)o=u,a.lastIndex=o.index+1;null===o?($["~"]=z,s=-1):(I("MatchData").$new(a,o),s=o.index)}else r=t(r,I("String"),"to_str"),s=this.lastIndexOf(r,i);return -1===s?z:s},-2),o(A,"$rjust",function e(r,n){if(null==n&&(n=" "),r=t(r,I("Integer"),"to_int"),m((n=t(n,I("String"),"to_str").$to_s())["$empty?"]())&&g.$raise(I("ArgumentError"),"zero width padding"),m(r<=this.length))return this;var i=Math.floor(r-this.length),s=Array(Math.floor(i/n.length)+1).join(n),o=i-s.length;return s+n.slice(0,o)+this},-2),o(A,"$rpartition",function e(r){var i,s,o,a;if(r.$$is_regexp){for(s=null,o=n(r);null!==(a=o.exec(this));)s=a,o.lastIndex=s.index+1;null===s?i=-1:(I("MatchData").$new(o,s),r=s[0],i=s.index)}else r=t(r,I("String"),"to_str"),i=this.lastIndexOf(r);return -1===i?["","",this]:[this.slice(0,i),this.slice(i,i+r.length),this.slice(i+r.length)]}),o(A,"$rstrip",function e(){return this.replace(/[\s\u0000]*$/,"")}),o(A,"$scan",function r(i,s){var o,a=r.$$p||z;r.$$p=null,null==(o=(s=d(s)).$$smap.no_matchdata)&&(o=!1);var u,l=[],c=z;for(i=i.$$is_regexp?n(i):RegExp((i=t(i,I("String"),"to_str")).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm");null!=(u=i.exec(this));)c=I("MatchData").$new(i,u,y(["no_matchdata"],{no_matchdata:o})),a===z?1==u.length?l.push(u[0]):l.push(c.$captures()):1==u.length?e.yield1(a,u[0]):e.yield1(a,c.$captures()),i.lastIndex===u.index&&(i.lastIndex+=1);return o||($["~"]=c),a!==z?this:l},-2),o(A,"$singleton_class",function t(){return e.get_singleton_class(this)}),o(A,"$split",function e(r,i){var s=z;if(null==$[";"]&&($[";"]=z),0===this.length)return[];if(void 0===i)i=0;else if(1===(i=a["$coerce_to!"](i,I("Integer"),"to_int")))return[this];(void 0===r||r===z)&&(r=m(s=$[";"])?s:" ");var o,u,l,c=[],h=this.toString(),f=0;if(r.$$is_regexp?r=n(r):" "===(r=t(r,I("String"),"to_str").$to_s())?(r=/\s+/gm,h=h.replace(/^\s+/,"")):r=RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(c=h.split(r)).length&&c[0]===h)return[c[0]];for(;-1!==(u=c.indexOf(void 0));)c.splice(u,1);if(0===i){for(;""===c[c.length-1];)c.length-=1;return c}if(o=r.exec(h),i<0){if(null!==o&&""===o[0]&&-1===r.source.indexOf("(?="))for(u=0,l=o.length;u<l;u++)c.push("");return c}if(null!==o&&""===o[0])return c.splice(i-1,c.length-1,c.slice(i-1).join("")),c;if(i>=c.length)return c;for(u=0;null!==o&&(u++,f=r.lastIndex,u+1!==i);)o=r.exec(h);return c.splice(i-1,c.length-1,h.slice(f)),c},-1),o(A,"$squeeze",function e(t){if(r=l(arguments),0===(n=r).length)return this.replace(/(.)\1+/g,"$1");var r,n,i=q(n);return null===i?this:this.replace(RegExp("("+i+")\\1+","g"),"$1")},-1),o(A,"$start_with?",function e(r){var n,i;n=l(arguments),i=n;for(var s=0,o=i.length;s<o;s++)if(i[s].$$is_regexp){var a=i[s],u=a.exec(this);if(null!=u&&0===u.index)return $["~"]=I("MatchData").$new(a,u),!0;$["~"]=z}else{var c=t(i[s],I("String"),"to_str").$to_s();if(0===this.indexOf(c))return!0}return!1},-1),o(A,"$strip",function e(){return this.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),o(A,"$sub",function e(r,n){var i=e.$$p||z,s=this;e.$$p=null,r.$$is_regexp||(r=RegExp((r=t(r,I("String"),"to_str")).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,a=r.exec(s);return null===a?($["~"]=z,o=s.toString()):(I("MatchData").$new(r,a),void 0===n?(i===z&&g.$raise(I("ArgumentError"),"wrong number of arguments (1 for 2)"),o=s.slice(0,a.index)+i(a[0])+s.slice(a.index+a[0].length)):n.$$is_hash?o=s.slice(0,a.index)+n["$[]"](a[0]).$to_s()+s.slice(a.index+a[0].length):(n=(n=t(n,I("String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(e,t,r){if(t.length%2==0)return e;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return t.slice(1)+a[n];return"";case"&":return t.slice(1)+a[0];case"`":return t.slice(1)+s.slice(0,a.index);case"'":return t.slice(1)+s.slice(a.index+a[0].length);default:return t.slice(1)+(a[r]||"")}}).replace(/\\\\/g,"\\"),o=s.slice(0,a.index)+n+s.slice(a.index+a[0].length))),o},-2),o(A,"$sum",function e(r){null==r&&(r=16),r=t(r,I("Integer"),"to_int");for(var n=0,i=this.length,s=0;s<i;s++)n+=this.charCodeAt(s);return r<=0?n:n&Math.pow(2,r)-1},-1),o(A,"$swapcase",function e(){return this.replace(/([a-z]+)|([A-Z]+)/g,function(e,t,r){return t?e.toUpperCase():e.toLowerCase()})}),o(A,"$to_f",function e(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t}),o(A,"$to_i",function e(r){null==r&&(r=10);var n,i=this.toLowerCase(),s=t(r,I("Integer"),"to_int");return((1===s||s<0||s>36)&&g.$raise(I("ArgumentError"),"invalid radix "+s),/^\s*_/.test(i))?0:isNaN(n=parseInt((i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,r,n){switch(n.charAt(0)){case"+":case"-":return e;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===s||16===s))return e}switch(r){case"0b":if(0===s||2===s)return s=2,t+n;break;case"0":case"0o":if(0===s||8===s)return s=8,t+n;break;case"0d":if(0===s||10===s)return s=10,t+n;break;case"0x":if(0===s||16===s)return s=16,t+n}return e})).replace(/_(?!_)/g,""),s))?0:n},-1),o(A,"$to_proc",function t(){t.$$p;var r=z,n=z,i=z;return t.$$p=null,r=this.valueOf(),n=e.jsid(r),(i=c(g,"proc",[],function e(t){var i,s,o=e.$$p||z;e.$$p=null,i=l(arguments),0===(s=i).length&&g.$raise(I("ArgumentError"),"no receiver given");var a=s[0];null==a&&(a=z);var u=a[n];return(u?s=s.slice(1):(u=a.$method_missing,s[0]=r),"function"==typeof o&&(u.$$p=o),0===s.length)?u.call(a):u.apply(a,s)},-1)).$$source_location=z,i}),o(A,"$to_s",function e(){return this.toString()}),o(A,"$tr",function e(r,n){if(r=t(r,I("String"),"to_str").$to_s(),n=t(n,I("String"),"to_str").$to_s(),0==r.length||r===n)return this;var i,s,o,a,u,l,c,h={},f=r.split(""),d=f.length,p=n.split(""),m=p.length,$=!1,v=null;"^"===f[0]&&f.length>1&&($=!0,f.shift(),v=p[m-1],d-=1);var _=[],b=null;for(i=0,s=!1;i<d;i++)if(a=f[i],null==b)b=a,_.push(a);else if("-"===a)"-"===b?(_.push("-"),_.push("-")):i==d-1?_.push("-"):s=!0;else if(s){for((u=b.charCodeAt(0))>(l=a.charCodeAt(0))&&g.$raise(I("ArgumentError"),'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=u+1;o<l;o++)_.push(String.fromCharCode(o));_.push(a),s=null,b=null}else _.push(a);if(d=(f=_).length,$)for(i=0;i<d;i++)h[f[i]]=!0;else{if(m>0){var y=[],w=null;for(i=0,s=!1;i<m;i++)if(a=p[i],null==w)w=a,y.push(a);else if("-"===a)"-"===w?(y.push("-"),y.push("-")):i==m-1?y.push("-"):s=!0;else if(s){for((u=w.charCodeAt(0))>(l=a.charCodeAt(0))&&g.$raise(I("ArgumentError"),'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=u+1;o<l;o++)y.push(String.fromCharCode(o));y.push(a),s=null,w=null}else y.push(a);m=(p=y).length}var E=d-m;if(E>0){var x=m>0?p[m-1]:"";for(i=0;i<E;i++)p.push(x)}for(i=0;i<d;i++)h[f[i]]=p[i]}var k="";for(i=0,c=this.length;i<c;i++){var A=h[a=this.charAt(i)];$?k+=null==A?v:a:k+=null!=A?A:a}return k}),o(A,"$tr_s",function e(r,n){if(r=t(r,I("String"),"to_str").$to_s(),n=t(n,I("String"),"to_str").$to_s(),0==r.length)return this;var i,s,o,a,u,l,c,h={},f=r.split(""),d=f.length,p=n.split(""),m=p.length,$=!1,v=null;"^"===f[0]&&f.length>1&&($=!0,f.shift(),v=p[m-1],d-=1);var _=[],b=null;for(i=0,s=!1;i<d;i++)if(a=f[i],null==b)b=a,_.push(a);else if("-"===a)"-"===b?(_.push("-"),_.push("-")):i==d-1?_.push("-"):s=!0;else if(s){for((u=b.charCodeAt(0))>(l=a.charCodeAt(0))&&g.$raise(I("ArgumentError"),'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=u+1;o<l;o++)_.push(String.fromCharCode(o));_.push(a),s=null,b=null}else _.push(a);if(d=(f=_).length,$)for(i=0;i<d;i++)h[f[i]]=!0;else{if(m>0){var y=[];for(i=0,s=!1;i<m;i++)if(a=p[i],null==b)b=a,y.push(a);else if("-"===a)i==m-1?y.push("-"):s=!0;else if(s){for((u=b.charCodeAt(0))>(l=a.charCodeAt(0))&&g.$raise(I("ArgumentError"),'invalid range "'+String.fromCharCode(u)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=u+1;o<l;o++)y.push(String.fromCharCode(o));y.push(a),s=null,b=null}else y.push(a);m=(p=y).length}var w=d-m;if(w>0){var E=m>0?p[m-1]:"";for(i=0;i<w;i++)p.push(E)}for(i=0;i<d;i++)h[f[i]]=p[i]}var x="",k=null;for(i=0,c=this.length;i<c;i++){var A=h[a=this.charAt(i)];$?null==A?null==k&&(x+=v,k=!0):(x+=a,k=null):null!=A?(null==k||k!==A)&&(x+=A,k=A):(x+=a,k=null)}return x}),o(A,"$upcase",function e(){return this.toUpperCase()}),o(A,"$upto",function e(r,n){var i=e.$$p||z;if(e.$$p=null,null==n&&(n=!1),!(i!==z))return this.$enum_for("upto",r,n);var s,o,a=this.toString();if(r=t(r,I("String"),"to_str"),1===a.length&&1===r.length)for(s=a.charCodeAt(0),o=r.charCodeAt(0);s<=o&&(!n||s!==o);)i(String.fromCharCode(s)),s+=1;else if(parseInt(a,10).toString()===a&&parseInt(r,10).toString()===r)for(s=parseInt(a,10),o=parseInt(r,10);s<=o&&(!n||s!==o);)i(s.toString()),s+=1;else for(;a.length<=r.length&&a<=r&&(!n||a!==r);)i(a),a=a.$succ();return this},-2),o(A,"$instance_variables",function e(){return[]}),u(A,"$_load",function e(t){var r,n;return r=l(arguments),c(this,"new",h(n=r))},-1),o(A,"$unicode_normalize",function e(t){return null==t&&(t="nfc"),m(["nfc","nfd","nfkc","nfkd"]["$include?"](t))||g.$raise(I("ArgumentError"),"Invalid normalization form "+t),this.normalize(t.$upcase())},-1),o(A,"$unicode_normalized?",function e(t){return null==t&&(t="nfc"),this.$unicode_normalize(t)["$=="](this)},-1),o(A,"$unpack",function e(t){return g.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),o(A,"$unpack1",function e(t){return g.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),o(A,"$freeze",function e(){return"string"==typeof this||i(this,"$$frozen",!0),this}),o(A,"$-@",function e(){return"string"==typeof this||this.$$frozen?this:"UTF-8"==this.encoding.name&&"UTF-8"==this.internal_encoding.name?this.toString():this.$dup().$freeze()}),o(A,"$frozen?",function e(){return"string"==typeof this||!0===this.$$frozen}),w(A,"+@","dup"),w(A,"===","=="),w(A,"byteslice","[]"),w(A,"eql?","=="),w(A,"equal?","==="),w(A,"object_id","__id__"),w(A,"slice","[]"),w(A,"succ","next"),w(A,"to_str","to_s"),w(A,"to_sym","intern"),a.$pristine(A,"initialize")}("::",String,k),E(k[0],"Symbol",A("String"))},Opal.modules["corelib/enumerable"]=function(e){var t=e.truthy,r=e.coerce_to,n=e.yield1,i=e.yieldX,s=e.deny_frozen_access,o=e.module,a=e.send,u=e.slice,l=e.to_a,c=e.Opal,h=e.thrower,f=e.def,d=e.Kernel,p=e.return_val,g=e.rb_gt,m=e.rb_times,$=e.rb_lt,v=e.eqeq,_=e.rb_plus,b=e.rb_minus,y=e.rb_divide,w=e.rb_le,E=e.hash2,x=e.lambda,k=e.not,A=e.alias,z=e.nil,I=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(S,O){var q=o("::","Enumerable"),R=[q].concat(O),T=e.$r(R);function C(e){return 0===e.length&&(e=[z]),e.length>1&&(e=[e]),e}return f(q,"$all?",function r(n){try{var i=h("return"),s=r.$$p||z;return r.$$p=null,t(void 0!==n)?a(this,"each",[],function e(r){var s,o,c=z;if(s=u(arguments),o=s,c=C(o),t(a(n,"public_send",["==="].concat(l(c)))))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}):s!==z?a(this,"each",[],function r(n){var o,a;if(o=u(arguments),a=o,t(e.yieldX(s,l(a))))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}):a(this,"each",[],function e(r){var n,s;if(n=u(arguments),s=n,t(c.$destructure(s)))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}),!0}catch(o){if(o===i)return o.$v;throw o}},-1),f(q,"$any?",function r(n){try{var i=h("return"),s=r.$$p||z;return r.$$p=null,t(void 0!==n)?a(this,"each",[],function e(r){var s,o,c=z;if(s=u(arguments),o=s,c=C(o),!t(a(n,"public_send",["==="].concat(l(c)))))return z;i.$throw(!0)},{$$arity:-1,$$ret:i}):s!==z?a(this,"each",[],function r(n){var o,a;if(o=u(arguments),a=o,!t(e.yieldX(s,l(a))))return z;i.$throw(!0)},{$$arity:-1,$$ret:i}):a(this,"each",[],function e(r){var n,s;if(n=u(arguments),s=n,!t(c.$destructure(s)))return z;i.$throw(!0)},{$$arity:-1,$$ret:i}),!1}catch(o){if(o===i)return o.$v;throw o}},-1),f(q,"$chunk",function e(){var t=e.$$p||z;return(e.$$p=null,t!==z)?a(I("Enumerator"),"new",[],function e(r){var i=null==e.$$s?this:e.$$s;null==r&&(r=z);var s=z,o=[];function a(){o.length>0&&r.$yield(s,o)}i.$each.$$p=function(e){var r=n(t,e);r===z?(a(),o=[],s=z):(s===z||s===r?o.push(e):(a(),o=[e]),s=r)},i.$each(),a()},{$$s:this}):a(this,"to_enum",["chunk"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:this})}),f(q,"$chunk_while",function t(){var r=t.$$p||z;return t.$$p=null,r!==z||d.$raise(I("ArgumentError"),"no block given"),a(this,"slice_when",[],function t(n,i){return null==n&&(n=z),null==i&&(i=z),e.yieldX(r,[n,i])["$!"]()})}),f(q,"$collect",function e(){var t=e.$$p||z,r=this;if(e.$$p=null,!(t!==z))return a(r,"enum_for",["collect"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:r});var n=[];return r.$each.$$p=function(){var e=i(t,arguments);n.push(e)},r.$each(),n}),f(q,"$collect_concat",function e(){var t=e.$$p||z;return(e.$$p=null,t!==z)?a(this,"map",[],t.$to_proc()).$flatten(1):a(this,"enum_for",["collect_concat"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:this})}),f(q,"$compact",function e(){return this.$to_a().$compact()}),f(q,"$count",function e(r){var n=e.$$p||z,s=z;return e.$$p=null,s=0,null!=r&&n!==z&&this.$warn("warning: given block not used"),t(null!=r)?n=a(d,"proc",[],function e(t){var n,i;return n=u(arguments),i=n,c.$destructure(i)["$=="](r)},-1):t(n["$nil?"]())&&(n=a(d,"proc",[],p(!0))),a(this,"each",[],function e(r){var o,a;return(o=u(arguments),t(i(n,a=o)))?s++:z},-1),s},-1),f(q,"$cycle",function e(r){var i=e.$$p||z,s=this;if(e.$$p=null,null==r&&(r=z),!(i!==z))return a(s,"enum_for",["cycle",r],function e(){var n=null==e.$$s?this:e.$$s;return t(r["$nil?"]())?t(n["$respond_to?"]("size"))?I(I("Float"),"INFINITY"):z:(r=c["$coerce_to!"](r,I("Integer"),"to_int"),t(g(r,0)))?m(n.$enumerator_size(),r):0},{$$s:s});if(!t(r["$nil?"]())&&(r=c["$coerce_to!"](r,I("Integer"),"to_int"),t(r<=0)))return z;var o,u,l,h=[];if(s.$each.$$p=function(){var e=c.$destructure(arguments);n(i,e),h.push(e)},s.$each(),0===h.length)return z;if(r===z)for(;;)for(o=0,u=h.length;o<u;o++)l=n(i,h[o]);else for(;r>1;){for(o=0,u=h.length;o<u;o++)l=n(i,h[o]);r--}},-1),f(q,"$detect",function r(n){try{var i=h("return"),s=r.$$p||z;if(r.$$p=null,!(s!==z))return this.$enum_for("detect",n);if(a(this,"each",[],function r(n){var o,a,l=z;if(o=u(arguments),a=o,l=c.$destructure(a),!t(e.yield1(s,l)))return z;i.$throw(l)},{$$arity:-1,$$ret:i}),void 0!==n){if("function"==typeof n)return n();return n}return z}catch(o){if(o===i)return o.$v;throw o}},-1),f(q,"$drop",function e(n){var i=this;n=r(n,I("Integer"),"to_int"),t(n<0)&&d.$raise(I("ArgumentError"),"attempt to drop negative size");var s=[],o=0;return i.$each.$$p=function(){n<=o&&s.push(c.$destructure(arguments)),o++},i.$each(),s}),f(q,"$drop_while",function e(){var r=e.$$p||z,i=this;if(e.$$p=null,!(r!==z))return i.$enum_for("drop_while");var s=[],o=!0;return i.$each.$$p=function(){var e=c.$destructure(arguments);if(o){var i=n(r,e);t(i)||(o=!1,s.push(e))}else s.push(e)},i.$each(),s}),f(q,"$each_cons",function e(r){var i=e.$$p||z,s=this;if(e.$$p=null,t(1!=arguments.length)&&d.$raise(I("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),r=c.$try_convert(r,I("Integer"),"to_int"),t(r<=0)&&d.$raise(I("ArgumentError"),"invalid size"),!(i!==z))return a(s,"enum_for",["each_cons",r],function e(){var n=null==e.$$s?this:e.$$s,i=z;return t((i=n.$enumerator_size())["$nil?"]())?z:v(i,0)||t($(i,r))?0:_(b(i,r),1)},{$$s:s});var o=[];return s.$each.$$p=function(){var e=c.$destructure(arguments);o.push(e),o.length>r&&o.shift(),o.length==r&&n(i,o.slice(0,r))},s.$each(),s}),f(q,"$each_entry",function e(t){var r,i,s=e.$$p||z,o=this;return(e.$$p=null,r=u(arguments),i=r,s!==z)?(o.$each.$$p=function(){var e=c.$destructure(arguments);n(s,e)},o.$each.apply(o,i),o):a(o,"to_enum",["each_entry"].concat(l(i)),function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:o})},-1),f(q,"$each_slice",function e(i){var s=e.$$p||z,o=this;if(e.$$p=null,i=r(i,I("Integer"),"to_int"),t(i<=0)&&d.$raise(I("ArgumentError"),"invalid slice size"),!(s!==z))return a(o,"enum_for",["each_slice",i],function e(){var r=null==e.$$s?this:e.$$s;return t(r["$respond_to?"]("size"))?y(r.$size(),i).$ceil():z},{$$s:o});var u=[];return o.$each.$$p=function(){var e=c.$destructure(arguments);u.push(e),u.length===i&&(n(s,u),u=[])},o.$each(),u.length>0&&n(s,u),o}),f(q,"$each_with_index",function e(t){var r,n,i=e.$$p||z,s=this;if(e.$$p=null,r=u(arguments),n=r,!(i!==z))return a(s,"enum_for",["each_with_index"].concat(l(n)),function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:s});var o=0;return s.$each.$$p=function(){var e=c.$destructure(arguments);i(e,o),o++},s.$each.apply(s,n),s},-1),f(q,"$each_with_object",function e(t){var r=e.$$p||z,n=this;return(e.$$p=null,r!==z)?(n.$each.$$p=function(){var e=c.$destructure(arguments);r(e,t)},n.$each(),t):a(n,"enum_for",["each_with_object",t],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:n})}),f(q,"$entries",function e(t){var r,n,i=this;r=u(arguments),n=r;var s=[];return i.$each.$$p=function(){s.push(c.$destructure(arguments))},i.$each.apply(i,n),s},-1),f(q,"$filter_map",function e(){var t=e.$$p||z;return(e.$$p=null,t!==z)?a(a(this,"map",[],t.$to_proc()),"select",[],"itself".$to_proc()):a(this,"enum_for",["filter_map"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:this})}),f(q,"$find_all",function e(){var r=e.$$p||z,i=this;if(e.$$p=null,!(r!==z))return a(i,"enum_for",["find_all"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:i});var s=[];return i.$each.$$p=function(){var e=c.$destructure(arguments),i=n(r,e);t(i)&&s.push(e)},i.$each(),s}),f(q,"$find_index",function r(n){try{var i=h("return"),s=r.$$p||z,o=z;if(r.$$p=null,t(void 0===n&&s===z))return this.$enum_for("find_index");return null!=n&&s!==z&&this.$warn("warning: given block not used"),o=0,t(null!=n)?a(this,"each",[],function e(t){var r,s;return r=u(arguments),s=r,v(c.$destructure(s),n)&&i.$throw(o),o+=1},{$$arity:-1,$$ret:i}):a(this,"each",[],function r(n){var a,c;return a=u(arguments),c=a,t(e.yieldX(s,l(c)))&&i.$throw(o),o+=1},{$$arity:-1,$$ret:i}),z}catch(f){if(f===i)return f.$v;throw f}},-1),f(q,"$first",function e(n){try{var i=h("return"),s=z,o=z;if(t(void 0===n))return a(this,"each",[],function e(t){null==t&&(t=z),i.$throw(t)},{$$ret:i});if(s=[],n=r(n,I("Integer"),"to_int"),t(n<0)&&d.$raise(I("ArgumentError"),"attempt to take negative size"),t(0==n))return[];return o=0,a(this,"each",[],function e(r){var a,l;if(a=u(arguments),l=a,s.push(c.$destructure(l)),!t(n<=++o))return z;i.$throw(s)},{$$arity:-1,$$ret:i}),s}catch(l){if(l===i)return l.$v;throw l}},-1),f(q,"$grep",function r(n){var i=r.$$p||z,s=z;return r.$$p=null,s=[],a(this,"each",[],function r(o){var c,h,f=z;return(c=u(arguments),f=C(h=c),t(a(n,"__send__",["==="].concat(l(f)))))?(i!==z?(t(g(h.$length(),1))&&(h=[h]),h=e.yieldX(i,l(h))):t(w(h.$length(),1))&&(h=h["$[]"](0)),s.$push(h)):z},-1),s}),f(q,"$grep_v",function r(n){var i=r.$$p||z,s=z;return r.$$p=null,s=[],a(this,"each",[],function r(o){var c,h,f=z;return(c=u(arguments),f=C(h=c),t(a(n,"__send__",["==="].concat(l(f)))))?z:(i!==z?(t(g(h.$length(),1))&&(h=[h]),h=e.yieldX(i,l(h))):t(w(h.$length(),1))&&(h=h["$[]"](0)),s.$push(h))},-1),s}),f(q,"$group_by",function e(){var r,i,s=e.$$p||z,o=this,u=z,l=z;return(e.$$p=null,s!==z)?(u=E([],{}),o.$each.$$p=function(){var e=c.$destructure(arguments),r=n(s,e);(t(l=u["$[]"](r))?l:(i=[r,[]],a(u,"[]=",i),i[i.length-1]))["$<<"](e)},o.$each(),void 0!==r)?r:u:a(o,"enum_for",["group_by"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:o})}),f(q,"$include?",function e(t){try{var r=h("return");return a(this,"each",[],function e(n){var i,s;if(i=u(arguments),s=i,!v(c.$destructure(s),t))return z;r.$throw(!0)},{$$arity:-1,$$ret:r}),!1}catch(n){if(n===r)return n.$v;throw n}}),f(q,"$inject",function e(t,r){var n=e.$$p||z,s=this;e.$$p=null;var o=t;return n!==z&&void 0===r?s.$each.$$p=function(){var e=c.$destructure(arguments);if(void 0===o){o=e;return}o=e=i(n,[o,e])}:(void 0===r&&(I("Symbol")["$==="](t)||d.$raise(I("TypeError"),""+t.$inspect()+" is not a Symbol"),r=t,o=void 0),s.$each.$$p=function(){var e=c.$destructure(arguments);if(void 0===o){o=e;return}o=o.$__send__(r,e)}),s.$each(),void 0==o?z:o},-1),f(q,"$lazy",function e(){return a(I(I("Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],function e(t,r){var n,i;return null==t&&(t=z),n=u(arguments,1),a(t,"yield",l(i=n))},-2)}),f(q,"$enumerator_size",function e(){return t(this["$respond_to?"]("size"))?this.$size():z}),f(q,"$max",function e(t){var n,s,o=e.$$p||z,u=this;return(e.$$p=null,void 0===t||t===z)?(u.$each.$$p=function(){var e=c.$destructure(arguments);if(void 0===n){n=e;return}(s=o!==z?i(o,[e,n]):e["$<=>"](n))===z&&d.$raise(I("ArgumentError"),"comparison failed"),s>0&&(n=e)},u.$each(),void 0===n)?z:n:(t=r(t,I("Integer"),"to_int"),a(u,"sort",[],o.$to_proc()).$reverse().$first(t))},-1),f(q,"$max_by",function e(r){var i,s,o=e.$$p||z,u=this;return(e.$$p=null,null==r&&(r=z),t(o))?t(r["$nil?"]())?(u.$each.$$p=function(){var e=c.$destructure(arguments),t=n(o,e);if(void 0===i){i=e,s=t;return}t["$<=>"](s)>0&&(i=e,s=t)},u.$each(),void 0===i?z:i):a(u,"sort_by",[],o.$to_proc()).$reverse().$take(r):a(u,"enum_for",["max_by",r],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:u})},-1),f(q,"$min",function r(n){var i,s=r.$$p||z,o=this;return(r.$$p=null,null==n&&(n=z),t(n["$nil?"]()))?(s!==z?o.$each.$$p=function(){var e=c.$destructure(arguments);if(void 0===i){i=e;return}var t=s(e,i);t===z&&d.$raise(I("ArgumentError"),"comparison failed"),t<0&&(i=e)}:o.$each.$$p=function(){var e=c.$destructure(arguments);if(void 0===i){i=e;return}0>c.$compare(e,i)&&(i=e)},o.$each(),void 0===i?z:i):s!==z?a(o,"sort",[],function t(r,n){return null==r&&(r=z),null==n&&(n=z),e.yieldX(s,[r,n])}).$take(n):o.$sort().$take(n)},-1),f(q,"$min_by",function e(r){var i,s,o=e.$$p||z,u=this;return(e.$$p=null,null==r&&(r=z),t(o))?t(r["$nil?"]())?(u.$each.$$p=function(){var e=c.$destructure(arguments),t=n(o,e);if(void 0===i){i=e,s=t;return}0>t["$<=>"](s)&&(i=e,s=t)},u.$each(),void 0===i?z:i):a(u,"sort_by",[],o.$to_proc()).$take(r):a(u,"enum_for",["min_by",r],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:u})},-1),f(q,"$minmax",function e(){var r=e.$$p||z,n=this,i=z;e.$$p=null,r=t(i=r)?i:a(d,"proc",[],function e(t,r){return null==t&&(t=z),null==r&&(r=z),t["$<=>"](r)});var s=z,o=z,u=!0;return n.$each.$$p=function(){var e=c.$destructure(arguments);if(u)s=o=e,u=!1;else{var t=r.$call(s,e);t===z?d.$raise(I("ArgumentError"),"comparison failed"):t>0&&(s=e);var n=r.$call(o,e);n===z?d.$raise(I("ArgumentError"),"comparison failed"):n<0&&(o=e)}},n.$each(),[s,o]}),f(q,"$minmax_by",function e(){var r=e.$$p||z,i=this;if(e.$$p=null,!t(r))return a(i,"enum_for",["minmax_by"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:i});var s,o,u=z,l=z;return i.$each.$$p=function(){var e=c.$destructure(arguments),t=n(r,e);(void 0===s||0>t["$<=>"](s))&&(u=e,s=t),(void 0===o||t["$<=>"](o)>0)&&(l=e,o=t)},i.$each(),[u,l]}),f(q,"$none?",function r(n){try{var i=h("return"),s=r.$$p||z;return r.$$p=null,t(void 0!==n)?a(this,"each",[],function e(r){var s,o,c=z;if(s=u(arguments),o=s,c=C(o),!t(a(n,"public_send",["==="].concat(l(c)))))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}):s!==z?a(this,"each",[],function r(n){var o,a;if(o=u(arguments),a=o,!t(e.yieldX(s,l(a))))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}):a(this,"each",[],function e(r){var n,s,o=z;if(n=u(arguments),s=n,o=c.$destructure(s),!t(o))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}),!0}catch(o){if(o===i)return o.$v;throw o}},-1),f(q,"$one?",function r(n){try{var i=h("return"),s=r.$$p||z,o=z;return r.$$p=null,o=0,t(void 0!==n)?a(this,"each",[],function e(r){var s,c,h=z;if(s=u(arguments),c=s,h=C(c),!t(a(n,"public_send",["==="].concat(l(h))))||(o=_(o,1),!t(g(o,1))))return z;i.$throw(!1)},{$$arity:-1,$$ret:i}):s!==z?a(this,"each",[],function r(n){var a,c;return(a=u(arguments),c=a,t(e.yieldX(s,l(c)))&&(o=_(o,1),t(g(o,1))))?void i.$throw(!1):z},{$$arity:-1,$$ret:i}):a(this,"each",[],function e(r){var n,s;return(n=u(arguments),s=n,t(c.$destructure(s))&&(o=_(o,1),t(g(o,1))))?void i.$throw(!1):z},{$$arity:-1,$$ret:i}),o["$=="](1)}catch(f){if(f===i)return f.$v;throw f}},-1),f(q,"$partition",function e(){var r=e.$$p||z,i=this;if(e.$$p=null,!(r!==z))return a(i,"enum_for",["partition"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:i});var s=[],o=[];return i.$each.$$p=function(){var e=c.$destructure(arguments),i=n(r,e);t(i)?s.push(e):o.push(e)},i.$each(),[s,o]}),f(q,"$reject",function e(){var r=e.$$p||z,i=this;if(e.$$p=null,!(r!==z))return a(i,"enum_for",["reject"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:i});var s=[];return i.$each.$$p=function(){var e=c.$destructure(arguments),i=n(r,e);t(i)||s.push(e)},i.$each(),s}),f(q,"$reverse_each",function e(){var t=e.$$p||z,r=this;if(e.$$p=null,!(t!==z))return a(r,"enum_for",["reverse_each"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:r});var n=[];r.$each.$$p=function(){n.push(arguments)},r.$each();for(var s=n.length-1;s>=0;s--)i(t,n[s]);return n}),f(q,"$slice_before",function e(r){var i=e.$$p||z;return e.$$p=null,t(void 0===r&&i===z)&&d.$raise(I("ArgumentError"),"both pattern and block are given"),t(void 0!==r&&i!==z||arguments.length>1)&&d.$raise(I("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),a(I("Enumerator"),"new",[],function e(s){var o=null==e.$$s?this:e.$$s;null==s&&(s=z);var a=[];i!==z?void 0===r?o.$each.$$p=function(){var e=c.$destructure(arguments),r=n(i,e);t(r)&&a.length>0&&(s["$<<"](a),a=[]),a.push(e)}:o.$each.$$p=function(){var e=c.$destructure(arguments),n=i(e,r.$dup());t(n)&&a.length>0&&(s["$<<"](a),a=[]),a.push(e)}:o.$each.$$p=function(){var e=c.$destructure(arguments),n=r["$==="](e);t(n)&&a.length>0&&(s["$<<"](a),a=[]),a.push(e)},o.$each(),a.length>0&&s["$<<"](a)},{$$s:this})},-1),f(q,"$slice_after",function e(r){var i=e.$$p||z;return e.$$p=null,t(void 0===r&&i===z)&&d.$raise(I("ArgumentError"),"both pattern and block are given"),t(void 0!==r&&i!==z||arguments.length>1)&&d.$raise(I("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),t(void 0!==r)&&(i=a(d,"proc",[],function e(t){return null==t&&(t=z),r["$==="](t)})),a(I("Enumerator"),"new",[],function e(r){var s,o=null==e.$$s?this:e.$$s;null==r&&(r=z),o.$each.$$p=function(){var e=c.$destructure(arguments),o=n(i,e);null==s&&(s=[]),t(o)?(s.push(e),r.$yield(s),s=null):s.push(e)},o.$each(),null!=s&&r.$yield(s)},{$$s:this})},-1),f(q,"$slice_when",function e(){var r=e.$$p||z;return e.$$p=null,r!==z||d.$raise(I("ArgumentError"),"wrong number of arguments (0 for 1)"),a(I("Enumerator"),"new",[],function e(n){var s=null==e.$$s?this:e.$$s;null==n&&(n=z);var o=z,a=z;s.$each_cons.$$p=function(){var e=c.$destructure(arguments),s=e[0],u=e[1],l=i(r,[s,u]);a=u,o===z&&(o=[]),t(l)?(o.push(s),n.$yield(o),o=[]):o.push(s)},s.$each_cons(2),o!==z&&(o.push(a),n.$yield(o))},{$$s:this})}),f(q,"$sort",function e(){var t=e.$$p||z,r=z;return e.$$p=null,r=this.$to_a(),t!==z||(t=x(function e(t,r){return null==t&&(t=z),null==r&&(r=z),t["$<=>"](r)})),a(r,"sort",[],t.$to_proc())}),f(q,"$sort_by",function t(){var r=t.$$p||z,n=z;return(t.$$p=null,r!==z)?(n=a(this,"map",[],function t(){var n=z;return n=c.$destructure(arguments),[e.yield1(r,n),n]}),a(n,"sort!",[],function e(t,r){return null==t&&(t=z),null==r&&(r=z),t[0]["$<=>"](r[0])}),a(n,"map!",[],function e(t){return null==t&&(t=z),t[1]})):a(this,"enum_for",["sort_by"],function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()},{$$s:this})}),f(q,"$sum",function r(n){var i=r.$$p||z,s=z,o=z;return r.$$p=null,null==n&&(n=0),s=n,o=0,a(this,"each",[],function r(n){var a,h,f=z,d=z,p=z;return(a=u(arguments),h=a,f=i!==z?e.yieldX(i,l(h)):c.$destructure(h),k([I(I("Float"),"INFINITY"),I(I("Float"),"INFINITY")["$-@"]()]["$include?"](f))&&t(f["$respond_to?"]("-")))?(d=b(f,o),p=_(s,d),o=b(b(p,s),d),s=p):s=_(s,f)},-1),s},-1),f(q,"$take",function e(t){return this.$first(t)}),f(q,"$take_while",function r(){try{var n=h("return"),i=r.$$p||z,s=z;if(r.$$p=null,!t(i))return this.$enum_for("take_while");return s=[],a(this,"each",[],function r(o){var a,l,h=z;return a=u(arguments),l=a,h=c.$destructure(l),t(e.yield1(i,h))||n.$throw(s),s.push(h)},{$$arity:-1,$$ret:n})}catch(o){if(o===n)return o.$v;throw o}}),f(q,"$uniq",function r(){var n=r.$$p||z,i=z;return r.$$p=null,i=E([],{}),a(this,"each",[],function r(s){var o,l,h,f=z,d=z;return(o=u(arguments),l=o,f=c.$destructure(l),d=n!==z?e.yield1(n,f):f,t(i["$key?"](d)))?z:(h=[d,f],a(i,"[]=",h),h[h.length-1])},-1),i.$values()}),f(q,"$tally",function e(r){var n=z;return(r&&r!==z&&s(r),n=a(a(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),t(r))?(a(n,"each",[],function e(t,n){var i;return null==t&&(t=z),null==n&&(n=z),i=[t,_(r.$fetch(t,0),n)],a(r,"[]=",i),i[i.length-1]}),r):n},-1),f(q,"$to_h",function t(r){var n,i,s=t.$$p||z,o=this;if(t.$$p=null,n=u(arguments),i=n,s!==z)return a(a(o,"map",[],s.$to_proc()),"to_h",l(i));var h=E([],{});return o.$each.$$p=function(){var t,r,n=c.$destructure(arguments),i=c["$coerce_to?"](n,I("Array"),"to_ary");i.$$is_array||d.$raise(I("TypeError"),"wrong element type "+i.$class()+" (expected array)"),2!==i.length&&d.$raise(I("ArgumentError"),"wrong array length (expected 2, was "+i.$length()+")"),t=i[0],r=i[1],e.hash_put(h,t,r)},o.$each.apply(o,i),h},-1),f(q,"$to_set",function e(t,r){var n,i,s,o=e.$$p||z;return e.$$p=null,n=u(arguments),n.length>0&&(i=n.shift()),null==i&&(i=T("Set")),a(i,"new",[this].concat(l(s=n)),o.$to_proc())},-1),f(q,"$zip",function e(t){var r,n;return e.$$p,e.$$p=null,r=u(arguments),n=r,a(this.$to_a(),"zip",l(n))},-1),A(q,"find","detect"),A(q,"filter","find_all"),A(q,"flat_map","collect_concat"),A(q,"map","collect"),A(q,"member?","include?"),A(q,"reduce","inject"),A(q,"select","find_all"),A(q,"to_a","entries")}("::",[])},Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var t,r,n,i,s,o,a,u,l,c,h,f=e.klass,d=e.truthy,p=e.to_a,g=e.eqeq,m=e.Kernel,$=e.def,v=e.rb_gt,_=e.rb_lt,b=e.rb_le,y=e.rb_ge,w=e.rb_plus,E=e.rb_minus,x=e.eqeqeq,k=e.not,A=e.rb_times,z=e.rb_divide,I=e.alias,S=e.nil,O=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),t=[],n=[r=f("::",null,"Enumerator")].concat(t),i=r,s=r,o=n,u=[a=f(i,s,"ArithmeticSequence")].concat(o),l=e.$r(u),(c=a.$$prototype).step_arg2=c.receiver_num=c.step_arg1=c.step=c.range=c.topfx=c.bypfx=c.creation_method=c.skipped_arg=S,e.prop(a.$$prototype,"$$is_arithmetic_seq",!0),h=1/0,$(a,"$initialize",function t(r,n,i){var s,o=this,a=S;return(null==i&&(i="step"),o.creation_method=i,d(r["$is_a?"](O("Array")))?(s=[].concat(p(r)),o.step_arg1=null==s[0]?S:s[0],o.step_arg2=null==s[1]?S:s[1],o.topfx=null==s[2]?S:s[2],o.bypfx=null==s[3]?S:s[3],o.receiver_num=n,o.step=1,o.range=d(o.step_arg2)?(o.step=o.step_arg2,e.Range.$new(o.receiver_num,o.step_arg1,!1)):d(o.step_arg1)?e.Range.$new(o.receiver_num,o.step_arg1,!1):e.Range.$new(o.receiver_num,S,!1)):(d(n)||(o.skipped_arg=!0),s=[r,d(a=n)?a:1],o.range=s[0],o.step=s[1]),o.object=o,g(o.step,0)&&m.$raise(l("ArgumentError"),"step can't be 0"),d(o.step["$respond_to?"]("to_int")))?S:m.$raise(l("ArgumentError"),"no implicit conversion of "+o.step.$class()+" into Integer")},-2),a.$attr_reader("step"),$(a,"$begin",function e(){return this.range.$begin()}),$(a,"$end",function e(){return this.range.$end()}),$(a,"$exclude_end?",function e(){return this.range["$exclude_end?"]()}),$(a,"$_lesser_than_end?",function e(t){var r=S,n=S;return(r=d(n=this.$end())?n:h,d(v(this.$step(),0)))?d(this["$exclude_end?"]())?_(t,r):b(t,r):d(this["$exclude_end?"]())?v(t,r):y(t,r)}),$(a,"$_greater_than_begin?",function e(t){var r=S,n=S;return(r=d(n=this.$begin())?n:h["$-@"](),d(v(this.$step(),0)))?v(t,r):_(t,r)}),$(a,"$first",function e(t){var r=S,n=S,i=S;if(r=d(n=this.$begin())?n:h["$-@"](),!d(t))return d(this["$_lesser_than_end?"](r))?r:S;for(i=[];d(d(n=this["$_lesser_than_end?"](r))?v(t,0):n);)i["$<<"](r),r=w(r,this.$step()),t=E(t,1);return i},-1),$(a,"$each",function t(){var r=t.$$p||S,n=S,i=S;if(t.$$p=null,!(r!==S))return this;for(x(S,n=this.$begin())&&m.$raise(l("TypeError"),"nil can't be coerced into Integer"),i=d(n=this.$begin())?n:h["$-@"]();d(this["$_lesser_than_end?"](i));)e.yield1(r,i),i=w(i,this.$step());return this}),$(a,"$last",function e(t){var r=S,n=S,i=S;if(x(h,r=this.$end())||x(h["$-@"](),r)?m.$raise(O("FloatDomainError"),this.$end()):x(S,r)&&m.$raise(O("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=E(this.$end(),E(this.$end(),this.$begin())["$%"](this.$step())),d(this["$_lesser_than_end?"](n))||(n=E(n,this.$step())),!d(t))return d(this["$_greater_than_begin?"](n))?n:S;for(i=[];d(d(r=this["$_greater_than_begin?"](n))?v(t,0):r);)i["$<<"](n),n=E(n,this.$step()),t=E(t,1);return i.$reverse()},-1),$(a,"$size",function e(){var t=S,r=S;return(t=d(v(this.$step(),0))?1:-1,k(this["$_lesser_than_end?"](this.$begin())))?0:d([h["$-@"](),h]["$include?"](this.$step()))?1:d([A(h["$-@"](),t),S]["$include?"](this.$begin()))||d([A(h,t),S]["$include?"](this.$end()))?h:(r=E(this.$end(),E(this.$end(),this.$begin())["$%"](this.$step())),d(this["$_lesser_than_end?"](r))||(r=E(r,this.$step())),w(z(E(r,this.$begin()),this.$step()).$abs().$to_i(),1))}),$(a,"$==",function e(t){var r=S,n=S,i=S,s=S;return d(r=d(n=d(i=d(s=this.$class()["$=="](t.$class()))?this.$begin()["$=="](t.$begin()):s)?this.$end()["$=="](t.$end()):i)?this.$step()["$=="](t.$step()):n)?this["$exclude_end?"]()["$=="](t["$exclude_end?"]()):r}),$(a,"$hash",function e(){return[this.$begin(),this.$end(),this.$step(),this["$exclude_end?"]()].$hash()}),$(a,"$inspect",function e(){var t=S;return d(this.receiver_num)?(t=d(this.step_arg2)?"("+this.topfx+this.step_arg1.$inspect()+", "+this.bypfx+this.step_arg2.$inspect()+")":d(this.step_arg1)?"("+this.topfx+this.step_arg1.$inspect()+")":S,"("+this.receiver_num.$inspect()+"."+this.creation_method+t+")"):(t=d(this.skipped_arg)?S:"("+this.step+")","(("+this.range.$inspect()+")."+this.creation_method+t+")")}),I(a,"===","=="),I(a,"eql?","==")},Opal.modules["corelib/enumerator/chain"]=function(e){var t,r,n,i,s,o=e.deny_frozen_access,a=e.klass,u=e.slice,l=e.def,c=e.send,h=e.to_a,f=e.truthy,d=e.rb_plus,p=e.thrower,g=e.nil,m=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),r=t=a("::",null,"Enumerator"),(s=(i=a(r,n=t,"Chain")).$$prototype).enums=s.iterated=g,l(i,"$initialize",function e(t){var r,n,i=this;return r=u(arguments),n=r,o(i),i.enums=n,i.iterated=[],i.object=i},-1),l(i,"$each",function e(t){var r,n,i=e.$$p||g;return(e.$$p=null,r=u(arguments),n=r,i!==g)?(c(this.enums,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==r.iterated&&(r.iterated=g),null==t&&(t=g),r.iterated["$<<"](t),c(t,"each",h(n),i.$to_proc())},{$$s:this}),this):c(this,"to_enum",["each"].concat(h(n)),function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})},-1),l(i,"$size",function e(t){try{var r,n,i=p("return"),s=g;return r=u(arguments),n=r,s=0,c(this.enums,"each",[],function e(t){var r=g;return null==t&&(t=g),r=c(t,"size",h(n)),f([g,m(m("Float"),"INFINITY")]["$include?"](r))&&i.$throw(r),s=d(s,r)},{$$ret:i}),s}catch(o){if(o===i)return o.$v;throw o}},-1),l(i,"$rewind",function e(){var t=this;return c(t.iterated,"reverse_each",[],function e(t){return(null==t&&(t=g),f(t["$respond_to?"]("rewind")))?t.$rewind():g}),t.iterated=[],t}),l(i,"$inspect",function e(){return"#<Enumerator::Chain: "+this.enums.$inspect()+">"})},Opal.modules["corelib/enumerator/generator"]=function(e){var t,r,n,i,s,o,a,u,l,c=e.deny_frozen_access,h=e.klass,f=e.truthy,d=e.Kernel,p=e.def,g=e.slice,m=e.send,$=[],v=e.nil,_=e.$$$;return e.add_stubs("include,raise,new,to_proc"),t=$[0],i=(n=[h(t,null,"Enumerator")].concat(r=$))[0],o=n,u=[a=h(i,null,"Generator")].concat(o),l=e.$r(u),a.$$prototype.block=v,a.$include(_("Enumerable")),p(a,"$initialize",function e(){var t=e.$$p||v,r=this;return e.$$p=null,c(r),f(t)||d.$raise(_("LocalJumpError"),"no block given"),r.block=t}),p(a,"$each",function t(r){var n,i,s=t.$$p||v,o=v;t.$$p=null,n=g(arguments),i=n,o=m(l("Yielder"),"new",[],s.$to_proc());try{i.unshift(o),e.yieldX(this.block,i)}catch(a){if(a&&"breaker"==a.$thrower_type)return a.$v;throw a}return this},-1)},Opal.modules["corelib/enumerator/lazy"]=function(e){var t,r,n,i,s,o,a,u,l,c=e.truthy,h=e.coerce_to,f=e.yield1,d=e.yieldX,p=e.deny_frozen_access,g=e.klass,m=e.slice,$=e.send2,v=e.find_super,_=e.to_a,b=e.defs,y=e.Kernel,w=e.send,E=e.def,x=e.return_self,k=e.Opal,A=e.rb_lt,z=e.eqeqeq,I=e.rb_plus,S=e.alias,O=e.nil,q=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),t=[],n=[r=g("::",null,"Enumerator")].concat(t),i=r,s=r,o=n,u=[a=g(i,s,"Lazy")].concat(o),l=e.$r(u),a.$$prototype.enumerator=O,g(a,q("Exception"),"StopLazyError"),b(a,"$for",function e(t,r){var n,i,s=e.$$p||O,o=O;return e.$$p=null,n=m(arguments,1),i=n,(o=$(this,v(this,"for",e,!1,!0),"for",[t].concat(_(i)),s)).enumerator=t,o},-2),E(a,"$initialize",function t(r,n){var i=t.$$p||O,s=this;return t.$$p=null,null==n&&(n=O),p(s),i!==O||y.$raise(q("ArgumentError"),"tried to call lazy new without a block"),s.enumerator=r,$(s,v(s,"initialize",t,!1,!0),"initialize",[n],function t(n,s){var o,a;null==n&&(n=O),o=m(arguments,1),a=o;try{return w(r,"each",_(a),function e(t){var r,s;r=m(arguments),(s=r).unshift(n),d(i,s)},-1)}catch(u){if(e.rescue(u,[l("StopLazyError")]))try{return O}finally{e.pop_exception()}else throw u}},-2)},-2),E(a,"$lazy",x),E(a,"$collect",function e(){var t=e.$$p||O;return e.$$p=null,c(t)||y.$raise(q("ArgumentError"),"tried to call lazy map without a block"),w(l("Lazy"),"new",[this,this.$enumerator_size()],function e(r,n){null==r&&(r=O),i=m(arguments,1);var i,s,o=d(t,s=i);r.$yield(o)},-2)}),E(a,"$collect_concat",function e(){var t=e.$$p||O;return e.$$p=null,c(t)||y.$raise(q("ArgumentError"),"tried to call lazy map without a block"),w(l("Lazy"),"new",[this,O],function e(r,n){null==r&&(r=O),i=m(arguments,1);var i,s,o=d(t,s=i);o["$respond_to?"]("force")&&o["$respond_to?"]("each")?w(o,"each",[],function e(t){return null==t&&(t=O),r.$yield(t)}):k.$try_convert(o,q("Array"),"to_ary")===O?r.$yield(o):w(o,"each",[],function e(t){return null==t&&(t=O),r.$yield(t)})},-2)}),E(a,"$drop",function e(t){var r=O,n=O,i=O;return c(A(t=h(t,q("Integer"),"to_int"),0))&&y.$raise(q("ArgumentError"),"attempt to drop negative size"),r=this.$enumerator_size(),n=z(q("Integer"),r)&&c(A(t,r))?t:r,i=0,w(l("Lazy"),"new",[this,n],function e(r,n){var s,o;return(null==r&&(r=O),s=m(arguments,1),o=s,c(A(i,t)))?i=I(i,1):w(r,"yield",_(o))},-2)}),E(a,"$drop_while",function e(){var t=e.$$p||O,r=O;return e.$$p=null,c(t)||y.$raise(q("ArgumentError"),"tried to call lazy drop_while without a block"),r=!0,w(l("Lazy"),"new",[this,O],function e(n,i){var s,o;if(null==n&&(n=O),s=m(arguments,1),o=s,!c(r))return w(n,"yield",_(o));c(d(t,o))||(r=!1,w(n,"yield",_(o)))},-2)}),E(a,"$enum_for",function e(t,r){var n,i,s,o=e.$$p||O;return e.$$p=null,n=m(arguments),n.length>0&&(i=n.shift()),null==i&&(i="each"),s=n,w(this.$class(),"for",[this,i].concat(_(s)),o.$to_proc())},-1),E(a,"$find_all",function e(){var t=e.$$p||O;return e.$$p=null,c(t)||y.$raise(q("ArgumentError"),"tried to call lazy select without a block"),w(l("Lazy"),"new",[this,O],function e(r,n){var i,s;null==r&&(r=O),i=m(arguments,1),c(d(t,s=i))&&w(r,"yield",_(s))},-2)}),E(a,"$grep",function e(t){var r=e.$$p||O;return(e.$$p=null,c(r))?w(l("Lazy"),"new",[this,O],function e(n,i){null==n&&(n=O),s=m(arguments,1),o=s;var s,o,a=k.$destructure(o),u=t["$==="](a);c(u)&&(u=f(r,a),n.$yield(f(r,a)))},-2):w(l("Lazy"),"new",[this,O],function e(r,n){null==r&&(r=O),i=m(arguments,1),s=i;var i,s,o=k.$destructure(s);c(t["$==="](o))&&r.$yield(o)},-2)}),E(a,"$reject",function e(){var t=e.$$p||O;return e.$$p=null,c(t)||y.$raise(q("ArgumentError"),"tried to call lazy reject without a block"),w(l("Lazy"),"new",[this,O],function e(r,n){var i,s;null==r&&(r=O),i=m(arguments,1),c(d(t,s=i))||w(r,"yield",_(s))},-2)}),E(a,"$take",function e(t){var r=O,n=O,i=O;return c(A(t=h(t,q("Integer"),"to_int"),0))&&y.$raise(q("ArgumentError"),"attempt to take negative size"),r=this.$enumerator_size(),n=z(q("Integer"),r)&&c(A(t,r))?t:r,i=0,w(l("Lazy"),"new",[this,n],function e(r,n){var s,o;return(null==r&&(r=O),s=m(arguments,1),o=s,c(A(i,t)))?(w(r,"yield",_(o)),i=I(i,1)):y.$raise(l("StopLazyError"))},-2)}),E(a,"$take_while",function e(){var t=e.$$p||O;return e.$$p=null,c(t)||y.$raise(q("ArgumentError"),"tried to call lazy take_while without a block"),w(l("Lazy"),"new",[this,O],function e(r,n){var i,s;null==r&&(r=O),i=m(arguments,1),c(d(t,s=i))?w(r,"yield",_(s)):y.$raise(l("StopLazyError"))},-2)}),E(a,"$inspect",function e(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"}),S(a,"force","to_a"),S(a,"filter","find_all"),S(a,"flat_map","collect_concat"),S(a,"map","collect"),S(a,"select","find_all"),S(a,"to_enum","enum_for")},Opal.modules["corelib/enumerator/yielder"]=function(e){var t,r,n,i,s,o,a=e.klass,u=e.def,l=e.slice,c=e.send,h=e.to_a,f=[],d=e.nil;return e.add_stubs("yield,proc"),t=f[0],i=(n=[a(t,null,"Enumerator")].concat(r=f))[0],(o=a(i,null,"Yielder")).$$prototype.block=d,u(o,"$initialize",function e(){var t=e.$$p||d,r=this;return e.$$p=null,r.block=t,r}),u(o,"$yield",function t(r){n=l(arguments),i=n;var n,i,s=e.yieldX(this.block,i);if(s&&"break"==s.$thrower_type)throw s;return s},-1),u(o,"$<<",function e(t){return this.$yield(t),this}),u(o,"$to_proc",function e(){return c(this,"proc",[],function e(t){var r,n,i=null==e.$$s?this:e.$$s;return r=l(arguments),c(i,"yield",h(n=r))},{$$arity:-1,$$s:this})})},Opal.modules["corelib/enumerator"]=function(e){var t,r,n,i,s,o=e.slice,a=e.coerce_to,u=e.deny_frozen_access,l=e.klass,c=e.defs,h=e.truthy,f=e.send,d=e.not,p=e.def,g=e.rb_plus,m=e.to_a,$=e.Opal,v=e.send2,_=e.find_super,b=e.rb_ge,y=e.Kernel,w=e.rb_le,E=e.alias,x=e.top,k=e.nil,A=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),x.$require("corelib/enumerable"),t=[],n=[r=l("::",null,"Enumerator")].concat(t),i=e.$r(n),(s=r.$$prototype).size=s.args=s.object=s.method=s.values=s.cursor=k,r.$include(A("Enumerable")),r.$$prototype.$$is_enumerator=!0,c(r,"$for",function e(t,r,n){var i,s,a,u=e.$$p||k;e.$$p=null,i=o(arguments,1),i.length>0&&(s=i.shift()),null==s&&(s="each"),a=i;var l=this.$allocate();return l.object=t,l.size=u,l.method=s,l.args=a,l.cursor=0,l},-2),p(r,"$initialize",function e(t){var r,n,s=e.$$p||k,l=this;return(e.$$p=null,r=o(arguments),n=r,u(l),l.cursor=0,h(s))?(l.object=f(i("Generator"),"new",[],s.$to_proc()),l.method="each",l.args=[],l.size=arguments[0]||k,h(l.size)&&d(l.size["$respond_to?"]("call")))?l.size=a(l.size,A("Integer"),"to_int"):k:(l.object=arguments[0],l.method=arguments[1]||"each",l.args=o(arguments,2),l.size=k)},-1),p(r,"$each",function e(t){var r,n,i=e.$$p||k;return(e.$$p=null,r=o(arguments),n=r,h(i["$nil?"]())&&h(n["$empty?"]()))?this:(n=g(this.args,n),h(i["$nil?"]()))?f(this.$class(),"new",[this.object,this.method].concat(m(n))):f(this.object,"__send__",[this.method].concat(m(n)),i.$to_proc())},-1),p(r,"$size",function e(){return h(this.size["$respond_to?"]("call"))?f(this.size,"call",m(this.args)):this.size}),p(r,"$with_index",function e(t){var r=e.$$p||k,n=this;if(e.$$p=null,null==t&&(t=0),t=h(t)?a(t,A("Integer"),"to_int"):0,!h(r))return f(n,"enum_for",["with_index",t],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:n});var i=t;return n.$each.$$p=function(){var e=$.$destructure(arguments),t=r(e,i);return i++,t},n.$each()},-1),p(r,"$each_with_index",function e(){var t=e.$$p||k;return(e.$$p=null,t!==k)?(v(this,_(this,"each_with_index",e,!1,!0),"each_with_index",[],t),this.object):f(this,"enum_for",["each_with_index"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),p(r,"$rewind",function e(){var t=this;return t.cursor=0,t}),p(r,"$peek_values",function e(){var t=this,r=k;return t.values=h(r=t.values)?r:f(t,"map",[],function e(t){var r,n;return r=o(arguments),n=r},-1),h(b(t.cursor,t.values.$length()))&&y.$raise(A("StopIteration"),"iteration reached an end"),t.values["$[]"](t.cursor)}),p(r,"$peek",function e(){var t=k;return h(w((t=this.$peek_values()).$length(),1))?t["$[]"](0):t}),p(r,"$next_values",function e(){var t=this,r=k;return r=t.$peek_values(),t.cursor=g(t.cursor,1),r}),p(r,"$next",function e(){var t=k;return h(w((t=this.$next_values()).$length(),1))?t["$[]"](0):t}),p(r,"$feed",function e(t){return this.$raise(i("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),p(r,"$+",function e(t){return A(A("Enumerator"),"Chain").$new(this,t)}),p(r,"$inspect",function e(){var t=k;return t="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method,h(this.args["$any?"]())&&(t=g(t,"("+this.args.$inspect()["$[]"](A("Range").$new(1,-2))+")")),g(t,">")}),E(r,"with_object","each_with_object"),r.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),r.$autoload("Chain","corelib/enumerator/chain"),r.$autoload("Generator","corelib/enumerator/generator"),r.$autoload("Lazy","corelib/enumerator/lazy"),r.$autoload("Yielder","corelib/enumerator/yielder")},Opal.modules["corelib/numeric"]=function(e){var t,r=e.klass,n=e.truthy,i=e.Kernel,s=e.def,o=e.to_ary,a=e.return_self,u=e.rb_minus,l=e.rb_times,c=e.rb_lt,h=e.eqeq,f=e.rb_divide,d=e.return_val,p=e.Opal,g=e.slice,m=e.extract_kwargs,$=e.ensure_kwargs,v=e.not,_=e.send,b=e.rb_ge,y=e.rb_le,w=e.rb_plus,E=e.rb_gt,x=e.alias,k=e.top,A=e.nil,z=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),k.$require("corelib/comparable"),(t=r("::",null,"Numeric")).$include(z("Comparable")),s(t,"$coerce",function e(t){return n(t["$instance_of?"](this.$class()))?[t,this]:[i.$Float(t),i.$Float(this)]}),s(t,"$__coerced__",function e(t,r){var s,a,u=A,l=A;if(n(r["$respond_to?"]("coerce")))return u=null==(s=o(a=r.$coerce(this)))[0]?A:s[0],l=null==s[1]?A:s[1],u.$__send__(t,l);switch(t){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return i.$raise(z("TypeError"),""+r.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return i.$raise(z("ArgumentError"),"comparison of "+this.$class()+" with "+r.$class()+" failed");default:return A}}),s(t,"$<=>",function e(t){return n(this["$equal?"](t))?0:A}),s(t,"$+@",a),s(t,"$-@",function e(){return u(0,this)}),s(t,"$%",function e(t){return u(this,l(t,this.$div(t)))}),s(t,"$abs",function e(){return c(this,0)?this["$-@"]():this}),s(t,"$abs2",function e(){return l(this,this)}),s(t,"$angle",function e(){return c(this,0)?z(z("Math"),"PI"):0}),s(t,"$ceil",function e(t){return null==t&&(t=0),this.$to_f().$ceil(t)},-1),s(t,"$conj",a),s(t,"$denominator",function e(){return this.$to_r().$denominator()}),s(t,"$div",function e(t){return h(t,0)&&i.$raise(z("ZeroDivisionError"),"divided by o"),f(this,t).$floor()}),s(t,"$divmod",function e(t){return[this.$div(t),this["$%"](t)]}),s(t,"$fdiv",function e(t){return f(this.$to_f(),t)}),s(t,"$floor",function e(t){return null==t&&(t=0),this.$to_f().$floor(t)},-1),s(t,"$i",function e(){return i.$Complex(0,this)}),s(t,"$imag",d(0)),s(t,"$integer?",d(!1)),s(t,"$nonzero?",function e(){return n(this["$zero?"]())?A:this}),s(t,"$numerator",function e(){return this.$to_r().$numerator()}),s(t,"$polar",function e(){return[this.$abs(),this.$arg()]}),s(t,"$quo",function e(t){return f(p["$coerce_to!"](this,z("Rational"),"to_r"),t)}),s(t,"$real",a),s(t,"$real?",d(!0)),s(t,"$rect",function e(){return[this,0]}),s(t,"$round",function e(t){return this.$to_f().$round(t)},-1),s(t,"$step",function t(r,s,o){var a,u,l,c,h,f,d=t.$$p||A,E=this,x=A;function k(){c===A&&i.$raise(z("TypeError"),"step must be numeric"),null!=c&&c["$=="](0)&&i.$raise(z("ArgumentError"),"step can't be 0"),(c===A||null==c)&&(c=1);var e=c["$<=>"](0);e===A&&i.$raise(z("ArgumentError"),"0 can't be coerced into "+c.$class()),(l===A||null==l)&&(l=e>0?z(z("Float"),"INFINITY"):z(z("Float"),"INFINITY")["$-@"]()),p.$compare(E,l)}function I(){if(c>0&&E>l||c<0&&E<l)return 0;if(c===1/0||c===-1/0)return 1;var e=Math.abs,t=(e(E)+e(l)+e(l-E))/e(c)*z(z("Float"),"EPSILON");return t===1/0||t===-1/0?0:(t>.5&&(t=.5),(0,Math.floor)((l-E)/c+t)+1)}if(t.$$p=null,a=g(arguments),u=$(u=m(a)),a.length>0&&(l=a.shift()),a.length>0&&(c=a.shift()),h=u.$$smap.to,f=u.$$smap.by,void 0!==l&&void 0!==h&&i.$raise(z("ArgumentError"),"to is given twice"),void 0!==c&&void 0!==f&&i.$raise(z("ArgumentError"),"step is given twice"),void 0!==h&&(l=h),void 0!==f&&(c=f),void 0===l&&(l=A),!(d!==A))return(v(l)||n(l["$is_a?"](z("Numeric"))))&&(v(c)||n(c["$is_a?"](z("Numeric"))))?z(z("Enumerator"),"ArithmeticSequence").$new([l,c,n(h)?"to: ":A,n(f)?"by: ":A],E):_(E,"enum_for",["step",l,c],(function e(){if(k(),0===c)return 1/0;if(c%1!=0)return I();if(c>0&&E>l||c<0&&E<l)return 0;var t=Math.abs,r=t(E-l)+1,n=t(c);return(0,Math.ceil)(r/n)}).$to_proc());k();var S=c["$negative?"](),O=c["$=="](0)||l===1/0&&!S||l===-1/0&&S;if(E.$$is_number&&c.$$is_number&&l.$$is_number){if(E%1==0&&(O||l%1==0)&&c%1==0){var q=E;if(O)for(;;q+=c)d(q);else if(S)for(;q>=l;q+=c)d(q);else for(;q<=l;q+=c)d(q);return E}var R=E.$to_f().valueOf();c=c.$to_f().valueOf(),l=l.$to_f().valueOf();var T=I();if(isFinite(c)){if(0===c)for(;;)d(R);else for(var C=0;C<T;C++){var N=C*c+E;(c>=0?l<N:l>N)&&(N=l),d(N)}}else 0!==T&&d(R);return E}for(x=E;n(S?b(x,l):y(x,l));)e.yield1(d,x),x=w(x,c)},-1),s(t,"$to_c",function e(){return i.$Complex(this,0)}),s(t,"$to_int",function e(){return this.$to_i()}),s(t,"$truncate",function e(t){return null==t&&(t=0),this.$to_f().$truncate(t)},-1),s(t,"$zero?",function e(){return this["$=="](0)}),s(t,"$positive?",function e(){return E(this,0)}),s(t,"$negative?",function e(){return c(this,0)}),s(t,"$dup",a),s(t,"$clone",function e(t){var r;return null==(r=(t=$(t)).$$smap.freeze)&&(r=!0),this},-1),s(t,"$finite?",d(!0)),s(t,"$infinite?",d(A)),x(t,"arg","angle"),x(t,"conjugate","conj"),x(t,"imaginary","imag"),x(t,"magnitude","abs"),x(t,"modulo","%"),x(t,"phase","arg"),x(t,"rectangular","rect")},Opal.modules["corelib/array"]=function(e){var t=e.truthy,r=e.falsy,n=e.hash_ids,i=e.yield1,s=e.hash_get,o=e.hash_put,a=e.hash_delete,u=e.coerce_to,l=e.respond_to,c=e.deny_frozen_access,h=e.freeze,f=e.klass,d=e.slice,p=e.defs,g=e.Kernel,m=e.def,$=e.Opal,v=e.eqeqeq,_=e.hash2,b=e.send2,y=e.find_super,w=e.send,E=e.rb_gt,x=e.rb_times,k=e.eqeq,A=e.rb_minus,z=e.to_a,I=e.to_ary,S=e.gvars,O=e.rb_ge,q=e.assign_ivar,R=e.rb_lt,T=e.return_self,C=e.neqeq,N=e.alias,F=e.top,j=e.nil,M=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),F.$require("corelib/enumerable"),F.$require("corelib/numeric"),function(F,P,D){var B=f("::",P,"Array"),L=[B].concat(D),U=e.$r(L);function K(e,t,r){for(var n,s=null,o=Array(e.length),a=0,u=0,l=e.length;a<l;a++){if(!s)try{n=i(r,e[a])}catch(c){s=c}(s||t(n))&&(o[u]=e[a],u+=1)}if(u!==a&&(e.splice.apply(e,[0,o.length].concat(o)),e.splice(u,o.length)),s)throw s}function G(t,r){var n,i,s,o,a=t.length;return(n=r.excl,i=r.begin===j?0:u(r.begin,e.Integer,"to_int"),s=r.end===j?-1:u(r.end,e.Integer,"to_int"),i<0&&(i+=a)<0)?j:(r.excl_rev&&r.begin!==j&&(i+=1),i>a)?j:s<0&&(s+=a)<0?[]:(n&&r.end!==j||(s+=1),o=t.slice(i,s))}function Y(e,t){return e===t||0===t?1:t>0&&e>t?Y(e-1,t-1)+Y(e-1,t):0}B.$include(M("Enumerable")),e.prop(B.$$prototype,"$$is_array",!0),p(B,"$[]",function t(r){var n,i,s,o;return n=d(arguments),s=i=n,o=this,o.$$name===e.Array?s:o.$allocate().$replace(s.$to_a())},-1),m(B,"$initialize",function e(t,r){var n,i,s=e.$$p||j,o=this;if(e.$$p=null,null==t&&(t=j),null==r&&(r=j),c(o),r!==j&&s!==j&&g.$warn("warning: block supersedes default value argument"),t>M(M("Integer"),"MAX")&&g.$raise(M("ArgumentError"),"array size too big"),arguments.length>2&&g.$raise(M("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return o.splice(0,o.length),o;if(1===arguments.length){if(t.$$is_array)return o.$replace(t.$to_a()),o;if(t["$respond_to?"]("to_ary"))return o.$replace(t.$to_ary()),o}if((t=u(t,M("Integer"),"to_int"))<0&&g.$raise(M("ArgumentError"),"negative array size"),o.splice(0,o.length),s===j)for(n=0;n<t;n++)o.push(r);else for(n=0;n<t;n++)i=s(n),o[n]=i;return o},-1),p(B,"$try_convert",function e(t){return $["$coerce_to?"](t,M("Array"),"to_ary")}),m(B,"$&",function e(t){t=v(M("Array"),t)?t.$to_a():u(t,M("Array"),"to_ary").$to_a();var r,n,i,s=[],l=_([],{});for(r=0,n=t.length;r<n;r++)o(l,t[r],!0);for(r=0,n=this.length;r<n;r++)void 0!==a(l,i=this[r])&&s.push(i);return s}),m(B,"$|",function e(t){t=v(M("Array"),t)?t.$to_a():u(t,M("Array"),"to_ary").$to_a();var r,n,i=_([],{});for(r=0,n=this.length;r<n;r++)o(i,this[r],!0);for(r=0,n=t.length;r<n;r++)o(i,t[r],!0);return i.$keys()}),m(B,"$*",function e(r){if(t(r["$respond_to?"]("to_str")))return this.$join(r.$to_str());t((r=u(r,M("Integer"),"to_int"))<0)&&g.$raise(M("ArgumentError"),"negative argument");for(var n=[],i=this.$to_a(),s=0;s<r;s++)n=n.concat(i);return n}),m(B,"$+",function e(t){return t=v(M("Array"),t)?t.$to_a():u(t,M("Array"),"to_ary").$to_a(),this.concat(t)}),m(B,"$-",function e(r){if(r=v(M("Array"),r)?r.$to_a():u(r,M("Array"),"to_ary").$to_a(),t(0===this.length))return[];if(t(0===r.length))return this.slice();var n,i,a,l=[],c=_([],{});for(n=0,i=r.length;n<i;n++)o(c,r[n],!0);for(n=0,i=this.length;n<i;n++)void 0===s(c,a=this[n])&&l.push(a);return l}),m(B,"$<<",function e(t){return c(this),this.push(t),this}),m(B,"$<=>",function e(r){if(v(M("Array"),r))r=r.$to_a();else{if(!t(r["$respond_to?"]("to_ary")))return j;r=r.$to_ary().$to_a()}if(this.$hash()===r.$hash())return 0;for(var n=Math.min(this.length,r.length),i=0;i<n;i++){var s=this[i]["$<=>"](r[i]);if(0!==s)return s}return this.length["$<=>"](r.length)}),m(B,"$==",function e(t){var r={};return function e(t,n){var i,s,o,a;if(t===n)return!0;if(!n.$$is_array)return!!l(n,"$to_ary")&&n["$=="](t);if(t.$$constructor!==Array&&(t=t.$to_a()),n.$$constructor!==Array&&(n=n.$to_a()),t.length!==n.length)return!1;for(i=0,r[t.$object_id()]=!0,s=t.length;i<s;i++)if(o=t[i],a=n[i],o.$$is_array){if(a.$$is_array&&a.length!==o.length||!r.hasOwnProperty(o.$object_id())&&!e(o,a))return!1}else if(!o["$=="](a))return!1;return!0}(this,t)}),m(B,"$[]",function t(r,n){var i,s,o,a,l;return r.$$is_range?G(this,r):r.$$is_arithmetic_seq?function e(t,r){var n,i,s=[],o=0;for(n=r.step<0?G(t,i={begin:r.range.end,end:r.range.begin,excl:!1,excl_rev:r.range.excl}).$reverse():G(t,r.range);o<n.length;)s.push(n[o]),o+=Math.abs(r.step);return s}(this,r):(i=this,s=r,o=n,l=i.length,(s=u(s,e.Integer,"to_int"))<0&&(s+=l)<0?j:void 0===o?s>=l||s<0?j:i[s]:(o=u(o,e.Integer,"to_int"))<0||s>l||s<0?j:a=i.slice(s,s+o))},-2),m(B,"$[]=",function t(r,n,i){var s,o=this,a=j,l=j;c(o),a=j;var h,f=o.length;if(r.$$is_range){a=n.$$is_array?n.$to_a():n["$respond_to?"]("to_ary")?n.$to_ary().$to_a():[n];var d=r.excl,p=r.begin===j?0:u(r.begin,e.Integer,"to_int"),m=r.end===j?-1:u(r.end,e.Integer,"to_int");if(p<0&&(p+=f)<0&&g.$raise(M("RangeError"),""+r.$inspect()+" out of range"),m<0&&(m+=f),d&&r.end!==j||(m+=1),p>f)for(h=f;h<p;h++)o[h]=j;return m<0?o.splice.apply(o,[p,0].concat(a)):o.splice.apply(o,[p,m-p].concat(a)),n}if(void 0===i?l=1:(l=n,a=(n=i).$$is_array?n.$to_a():n["$respond_to?"]("to_ary")?n.$to_ary().$to_a():[n]),r=u(r,M("Integer"),"to_int"),l=u(l,M("Integer"),"to_int"),r<0&&(s=r,(r+=f)<0&&g.$raise(M("IndexError"),"index "+s+" too small for array; minimum "+-o.length)),l<0&&g.$raise(M("IndexError"),"negative length ("+l+")"),r>f)for(h=f;h<r;h++)o[h]=j;return void 0===i?o[r]=n:o.splice.apply(o,[r,l].concat(a)),n},-3),m(B,"$any?",function e(t){var r=e.$$p||j;return e.$$p=null,0!==this.length&&b(this,y(this,"any?",e,!1,!0),"any?",[t],r)},-1),m(B,"$assoc",function e(t){for(var r,n=0,i=this.length;n<i;n++)if((r=this[n]).length&&r[0]["$=="](t))return r;return j}),m(B,"$at",function e(t){return((t=u(t,M("Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)?j:this[t]}),m(B,"$bsearch_index",function e(){var t=e.$$p||j;if(e.$$p=null,!(t!==j))return this.$enum_for("bsearch_index");for(var r,n,s,o=0,a=this.length,u=!1,l=j;o<a;){if(!0===(s=i(t,n=this[r=o+Math.floor((a-o)/2)])))l=r,u=!0;else if(!1===s||s===j)u=!1;else if(s.$$is_number){if(0===s)return r;u=s<0}else g.$raise(M("TypeError"),"wrong argument type "+s.$class()+" (must be numeric, true, false or nil)");u?a=r:o=r+1}return l}),m(B,"$bsearch",function e(){var t=e.$$p||j,r=j;return(e.$$p=null,t!==j)?null!=(r=w(this,"bsearch_index",[],t.$to_proc()))&&r.$$is_number?this[r]:r:this.$enum_for("bsearch")}),m(B,"$cycle",function e(r){var n,s,o,a=e.$$p||j;if(e.$$p=null,null==r&&(r=j),!(a!==j))return w(this,"enum_for",["cycle",r],function e(){var n=null==e.$$s?this:e.$$s;return t(r["$nil?"]())?M(M("Float"),"INFINITY"):t(E(r=$["$coerce_to!"](r,M("Integer"),"to_int"),0))?x(n.$enumerator_size(),r):0},{$$s:this});if(t(this["$empty?"]())||k(r,0))return j;if(r===j)for(;;)for(n=0,s=this.length;n<s;n++)o=i(a,this[n]);else{if((r=$["$coerce_to!"](r,M("Integer"),"to_int"))<=0)return this;for(;r>0;){for(n=0,s=this.length;n<s;n++)o=i(a,this[n]);r--}}return this},-1),m(B,"$clear",function e(){return c(this),this.splice(0,this.length),this}),m(B,"$count",function e(r){var n=e.$$p||j;return(e.$$p=null,t(void 0!==r)||t(n))?b(this,y(this,"count",e,!1,!0),"count",[r],n):this.$size()},-1),m(B,"$initialize_copy",function e(t){return this.$replace(t)}),m(B,"$collect",function e(){var t=e.$$p||j;if(e.$$p=null,!(t!==j))return w(this,"enum_for",["collect"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r=[],n=0,s=this.length;n<s;n++){var o=i(t,this[n]);r.push(o)}return r}),m(B,"$collect!",function e(){var t=e.$$p||j,r=this;if(e.$$p=null,!(t!==j))return w(r,"enum_for",["collect!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:r});c(r);for(var n=0,s=r.length;n<s;n++){var o=i(t,r[n]);r[n]=o}return r}),m(B,"$combination",function t(r){var n,i,s,o,a,u,l,c=t.$$p||j,h=j;if(t.$$p=null,h=$["$coerce_to!"](r,M("Integer"),"to_int"),!(c!==j))return w(this,"enum_for",["combination",h],function e(){return Y((null==e.$$s?this:e.$$s).length,h)},{$$s:this});if(0===h)e.yield1(c,[]);else if(1===h)for(n=0,i=this.length;n<i;n++)e.yield1(c,[this[n]]);else if(h===this.length)e.yield1(c,this.slice());else if(h>=0&&h<this.length){for(n=0,s=[];n<=h+1;n++)s.push(0);for(o=[],a=0,u=!1,s[0]=-1;!u;){for(o[a]=this[s[a+1]];a<h-1;)l=s[++a+1]=s[a]+1,o[a]=this[l];e.yield1(c,o.slice()),a++;do u=0===a,s[a]++,a--;while(s[a+1]+h===this.length+a+1)}}return this}),m(B,"$repeated_combination",function t(r){var n=t.$$p||j,i=j;return(t.$$p=null,i=$["$coerce_to!"](r,M("Integer"),"to_int"),n!==j)?(i>=0&&function t(r,i,s,o){if(s.length==r){var a=s.slice();e.yield1(n,a);return}for(var u=0;u<o.length;u++)s.push(o[u]),t(r,u,s,o),s.pop()}(i,0,[],this),this):w(this,"enum_for",["repeated_combination",i],function e(){return Y((null==e.$$s?this:e.$$s).length+i-1,i)},{$$s:this})}),m(B,"$compact",function e(){for(var t,r=[],n=0,i=this.length;n<i;n++)(t=this[n])!==j&&r.push(t);return r}),m(B,"$compact!",function e(){c(this);for(var t=this.length,r=0,n=this.length;r<n;r++)this[r]===j&&(this.splice(r,1),n--,r--);return this.length===t?j:this}),m(B,"$concat",function e(r){var n,i;return n=d(arguments),i=n,c(this),i=w(i,"map",[],function e(r){var n=null==e.$$s?this:e.$$s;return null==r&&(r=j),t((r=v(M("Array"),r)?r.$to_a():u(r,M("Array"),"to_ary").$to_a())["$equal?"](n))&&(r=r.$dup()),r},{$$s:this}),w(i,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;null==t&&(t=j);for(var n=0,i=t.length;n<i;n++)r.push(t[n])},{$$s:this}),this},-1),m(B,"$delete",function t(r){var n=t.$$p||j;t.$$p=null;for(var i=this.length,s=0,o=i;s<o;s++)this[s]["$=="](r)&&(c(this),this.splice(s,1),o--,s--);return this.length===i?n!==j?e.yieldX(n,[]):j:r}),m(B,"$delete_at",function e(t){if(c(this),(t=u(t,M("Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return j;var r=this[t];return this.splice(t,1),r}),m(B,"$delete_if",function e(){var t=e.$$p||j;return(e.$$p=null,t!==j)?(c(this),K(this,r,t),this):w(this,"enum_for",["delete_if"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),m(B,"$difference",function e(t){var r,n;return r=d(arguments),w(n=r,"reduce",[this.$to_a().$dup()],function e(t,r){return null==t&&(t=j),null==r&&(r=j),A(t,r)})},-1),m(B,"$dig",function e(r,n){var i,s,o=j;return(i=d(arguments,1),s=i,(o=this["$[]"](r))===j||0===s.length)?o:(t(o["$respond_to?"]("dig"))||g.$raise(M("TypeError"),""+o.$class()+" does not have #dig method"),w(o,"dig",z(s)))},-2),m(B,"$drop",function e(t){return(t=u(t,M("Integer"),"to_int"))<0&&g.$raise(M("ArgumentError")),this.slice(t)}),m(B,"$dup",function t(){var r=t.$$p||j;return(t.$$p=null,this.$$class===e.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine)?this.slice(0):b(this,y(this,"dup",t,!1,!0),"dup",[],r)}),m(B,"$each",function e(){var t=e.$$p||j;if(e.$$p=null,!(t!==j))return w(this,"enum_for",["each"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r=0,n=this.length;r<n;r++)i(t,this[r]);return this}),m(B,"$each_index",function e(){var t=e.$$p||j;if(e.$$p=null,!(t!==j))return w(this,"enum_for",["each_index"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r=0,n=this.length;r<n;r++)i(t,r);return this}),m(B,"$empty?",function e(){return 0===this.length}),m(B,"$eql?",function e(t){var r={};return function e(t,n){var i,s,o,a;if(!n.$$is_array||(n=n.$to_a(),t.length!==n.length))return!1;for(i=0,r[t.$object_id()]=!0,s=t.length;i<s;i++)if(o=t[i],a=n[i],o.$$is_array){if(a.$$is_array&&a.length!==o.length||!r.hasOwnProperty(o.$object_id())&&!e(o,a))return!1}else if(!o["$eql?"](a))return!1;return!0}(this,t)}),m(B,"$fetch",function e(t,r){var n=e.$$p||j;e.$$p=null;var i=t;return((t=u(t,M("Integer"),"to_int"))<0&&(t+=this.length),t>=0&&t<this.length)?this[t]:(n!==j&&null!=r&&this.$warn("warning: block supersedes default value argument"),n!==j)?n(i):null!=r?r:void(0===this.length?g.$raise(M("IndexError"),"index "+i+" outside of array bounds: 0...0"):g.$raise(M("IndexError"),"index "+i+" outside of array bounds: -"+this.length+"..."+this.length))},-2),m(B,"$fill",function e(r){var n,i,s,o,a,l,h,f=e.$$p||j,p=this,m=j,$=j,_=j,b=j,y=j;if(e.$$p=null,o=d(arguments),a=o,c(p),t(f)?(t(a.length>2)&&g.$raise(M("ArgumentError"),"wrong number of arguments ("+a.$length()+" for 0..2)"),m=null==(l=I(h=a))[0]?j:l[0],$=null==l[1]?j:l[1]):(t(0==a.length)?g.$raise(M("ArgumentError"),"wrong number of arguments (0 for 1..3)"):t(a.length>3)&&g.$raise(M("ArgumentError"),"wrong number of arguments ("+a.$length()+" for 1..3)"),_=null==(l=I(h=a))[0]?j:l[0],m=null==l[1]?j:l[1],$=null==l[2]?j:l[2]),v(M("Range"),m)){if(t($)&&g.$raise(M("TypeError"),"length invalid with range"),t((b=m.begin===j?0:u(m.begin,M("Integer"),"to_int"))<0)&&(b+=this.length),t(b<0)&&g.$raise(M("RangeError"),""+m.$inspect()+" out of range"),t((y=m.end===j?-1:u(m.end,M("Integer"),"to_int"))<0)&&(y+=this.length),t(m["$exclude_end?"]())||(y+=1),t(y<=b))return p}else if(t(m)){if(b=u(m,M("Integer"),"to_int"),t(b<0)&&(b+=this.length),t(b<0)&&(b=0),t($)){if(y=u($,M("Integer"),"to_int"),t(0==y))return p;y+=b}else y=this.length}else b=0,y=this.length;if(t(b>this.length))for(n=this.length;n<y;n++)p[n]=j;if(t(y>this.length)&&(this.length=y),t(f))for(i=this.length;b<y;b++)s=f(b),p[b]=s;else for(i=this.length;b<y;b++)p[b]=_;return p},-1),m(B,"$first",function e(t){return null==t?0===this.length?j:this[0]:((t=u(t,M("Integer"),"to_int"))<0&&g.$raise(M("ArgumentError"),"negative array size"),this.slice(0,t))},-1),m(B,"$flatten",function e(t){var r=this;return void 0!==t&&(t=u(t,M("Integer"),"to_int")),function e(t,n){var i,s,o,a,u=[];for(i=0,s=(t=t.$to_a()).length;i<s;i++){if(!l(o=t[i],"$to_ary",!0)||(a=o.$to_ary())===j){u.push(o);continue}switch(a.$$is_array||g.$raise(M("TypeError")),a===r&&g.$raise(M("ArgumentError")),n){case void 0:u=u.concat(e(a));break;case 0:u.push(a);break;default:u.push.apply(u,e(a,n-1))}}return u}(r,t)},-1),m(B,"$flatten!",function e(t){c(this);var r=this.$flatten(t);if(this.length==r.length){for(var n=0,i=this.length;n<i&&this[n]===r[n];n++);if(n==i)return j}return this.$replace(r),this},-1),m(B,"$freeze",function e(){return t(this["$frozen?"]())?this:h(this)}),m(B,"$hash",function e(){var t,r,i,s=void 0===n,o=["A"],a=this.$object_id();try{if(s&&(n=Object.create(null)),n[a])return"self";for(i in n)if(t=n[i],this["$eql?"](t))return"self";for(r=0,n[a]=this;r<this.length;r++)t=this[r],o.push(t.$hash());return o.join(",")}finally{s&&(n=void 0)}}),m(B,"$include?",function e(t){for(var r=0,n=this.length;r<n;r++)if(this[r]["$=="](t))return!0;return!1}),m(B,"$index",function e(t){var r,n,i,s=e.$$p||j;if(e.$$p=null,null!=t&&s!==j&&this.$warn("warning: given block not used"),null!=t){for(r=0,n=this.length;r<n;r++)if(this[r]["$=="](t))return r}else if(s===j)return this.$enum_for("index");else for(r=0,n=this.length;r<n;r++)if(!1!==(i=s(this[r]))&&i!==j)return r;return j},-1),m(B,"$insert",function e(t,r){var n,i;if(n=d(arguments,1),i=n,c(this),t=u(t,M("Integer"),"to_int"),i.length>0){if(t<0&&(t+=this.length+1)<0&&g.$raise(M("IndexError"),""+t+" is out of bounds"),t>this.length)for(var s=this.length;s<t;s++)this.push(j);this.splice.apply(this,[t,0].concat(i))}return this},-2);var H,X,V=[];return m(B,"$inspect",function e(){var t=this,r=[],n=t.$__id__(),i=!0;return function(){try{if(-1!==V.indexOf(n))return i=!1,"[...]";V.push(n);for(var e=0,s=t.length;e<s;e++){var o=t["$[]"](e);r.push(U("Opal").$inspect(o))}return"["+r.join(", ")+"]"}finally{i&&V.pop()}}()}),m(B,"$intersection",function e(t){var r,n;return r=d(arguments),w(n=r,"reduce",[this.$to_a().$dup()],function e(t,r){return null==t&&(t=j),null==r&&(r=j),t["$&"](r)})},-1),m(B,"$intersect?",function e(t){return this.$intersection(t)["$empty?"]()["$!"]()}),m(B,"$join",function e(r){if(null==S[","]&&(S[","]=j),null==r&&(r=j),t(0===this.length))return"";t(r===j)&&(r=S[","]);var n,i,s,o,a=[];for(n=0,i=this.length;n<i;n++){if(l(s=this[n],"$to_str")&&(o=s.$to_str())!==j){a.push(o.$to_s());continue}if(l(s,"$to_ary")&&((o=s.$to_ary())===this&&g.$raise(M("ArgumentError")),o!==j)){a.push(o.$join(r));continue}if(l(s,"$to_s")&&(o=s.$to_s())!==j){a.push(o);continue}g.$raise(M("NoMethodError").$new(""+U("Opal").$inspect(this.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return r===j?a.join(""):a.join($["$coerce_to!"](r,M("String"),"to_str").$to_s())},-1),m(B,"$keep_if",function e(){var r=e.$$p||j;return(e.$$p=null,r!==j)?(c(this),K(this,t,r),this):w(this,"enum_for",["keep_if"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),m(B,"$last",function e(t){return null==t?0===this.length?j:this[this.length-1]:((t=u(t,M("Integer"),"to_int"))<0&&g.$raise(M("ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},-1),m(B,"$length",function e(){return this.length}),m(B,"$max",function e(t){var r=e.$$p||j;return e.$$p=null,w(this.$each(),"max",[t],r.$to_proc())},-1),m(B,"$min",function e(){var t=e.$$p||j;return e.$$p=null,w(this.$each(),"min",[],t.$to_proc())}),m(B,"$permutation",function t(r){var n,s,o,a=t.$$p||j,l=this,c=j,h=j;if(t.$$p=null,!(a!==j))return w(l,"enum_for",["permutation",r],function e(){var t=null==e.$$s?this:e.$$s;return function e(t,r){for(var n=r>=0?1:0;r;)n*=t,t--,r--;return n}(t.length,void 0===r?t.length:r)},{$$s:l});if((r=void 0===r?l.length:u(r,M("Integer"),"to_int"))<0||l.length<r);else if(0===r)e.yield1(a,[]);else if(1===r)for(var f=0;f<l.length;f++)e.yield1(a,[l[f]]);else c=U("Array").$new(r),h=U("Array").$new(l.length,!1),n=function(e,t,r,s,a){l=this;for(var u=0;u<l.length;u++)if(s["$[]"](u)["$!"]()){if(t[r]=u,r<e-1)s[u]=!0,n.call(l,e,t,r+1,s,a),s[u]=!1;else{o=[];for(var c=0;c<t.length;c++)o.push(l[t[c]]);i(a,o)}}},a!==j?(s=l.slice(),n.call(s,r,c,0,h,a)):n.call(l,r,c,0,h,a);return l},-1),m(B,"$repeated_permutation",function r(n){var i=r.$$p||j,s=j;return(r.$$p=null,s=$["$coerce_to!"](n,M("Integer"),"to_int"),i!==j)?(function t(r,n,s){if(n.length==r){var o=n.slice();e.yield1(i,o);return}for(var a=0;a<s.length;a++)n.push(s[a]),t(r,n,s),n.pop()}(s,[],this.slice()),this):w(this,"enum_for",["repeated_permutation",s],function e(){var r=null==e.$$s?this:e.$$s;return t(O(s,0))?r.$size()["$**"](s):0},{$$s:this})}),m(B,"$pop",function e(r){return(c(this),t(void 0===r))?t(0===this.length)?j:this.pop():(t((r=u(r,M("Integer"),"to_int"))<0)&&g.$raise(M("ArgumentError"),"negative array size"),t(0===this.length))?[]:t(1===r)?[this.pop()]:t(r>this.length)?this.splice(0,this.length):this.splice(this.length-r,this.length)},-1),m(B,"$product",function t(r){var n,i,s=t.$$p||j;t.$$p=null,n=d(arguments);var o,a,l,c,h=s!==j?null:[],f=(i=n).length+1,p=Array(f),m=Array(f),$=Array(f),v=1;for(o=1,$[0]=this;o<f;o++)$[o]=u(i[o-1],M("Array"),"to_ary");for(o=0;o<f;o++){if(0===(c=$[o].length))return h||this;(v*=c)>2147483647&&g.$raise(M("RangeError"),"too big to product"),m[o]=c,p[o]=0}outer_loop:for(;;){for(o=0,l=[];o<f;o++)l.push($[o][p[o]]);for(h?h.push(l):e.yield1(s,l),a=f-1,p[a]++;p[a]===m[a];){if(p[a]=0,--a<0)break outer_loop;p[a]++}}return h||this},-1),m(B,"$push",function e(t){var r,n;r=d(arguments),n=r,c(this);for(var i=0,s=n.length;i<s;i++)this.push(n[i]);return this},-1),m(B,"$rassoc",function e(t){for(var r,n=0,i=this.length;n<i;n++)if((r=this[n]).length&&void 0!==r[1]&&r[1]["$=="](t))return r;return j}),m(B,"$reject",function e(){var t=e.$$p||j;if(e.$$p=null,!(t!==j))return w(this,"enum_for",["reject"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n=[],i=0,s=this.length;i<s;i++)(!1===(r=t(this[i]))||r===j)&&n.push(this[i]);return n}),m(B,"$reject!",function e(){var t=e.$$p||j,r=j;return(e.$$p=null,t!==j)?(c(this),r=this.$length(),w(this,"delete_if",[],t.$to_proc()),k(this.$length(),r))?j:this:w(this,"enum_for",["reject!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),m(B,"$replace",function e(t){return c(this),t=v(M("Array"),t)?t.$to_a():u(t,M("Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this}),m(B,"$reverse",function e(){return this.slice(0).reverse()}),m(B,"$reverse!",function e(){return c(this),this.reverse()}),m(B,"$reverse_each",function e(){var t=e.$$p||j;return(e.$$p=null,t!==j)?(w(this.$reverse(),"each",[],t.$to_proc()),this):w(this,"enum_for",["reverse_each"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),m(B,"$rindex",function e(t){var r,n,i=e.$$p||j;if(e.$$p=null,null!=t&&i!==j&&this.$warn("warning: given block not used"),null!=t){for(r=this.length-1;r>=0&&!(r>=this.length);r--)if(this[r]["$=="](t))return r}else if(i!==j){for(r=this.length-1;r>=0&&!(r>=this.length);r--)if(!1!==(n=i(this[r]))&&n!==j)return r}else if(null==t)return this.$enum_for("rindex");return j},-1),m(B,"$rotate",function e(t){var r,n,i,s;return(null==t&&(t=1),t=u(t,M("Integer"),"to_int"),1===this.length)?this.slice():0===this.length?[]:(n=t%(r=this.slice()).length,i=r.slice(n),s=r.slice(0,n),i.concat(s))},-1),m(B,"$rotate!",function e(t){var r=j;return(null==t&&(t=1),c(this),0===this.length||1===this.length)?this:(t=u(t,M("Integer"),"to_int"),r=this.$rotate(t),this.$replace(r))},-1),H=B,(X=f(H,null,"SampleRandom")).$$prototype.rng=j,m(X,"$initialize",q("rng")),m(X,"$rand",function e(r){var n=j;return t((n=u(this.rng.$rand(r),M("Integer"),"to_int"))<0)&&g.$raise(M("RangeError"),"random value must be >= 0"),t(n<r)||g.$raise(M("RangeError"),"random value must be less than Array size"),n}),m(B,"$sample",function e(r,n){var i,s,o,a,l,c,h,f,d=j,p=j;if(t(void 0===r))return this.$at(g.$rand(this.length));if(t(void 0===n)?t(d=$["$coerce_to?"](r,M("Hash"),"to_hash"))?(n=d,r=j):(n=j,r=u(r,M("Integer"),"to_int")):(r=u(r,M("Integer"),"to_int"),n=u(n,M("Hash"),"to_hash")),t(r)&&t(r<0)&&g.$raise(M("ArgumentError"),"count must be greater than 0"),t(n)&&(p=n["$[]"]("random")),p=t(p)&&t(p["$respond_to?"]("rand"))?U("SampleRandom").$new(p):g,!t(r))return this[p.$rand(this.length)];switch(r>this.length&&(r=this.length),r){case 0:return[];case 1:return[this[p.$rand(this.length)]];case 2:return(a=p.$rand(this.length))<=(l=p.$rand(this.length-1))&&l++,[this[a],this[l]];default:if(this.length/r>3){for(i=!1,s=0,o=U("Array").$new(r),a=1,o[0]=p.$rand(this.length);a<r;){for(c=p.$rand(this.length),l=0;l<a;){for(;c===o[l];){if(++s>100){i=!0;break}c=p.$rand(this.length)}if(i)break;l++}if(i)break;o[a]=c,a++}if(!i){for(a=0;a<r;)o[a]=this[o[a]],a++;return o}}o=this.slice();for(var m=0;m<r;m++)h=p.$rand(this.length-m)+m,f=o[m],o[m]=o[h],o[h]=f;return r===this.length?o:o["$[]"](0,r)}},-1),m(B,"$select",function e(){var r=e.$$p||j;if(e.$$p=null,!(r!==j))return w(this,"enum_for",["select"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var n,s,o=[],a=0,u=this.length;a<u;a++)s=i(r,n=this[a]),t(s)&&o.push(n);return o}),m(B,"$select!",function e(){var t=e.$$p||j;if(e.$$p=null,!(t!==j))return w(this,"enum_for",["select!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});c(this);var r=this.length;return w(this,"keep_if",[],t.$to_proc()),this.length===r?j:this}),m(B,"$shift",function e(r){return(c(this),t(void 0===r))?t(0===this.length)?j:function e(t){for(var r=t[0],n=1,i=t.length;n<i;n++)t[n-1]=t[n];return t.pop(),r}(this):(t((r=u(r,M("Integer"),"to_int"))<0)&&g.$raise(M("ArgumentError"),"negative array size"),t(0===this.length))?[]:this.splice(0,r)},-1),m(B,"$shuffle",function e(t){return this.$dup().$to_a()["$shuffle!"](t)},-1),m(B,"$shuffle!",function e(t){var r=this;c(r);var n,i,s,o=r.length;for(void 0!==t&&(t=$["$coerce_to?"](t,M("Hash"),"to_hash"))!==j&&(t=t["$[]"]("random"))!==j&&t["$respond_to?"]("rand")&&(n=t);o;)n?((i=n.$rand(o).$to_int())<0&&g.$raise(M("RangeError"),"random number too small "+i),i>=o&&g.$raise(M("RangeError"),"random number too big "+i)):i=r.$rand(o),s=r[--o],r[o]=r[i],r[i]=s;return r},-1),m(B,"$slice!",function e(r,n){var i=j,s=j,o=j,a=j,l=j;if(c(this),i=j,t(void 0===n)){if(v(M("Range"),r)){s=r,i=this["$[]"](s),o=s.begin===j?0:u(s.begin,M("Integer"),"to_int"),a=s.end===j?-1:u(s.end,M("Integer"),"to_int"),o<0&&(o+=this.length),a<0?a+=this.length:a>=this.length&&(a=this.length-1,s.excl&&(a+=1));var h=a-o;s.excl&&s.end!==j?a-=1:h+=1,o<this.length&&o>=0&&a<this.length&&a>=0&&h>0&&this.splice(o,h)}else{if((l=u(r,M("Integer"),"to_int"))<0&&(l+=this.length),l<0||l>=this.length)return j;i=this[l],0===l?this.shift():this.splice(l,1)}}else{if(l=u(r,M("Integer"),"to_int"),(n=u(n,M("Integer"),"to_int"))<0)return j;i=this["$[]"](l,n),l<0&&(l+=this.length),l+n>this.length&&(n=this.length-l),l<this.length&&l>=0&&this.splice(l,n)}return i},-2),m(B,"$sort",function e(){var r=e.$$p||j;return(e.$$p=null,t(this.length>1))?(r===j&&(r=function(e,t){return e["$<=>"](t)}),this.slice().sort(function(e,t){var n=r(e,t);return n===j&&g.$raise(M("ArgumentError"),"comparison of "+e.$inspect()+" with "+t.$inspect()+" failed"),E(n,0)?1:R(n,0)?-1:0})):this}),m(B,"$sort!",function e(){var t,r=e.$$p||j,n=this;e.$$p=null,c(n),t=r!==j?w(n.slice(),"sort",[],r.$to_proc()):n.slice().$sort(),n.length=0;for(var i=0,s=t.length;i<s;i++)n.push(t[i]);return n}),m(B,"$sort_by!",function e(){var t=e.$$p||j;return(e.$$p=null,t!==j)?(c(this),this.$replace(w(this,"sort_by",[],t.$to_proc()))):w(this,"enum_for",["sort_by!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),m(B,"$take",function e(t){return t<0&&g.$raise(M("ArgumentError")),this.slice(0,t)}),m(B,"$take_while",function e(){var t=e.$$p||j;e.$$p=null;for(var r,n,i=[],s=0,o=this.length;s<o&&!1!==(n=t(r=this[s]))&&n!==j;s++)i.push(r);return i}),m(B,"$to_a",function t(){return this.$$class===e.Array?this:e.Array.$new(this)}),m(B,"$to_ary",T),m(B,"$to_h",function e(){var t=e.$$p||j,r=j;e.$$p=null,r=this,t!==j&&(r=w(r,"map",[],t.$to_proc()));var n,i,s,a,u=r.length,l=_([],{});for(n=0;n<u;n++)(i=$["$coerce_to?"](r[n],M("Array"),"to_ary")).$$is_array||g.$raise(M("TypeError"),"wrong element type "+i.$class()+" at "+n+" (expected array)"),2!==i.length&&g.$raise(M("ArgumentError"),"wrong array length at "+n+" (expected 2, was "+i.$length()+")"),o(l,s=i[0],a=i[1]);return l}),m(B,"$transpose",function e(){var r=j,n=j;return t(this["$empty?"]())?[]:(r=[],n=j,w(this,"each",[],function e(i){var s=j;return null==i&&(i=j),i=v(M("Array"),i)?i.$to_a():u(i,M("Array"),"to_ary").$to_a(),n=t(s=n)?s:i.length,C(i.length,n)&&g.$raise(M("IndexError"),"element size differs ("+i.length+" should be "+n+")"),w(i.length,"times",[],function e(n){var o,a=j;return null==n&&(n=j),(a=t(s=r["$[]"](n))?s:(w(r,"[]=",o=[n,[]]),o[o.length-1]))["$<<"](i.$at(n))})}),r)}),m(B,"$union",function e(t){var r,n;return r=d(arguments),w(n=r,"reduce",[this.$uniq()],function e(t,r){return null==t&&(t=j),null==r&&(r=j),t["$|"](r)})},-1),m(B,"$uniq",function e(){var t=e.$$p||j;e.$$p=null;var r,n,a,u,l=_([],{});if(t===j)for(r=0,n=this.length;r<n;r++)void 0===s(l,a=this[r])&&o(l,a,a);else for(r=0,n=this.length;r<n;r++)u=i(t,a=this[r]),void 0===s(l,u)&&o(l,u,a);return l.$values()}),m(B,"$uniq!",function e(){var t=e.$$p||j;e.$$p=null,c(this);var r,n,a,u,l=this.length,h=_([],{});for(r=0,n=l;r<n;r++){if(a=this[r],u=t===j?a:i(t,a),void 0===s(h,u)){o(h,u,a);continue}this.splice(r,1),n--,r--}return this.length===l?j:this}),m(B,"$unshift",function e(t){var r,n,i=this;r=d(arguments),n=r,c(i);var s=i.length,o=n.length;if(0==o)return i;for(var a=s-o,u=0;u<o;u++)i.push(i[a+u]);for(var l=s-1;l-o>=0;)i[l]=i[l-o],l--;for(var h=0;h<o;h++)i[h]=n[h];return i},-1),m(B,"$values_at",function e(r){var n,i,s=j;return n=d(arguments),s=[],w(i=n,"each",[],function e(r){var n=null==e.$$s?this:e.$$s,i=j,o=j,a=j;return(null==r&&(r=j),t(r["$is_a?"](M("Range"))))?(i=r.$end()===j?-1:u(r.$end(),M("Integer"),"to_int"),(o=r.$begin()===j?0:u(r.$begin(),M("Integer"),"to_int"))<0)?(o+=n.length,j):(i<0&&(i+=n.length),r["$exclude_end?"]()&&r.$end()!==j&&i--,i<o)?j:w(o,"upto",[i],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=j),s["$<<"](r.$at(t))},{$$s:n}):(a=u(r,M("Integer"),"to_int"),s["$<<"](n.$at(a)))},{$$s:this}),s},-1),m(B,"$zip",function r(n){var i,s,o=r.$$p||j,a=j;r.$$p=null,i=d(arguments),s=i;var u,l,c,h,f,p=[],g=this.length;for(h=0,f=s.length;h<f;h++)if(!(l=s[h]).$$is_array){if(l.$$is_range||l.$$is_enumerator){s[h]=l.$take(g);continue}s[h]=(t(a=$["$coerce_to?"](l,M("Array"),"to_ary"))?a:$["$coerce_to!"](l,M("Enumerator"),"to_enum","each")).$to_a()}for(c=0;c<g;c++){for(h=0,u=[this[c]],f=s.length;h<f;h++)null==(l=s[h][c])&&(l=j),u[h+1]=l;p[c]=u}if(o!==j){for(c=0;c<g;c++)e.yield1(o,p[c]);return j}return p},-1),p(B,"$inherited",function e(t){t.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),m(B,"$instance_variables",function e(){var r=e.$$p||j;return e.$$p=null,w(b(this,y(this,"instance_variables",e,!1,!0),"instance_variables",[],r),"reject",[],function e(r){var n=j;return(null==r&&(r=j),t(n=/^@\d+$/.test(r)))?n:r["$=="]("@length")})}),m(B,"$pack",function e(t){var r,n;return r=d(arguments),n=r,g.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),N(B,"append","push"),N(B,"filter","select"),N(B,"filter!","select!"),N(B,"map","collect"),N(B,"map!","collect!"),N(B,"prepend","unshift"),N(B,"size","length"),N(B,"slice","[]"),N(B,"to_s","inspect"),$.$pristine(B.$singleton_class(),"allocate"),$.$pristine(B,"copy_instance_variables","initialize_dup")}("::",Array,[])},Opal.modules["corelib/hash"]=function(e){var t,r,n,i,s,o=e.yield1,a=e.hash,u=e.hash_init,l=e.hash_get,c=e.hash_put,h=e.hash_delete,f=e.deny_frozen_access,d=e.freeze,p=e.klass,g=e.slice,m=e.Opal,$=e.Kernel,v=e.defs,_=e.def,b=e.send,y=e.rb_ge,w=e.rb_gt,E=e.hash2,x=e.truthy,k=e.to_a,A=e.return_self,z=e.alias,I=e.top,S=e.nil,O=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),I.$require("corelib/enumerable"),t=[],i=[n=p("::",null,"Hash")].concat(t),s=e.$r(i),n.$include(O("Enumerable")),n.$$prototype.$$is_hash=!0,v(n,"$[]",function e(t){r=g(arguments);var r,n,i,s,o=(n=r).length;if(1===o){if((i=m["$coerce_to?"](n["$[]"](0),O("Hash"),"to_hash"))!==S)return this.$allocate()["$merge!"](i);for((n=m["$coerce_to?"](n["$[]"](0),O("Array"),"to_ary"))===S&&$.$raise(O("ArgumentError"),"odd number of arguments for Hash"),o=n.length,i=this.$allocate(),s=0;s<o;s++)if(n[s].$$is_array)switch(n[s].length){case 1:i.$store(n[s][0],S);break;case 2:i.$store(n[s][0],n[s][1]);break;default:$.$raise(O("ArgumentError"),"invalid number of elements ("+n[s].length+" for 1..2)")}return i}for(o%2!=0&&$.$raise(O("ArgumentError"),"odd number of arguments for Hash"),i=this.$allocate(),s=0;s<o;s+=2)i.$store(n[s],n[s+1]);return i},-1),v(n,"$allocate",function e(){var t=new this.$$constructor;return u(t),t.$$none=S,t.$$proc=S,t}),v(n,"$try_convert",function e(t){return m["$coerce_to?"](t,O("Hash"),"to_hash")}),_(n,"$initialize",function e(t){var r=e.$$p||S,n=this;return e.$$p=null,f(n),void 0!==t&&r!==S&&$.$raise(O("ArgumentError"),"wrong number of arguments (1 for 0)"),n.$$none=void 0===t?S:t,n.$$proc=r,n},-1),_(n,"$==",function e(t){if(this===t)return!0;if(!t.$$is_hash||this.$$keys.length!==t.$$keys.length)return!1;for(var r,n,i,s=0,o=this.$$keys,a=o.length;s<a;s++)if((r=o[s]).$$is_string?(n=this.$$smap[r],i=t.$$smap[r]):(n=r.value,i=l(t,r.key)),void 0===i||!n["$eql?"](i))return!1;return!0}),_(n,"$>=",function e(t){var r=S;return t=m["$coerce_to!"](t,O("Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(r=!0,b(t,"each",[],function e(t,n){var i=null==e.$$s?this:e.$$s,s=S;if(null==t&&(t=S),null==n&&(n=S),null==(s=i.$fetch(t,null))||s!==n){r=!1;return}},{$$s:this}),r)}),_(n,"$>",function e(t){return t=m["$coerce_to!"](t,O("Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&y(this,t)}),_(n,"$<",function e(t){return w(t=m["$coerce_to!"](t,O("Hash"),"to_hash"),this)}),_(n,"$<=",function e(t){return y(t=m["$coerce_to!"](t,O("Hash"),"to_hash"),this)}),_(n,"$[]",function e(t){var r=l(this,t);return void 0!==r?r:this.$default(t)}),_(n,"$[]=",function e(t,r){return f(this),c(this,t,r),r}),_(n,"$assoc",function e(t){for(var r,n=0,i=this.$$keys,s=i.length;n<s;n++)if((r=i[n]).$$is_string){if(r["$=="](t))return[r,this.$$smap[r]]}else if(r.key["$=="](t))return[r.key,r.value];return S}),_(n,"$clear",function e(){return f(this),u(this),this}),_(n,"$clone",function t(){var r=new this.$$class;return u(r),e.hash_clone(this,r),r}),_(n,"$compact",function e(){for(var t,r,n=a(),i=0,s=this.$$keys,o=s.length;i<o;i++)(t=s[i]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),r!==S&&c(n,t,r);return n}),_(n,"$compact!",function e(){f(this);for(var t,r,n=!1,i=0,s=this.$$keys,o=s.length;i<o;i++)(t=s[i]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),r===S&&void 0!==h(this,t)&&(n=!0,o--,i--);return n?this:S}),_(n,"$compare_by_identity",function e(){var t=this;f(t);var r,n,i,s,o=t.$$keys;if(t.$$by_identity)return t;if(0===t.$$keys.length)return t.$$by_identity=!0,t;for(r=0,s=E([],{}).$compare_by_identity(),n=o.length;r<n;r++)(i=o[r]).$$is_string||(i=i.key),c(s,i,l(t,i));return t.$$by_identity=!0,t.$$map=s.$$map,t.$$smap=s.$$smap,t}),_(n,"$compare_by_identity?",function e(){return!0===this.$$by_identity}),_(n,"$default",function e(t){return void 0!==t&&this.$$proc!==S&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?S:this.$$none},-1),_(n,"$default=",function e(t){var r=this;return f(r),r.$$proc=S,r.$$none=t,t}),_(n,"$default_proc",function e(){return void 0!==this.$$proc?this.$$proc:S}),_(n,"$default_proc=",function e(t){var r=this;f(r);var n=t;return n!==S&&(n=m["$coerce_to!"](n,O("Proc"),"to_proc"))["$lambda?"]()&&2!==n.$arity().$abs()&&$.$raise(O("TypeError"),"default_proc takes two arguments"),r.$$none=S,r.$$proc=n,t}),_(n,"$delete",function t(r){var n=t.$$p||S;t.$$p=null,f(this);var i=h(this,r);return void 0!==i?i:n!==S?e.yield1(n,r):S}),_(n,"$delete_if",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["delete_if"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});f(this);for(var r,n,i,s=0,o=this.$$keys,a=o.length;s<a;s++)(r=o[s]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),!1!==(i=t(r,n))&&i!==S&&void 0!==h(this,r)&&(a--,s--);return this}),_(n,"$dig",function e(t,r){var n,i,s=S;return(n=g(arguments,1),i=n,(s=this["$[]"](t))===S||0===i.length)?s:(x(s["$respond_to?"]("dig"))||$.$raise(O("TypeError"),""+s.$class()+" does not have #dig method"),b(s,"dig",k(i)))},-2),_(n,"$each",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["each"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n,i=0,s=this.$$keys.slice(),a=s.length;i<a;i++)(r=s[i]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),o(t,[r,n]);return this}),_(n,"$each_key",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["each_key"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n=0,i=this.$$keys.slice(),s=i.length;n<s;n++)t((r=i[n]).$$is_string?r:r.key);return this}),_(n,"$each_value",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["each_value"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n=0,i=this.$$keys.slice(),s=i.length;n<s;n++)t((r=i[n]).$$is_string?this.$$smap[r]:r.value);return this}),_(n,"$empty?",function e(){return 0===this.$$keys.length}),_(n,"$except",function e(t){var r,n;return r=g(arguments),n=r,b(this.$dup(),"except!",k(n))},-1),_(n,"$except!",function e(t){var r,n;return r=g(arguments),b(n=r,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),r.$delete(t)},{$$s:this}),this},-1),_(n,"$fetch",function e(t,r){var n=e.$$p||S;e.$$p=null;var i=l(this,t);return void 0!==i?i:n!==S?n(t):void 0!==r?r:$.$raise(O("KeyError").$new("key not found: "+t.$inspect(),E(["key","receiver"],{key:t,receiver:this})))},-2),_(n,"$fetch_values",function e(t){var r,n,i=e.$$p||S;return e.$$p=null,r=g(arguments),b(n=r,"map",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),b(r,"fetch",[t],i.$to_proc())},{$$s:this})},-1),_(n,"$flatten",function e(t){null==t&&(t=1),t=m["$coerce_to!"](t,O("Integer"),"to_int");for(var r,n,i=[],s=0,o=this.$$keys,a=o.length;s<a;s++){if((r=o[s]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),i.push(r),n.$$is_array){if(1===t){i.push(n);continue}i=i.concat(n.$flatten(t-2));continue}i.push(n)}return i},-1),_(n,"$freeze",function e(){return x(this["$frozen?"]())?this:d(this)}),_(n,"$has_key?",function e(t){return void 0!==l(this,t)}),_(n,"$has_value?",function e(t){for(var r,n=0,i=this.$$keys,s=i.length;n<s;n++)if(((r=i[n]).$$is_string?this.$$smap[r]:r.value)["$=="](t))return!0;return!1}),_(n,"$hash",function t(){var r,n,i=void 0===e.hash_ids,s=this.$object_id(),o=["Hash"];try{if(i&&(e.hash_ids=Object.create(null)),e[s])return"self";for(r in e.hash_ids)if(n=e.hash_ids[r],this["$eql?"](n))return"self";e.hash_ids[s]=this;for(var a=0,u=this.$$keys,l=u.length;a<l;a++)(r=u[a]).$$is_string?o.push([r,this.$$smap[r].$hash()]):o.push([r.key_hash,r.value.$hash()]);return o.sort().join()}finally{i&&(e.hash_ids=void 0)}}),_(n,"$index",function e(t){for(var r,n,i=0,s=this.$$keys,o=s.length;i<o;i++)if((r=s[i]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),n["$=="](t))return r;return S}),_(n,"$indexes",function e(t){r=g(arguments),n=r;for(var r,n,i,s,o=[],a=0,u=n.length;a<u;a++){if(void 0===(s=l(this,i=n[a]))){o.push(this.$default());continue}o.push(s)}return o},-1),_(n,"$inspect",function e(){var t=this,n=void 0===r,i=t.$object_id(),o=[];return function(){try{if(n&&(r={}),r.hasOwnProperty(i))return"{...}";r[i]=!0;for(var e,a,u=0,l=t.$$keys,c=l.length;u<c;u++)(e=l[u]).$$is_string?a=t.$$smap[e]:(a=e.value,e=e.key),e=s("Opal").$inspect(e),a=s("Opal").$inspect(a),o.push(e+"=>"+a);return"{"+o.join(", ")+"}"}finally{n&&(r=void 0)}}()}),_(n,"$invert",function e(){for(var t,r,n=a(),i=0,s=this.$$keys,o=s.length;i<o;i++)(t=s[i]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),c(n,r,t);return n}),_(n,"$keep_if",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["keep_if"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});f(this);for(var r,n,i,s=0,o=this.$$keys,a=o.length;s<a;s++)(r=o[s]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),(!1===(i=t(r,n))||i===S)&&void 0!==h(this,r)&&(a--,s--);return this}),_(n,"$keys",function e(){for(var t,r=[],n=0,i=this.$$keys,s=i.length;n<s;n++)(t=i[n]).$$is_string?r.push(t):r.push(t.key);return r}),_(n,"$length",function e(){return this.$$keys.length}),_(n,"$merge",function e(t){var r,n,i=e.$$p||S;return e.$$p=null,r=g(arguments),n=r,b(this.$dup(),"merge!",k(n),i.$to_proc())},-1),_(n,"$merge!",function e(t){var r,n,i,s,o,a,u,h,d,p,$=e.$$p||S;for(e.$$p=null,d=g(arguments),p=d,f(this),r=0;r<p.length;++r)if(o=(s=(i=m["$coerce_to!"](p[r],O("Hash"),"to_hash")).$$keys).length,$===S)for(n=0;n<o;n++)(a=s[n]).$$is_string?h=i.$$smap[a]:(h=a.value,a=a.key),c(this,a,h);else for(n=0;n<o;n++){if((a=s[n]).$$is_string?h=i.$$smap[a]:(h=a.value,a=a.key),void 0===(u=l(this,a))){c(this,a,h);continue}c(this,a,$(a,u,h))}return this},-1),_(n,"$rassoc",function e(t){for(var r,n,i=0,s=this.$$keys,o=s.length;i<o;i++)if((r=s[i]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),n["$=="](t))return[r,n];return S}),_(n,"$rehash",function t(){return f(this),e.hash_rehash(this),this}),_(n,"$reject",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["reject"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n,i,s=a(),o=0,u=this.$$keys,l=u.length;o<l;o++)(r=u[o]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),(!1===(i=t(r,n))||i===S)&&c(s,r,n);return s}),_(n,"$reject!",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["reject!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});f(this);for(var r,n,i,s=!1,o=0,a=this.$$keys,u=a.length;o<u;o++)(r=a[o]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),!1!==(i=t(r,n))&&i!==S&&void 0!==h(this,r)&&(s=!0,u--,o--);return s?this:S}),_(n,"$replace",function e(t){f(this),t=m["$coerce_to!"](t,O("Hash"),"to_hash"),u(this);for(var r,n,i=0,s=t.$$keys,o=s.length;i<o;i++)(r=s[i]).$$is_string?n=t.$$smap[r]:(n=r.value,r=r.key),c(this,r,n);return x(t.$default_proc())?this["$default_proc="](t.$default_proc()):this["$default="](t.$default()),this}),_(n,"$select",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["select"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n,i,s=a(),o=0,u=this.$$keys,l=u.length;o<l;o++)(r=u[o]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),!1!==(i=t(r,n))&&i!==S&&c(s,r,n);return s}),_(n,"$select!",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["select!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});f(this);for(var r,n,i,s=S,o=0,a=this.$$keys,u=a.length;o<u;o++)(r=a[o]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),(!1===(i=t(r,n))||i===S)&&(void 0!==h(this,r)&&(u--,o--),s=this);return s}),_(n,"$shift",function e(){f(this);var t,r=this.$$keys;return r.length>0?[t=(t=r[0]).$$is_string?t:t.key,h(this,t)]:S}),_(n,"$slice",function e(t){r=g(arguments),n=r;for(var r,n,i=a(),s=0,o=n.length;s<o;s++){var u=n[s],h=l(this,u);void 0!==h&&c(i,u,h)}return i},-1),_(n,"$to_a",function e(){for(var t,r,n=[],i=0,s=this.$$keys,o=s.length;i<o;i++)(t=s[i]).$$is_string?r=this.$$smap[t]:(r=t.value,t=t.key),n.push([t,r]);return n}),_(n,"$to_h",function t(){var r=t.$$p||S;if(t.$$p=null,r!==S)return b(this,"map",[],r.$to_proc()).$to_h();if(this.$$class===e.Hash)return this;var n=new e.Hash;return u(n),e.hash_clone(this,n),n}),_(n,"$to_hash",A),_(n,"$to_proc",function e(){return b(this,"proc",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&$.$raise(O("ArgumentError"),"no key given"),r["$[]"](t)},{$$arity:-1,$$s:this})}),_(n,"$transform_keys",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["transform_keys"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n,i=a(),s=0,u=this.$$keys,l=u.length;s<l;s++)(r=u[s]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),c(i,r=o(t,r),n);return i}),_(n,"$transform_keys!",function t(){var r=t.$$p||S;if(t.$$p=null,!x(r))return b(this,"enum_for",["transform_keys!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});f(this);var n,i,s,a,u=e.slice(this.$$keys),l=u.length;for(n=0;n<l;n++)(i=u[n]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),a=o(r,i),h(this,i),c(this,a,s);return this}),_(n,"$transform_values",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["transform_values"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});for(var r,n,i=a(),s=0,u=this.$$keys,l=u.length;s<l;s++)(r=u[s]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),c(i,r,n=o(t,n));return i}),_(n,"$transform_values!",function e(){var t=e.$$p||S;if(e.$$p=null,!x(t))return b(this,"enum_for",["transform_values!"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});f(this);for(var r,n,i=0,s=this.$$keys,a=s.length;i<a;i++)(r=s[i]).$$is_string?n=this.$$smap[r]:(n=r.value,r=r.key),c(this,r,n=o(t,n));return this}),_(n,"$values",function e(){for(var t,r=[],n=0,i=this.$$keys,s=i.length;n<s;n++)(t=i[n]).$$is_string?r.push(this.$$smap[t]):r.push(t.value);return r}),z(n,"dup","clone"),z(n,"each_pair","each"),z(n,"eql?","=="),z(n,"filter","select"),z(n,"filter!","select!"),z(n,"include?","has_key?"),z(n,"indices","indexes"),z(n,"key","index"),z(n,"key?","has_key?"),z(n,"member?","has_key?"),z(n,"size","length"),z(n,"store","[]="),z(n,"to_s","inspect"),z(n,"update","merge!"),z(n,"value?","has_value?"),z(n,"values_at","indexes")},Opal.modules["corelib/number"]=function(e){var t,r,n,i,s,o,a,u,l,c,h,f,d,p,g=e.klass,m=e.Opal,$=e.Kernel,v=e.def,_=e.eqeqeq,b=e.truthy,y=e.rb_gt,w=e.not,E=e.rb_lt,x=e.alias,k=e.send2,A=e.find_super,z=e.send,I=e.rb_plus,S=e.rb_minus,O=e.eqeq,q=e.return_self,R=e.rb_divide,T=e.to_ary,C=e.rb_times,N=e.rb_le,F=e.rb_ge,j=e.return_val,M=e.const_set,P=e.top,D=[],B=e.nil,L=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),P.$require("corelib/numeric"),function(t,r,n){var i,s,o=g("::",r,"Number"),a=[o].concat(n);function u(e){var t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),t}function l(e){return new DataView(e.buffer).getFloat64(0,!0)}function c(e){for(var t=u(e),r=0;r<t.length;r++)if(255===t[r])t[r]=0;else{t[r]++;break}return l(t)}function h(e){for(var t=u(e),r=0;r<t.length;r++)if(0===t[r])t[r]=255;else{t[r]--;break}return l(t)}m.$bridge(Number,o),e.prop(o.$$prototype,"$$is_number",!0),o.$$is_number_class=!0,i=e.get_singleton_class(o),v(i,"$allocate",function e(){return $.$raise(L("TypeError"),"allocator undefined for "+this.$name())}),e.udef(i,"$new"),v(o,"$coerce",function e(t){if(t===B)$.$raise(L("TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[$.$Float(t),this];if(t["$respond_to?"]("to_f"))return[m["$coerce_to!"](t,L("Float"),"to_f"),this];if(t.$$is_number)return[t,this];$.$raise(L("TypeError"),"can't convert "+t.$class()+" into Float")}}),v(o,"$__id__",function e(){return 2*this+1}),v(o,"$+",function e(t){return t.$$is_number?this+t:this.$__coerced__("+",t)}),v(o,"$-",function e(t){return t.$$is_number?this-t:this.$__coerced__("-",t)}),v(o,"$*",function e(t){return t.$$is_number?this*t:this.$__coerced__("*",t)}),v(o,"$/",function e(t){return t.$$is_number?this/t:this.$__coerced__("/",t)}),v(o,"$%",function e(t){if(!t.$$is_number)return this.$__coerced__("%",t);if(t==-1/0)return t;if(0==t)$.$raise(L("ZeroDivisionError"),"divided by 0");else if(t<0||this<0)return(this%t+t)%t;else return this%t}),v(o,"$&",function e(t){return t.$$is_number?this&t:this.$__coerced__("&",t)}),v(o,"$|",function e(t){return t.$$is_number?this|t:this.$__coerced__("|",t)}),v(o,"$^",function e(t){return t.$$is_number?this^t:this.$__coerced__("^",t)}),v(o,"$<",function e(t){return t.$$is_number?this<t:this.$__coerced__("<",t)}),v(o,"$<=",function e(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)}),v(o,"$>",function e(t){return t.$$is_number?this>t:this.$__coerced__(">",t)}),v(o,"$>=",function e(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)}),v(o,"$<=>",function t(r){try{var n,i;return n=this,(i=r).$$is_number?isNaN(n)||isNaN(i)?B:n>i?1:n<i?-1:0:n.$__coerced__("<=>",i)}catch(s){if(e.rescue(s,[L("ArgumentError")]))try{return B}finally{e.pop_exception()}else throw s}}),v(o,"$<<",function e(t){return(t=m["$coerce_to!"](t,L("Integer"),"to_int"))>0?this<<t:this>>-t}),v(o,"$>>",function e(t){return(t=m["$coerce_to!"](t,L("Integer"),"to_int"))>0?this>>t:this<<-t}),v(o,"$[]",function e(t){return(t=m["$coerce_to!"](t,L("Integer"),"to_int"))<0?0:t>=32?this<0?1:0:this>>t&1}),v(o,"$+@",function e(){return+this}),v(o,"$-@",function e(){return-this}),v(o,"$~",function e(){return~this}),v(o,"$**",function e(t){return _(L("Integer"),t)?w(L("Integer")["$==="](this))||b(y(t,0))?Math.pow(this,t):L("Rational").$new(this,1)["$**"](t):E(this,0)&&(_(L("Float"),t)||_(L("Rational"),t))?L("Complex").$new(this,0)["$**"](t.$to_f()):b(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)}),v(o,"$==",function e(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)}),x(o,"===","=="),v(o,"$abs",function e(){return Math.abs(this)}),v(o,"$abs2",function e(){return Math.abs(this*this)}),v(o,"$allbits?",function e(t){return(this&(t=m["$coerce_to!"](t,L("Integer"),"to_int")))==t}),v(o,"$anybits?",function e(t){return(this&(t=m["$coerce_to!"](t,L("Integer"),"to_int")))!=0}),v(o,"$angle",function e(){return b(this["$nan?"]())?this:0==this?1/this>0?0:Math.PI:this<0?Math.PI:0}),v(o,"$bit_length",function e(){if(_(L("Integer"),this)||$.$raise(L("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,r=this<0?~this:this;0!=r;)t+=1,r>>>=1;return t}),v(o,"$ceil",function e(t){null==t&&(t=0);var r=this.$to_f();if(r%1==0&&t>=0)return r;var n=Math.pow(10,t),i=Math.ceil(r*n)/n;return r%1==0&&(i=Math.round(i)),i},-1),v(o,"$chr",function t(r){return e.enc(String.fromCharCode(this),r||"BINARY")},-1),v(o,"$denominator",function e(){var t=e.$$p||B;return(e.$$p=null,b(this["$nan?"]())||b(this["$infinite?"]()))?1:k(this,A(this,"denominator",e,!1,!0),"denominator",[],t)}),v(o,"$downto",function e(t){var r=e.$$p||B,n=this;if(e.$$p=null,!(r!==B))return z(n,"enum_for",["downto",t],function e(){var r=null==e.$$s?this:e.$$s;return(_(L("Numeric"),t)||$.$raise(L("ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),b(y(t,r)))?0:I(S(r,t),1)},{$$s:n});t.$$is_number||$.$raise(L("ArgumentError"),"comparison of "+n.$class()+" with "+t.$class()+" failed");for(var i=n;i>=t;i--)r(i);return n}),v(o,"$equal?",function e(t){var r=B;return b(r=this["$=="](t))?r:isNaN(this)&&isNaN(t)}),v(o,"$even?",function e(){return this%2==0}),v(o,"$floor",function e(t){null==t&&(t=0);var r=this.$to_f();if(r%1==0&&t>=0)return r;var n=Math.pow(10,t),i=Math.floor(r*n)/n;return r%1==0&&(i=Math.round(i)),i},-1),v(o,"$gcd",function e(t){_(L("Integer"),t)||$.$raise(L("TypeError"),"not an integer");for(var r=Math.abs(this),n=Math.abs(t);r>0;){var i=r;r=n%r,n=i}return n}),v(o,"$gcdlcm",function e(t){return[this.$gcd(t),this.$lcm(t)]}),v(o,"$integer?",function e(){return this%1==0}),v(o,"$is_a?",function e(t){var r=e.$$p||B;return e.$$p=null,!!(O(t,L("Integer"))&&_(L("Integer"),this)||O(t,L("Integer"))&&_(L("Integer"),this)||O(t,L("Float"))&&_(L("Float"),this))||k(this,A(this,"is_a?",e,!1,!0),"is_a?",[t],r)}),v(o,"$instance_of?",function e(t){var r=e.$$p||B;return e.$$p=null,!!(O(t,L("Integer"))&&_(L("Integer"),this)||O(t,L("Integer"))&&_(L("Integer"),this)||O(t,L("Float"))&&_(L("Float"),this))||k(this,A(this,"instance_of?",e,!1,!0),"instance_of?",[t],r)}),v(o,"$lcm",function e(t){return(_(L("Integer"),t)||$.$raise(L("TypeError"),"not an integer"),0==this||0==t)?0:Math.abs(this*t/this.$gcd(t))}),v(o,"$next",function e(){return this+1}),v(o,"$nobits?",function e(t){return(this&(t=m["$coerce_to!"](t,L("Integer"),"to_int")))==0}),v(o,"$nonzero?",function e(){return 0==this?B:this}),v(o,"$numerator",function e(){var t=e.$$p||B;return(e.$$p=null,b(this["$nan?"]())||b(this["$infinite?"]()))?this:k(this,A(this,"numerator",e,!1,!0),"numerator",[],t)}),v(o,"$odd?",function e(){return this%2!=0}),v(o,"$ord",q),v(o,"$pow",function e(t,r){return(0==this&&$.$raise(L("ZeroDivisionError"),"divided by 0"),void 0===r)?this["$**"](t):(L("Integer")["$==="](t)||$.$raise(L("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&$.$raise(L("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),L("Integer")["$==="](r)||$.$raise(L("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===r&&$.$raise(L("ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](r))},-2),v(o,"$pred",function e(){return this-1}),v(o,"$quo",function e(t){var r=e.$$p||B;return(e.$$p=null,_(L("Integer"),this))?k(this,A(this,"quo",e,!1,!0),"quo",[t],r):R(this,t)}),v(o,"$rationalize",function e(t){var r,n,i=B,s=B;return(arguments.length>1&&$.$raise(L("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(L("Integer"),this))?L("Rational").$new(this,1):b(this["$infinite?"]())?$.$raise(L("FloatDomainError"),"Infinity"):b(this["$nan?"]())?$.$raise(L("FloatDomainError"),"NaN"):b(null==t)?(i=null==(r=T(n=L("Math").$frexp(this)))[0]?B:r[0],s=null==r[1]?B:r[1],i=L("Math").$ldexp(i,L(L("Float"),"MANT_DIG")).$to_i(),s=S(s,L(L("Float"),"MANT_DIG")),L("Rational").$new(C(2,i),1["$<<"](S(1,s))).$rationalize(L("Rational").$new(1,1["$<<"](S(1,s))))):this.$to_r().$rationalize(t)},-1),v(o,"$remainder",function e(t){return S(this,C(t,R(this,t).$truncate()))}),v(o,"$round",function e(t){var r,n,i=B,s=B;if(_(L("Integer"),this)){if(b(null==t)||(_(L("Float"),t)&&b(t["$infinite?"]())&&$.$raise(L("RangeError"),"Infinity"),b(E(t=m["$coerce_to!"](t,L("Integer"),"to_int"),L(L("Integer"),"MIN")))&&$.$raise(L("RangeError"),"out of bounds"),b(t>=0)))return this;if(.415241*(t=t["$-@"]())-.125>this.$size())return 0;var o=Math.pow(10,t),a=Math.floor((Math.abs(this)+o/2)/o)*o;return this<0?-a:a}if(b(this["$nan?"]())&&b(null==t)&&$.$raise(L("FloatDomainError"),"NaN"),b(N(t=m["$coerce_to!"](t||0,L("Integer"),"to_int"),0)))b(this["$nan?"]())?$.$raise(L("RangeError"),"NaN"):b(this["$infinite?"]())&&$.$raise(L("FloatDomainError"),"Infinity");else if(O(t,0))return Math.round(this);else if(b(this["$nan?"]())||b(this["$infinite?"]()))return this;return(i=null==(r=T(n=L("Math").$frexp(this)))[0]?B:r[0],s=null==r[1]?B:r[1],b(F(t,S(I(L(L("Float"),"DIG"),2),b(y(s,0))?R(s,4):S(R(s,3),1)))))?this:b(E(t,(b(y(s,0))?I(R(s,3),1):R(s,4))["$-@"]()))?0:Math.round(this*Math.pow(10,t))/Math.pow(10,t)},-1),v(o,"$times",function e(){var t=e.$$p||B;if(e.$$p=null,!b(t))return z(this,"enum_for",["times"],function e(){return null==e.$$s?this:e.$$s},{$$s:this});for(var r=0;r<this;r++)t(r);return this}),v(o,"$to_f",q),v(o,"$to_i",function e(){return this<0?Math.ceil(this):Math.floor(this)}),v(o,"$to_r",function e(){var t,r,n=B,i=B;return _(L("Integer"),this)?L("Rational").$new(this,1):(n=null==(t=T(r=L("Math").$frexp(this)))[0]?B:t[0],i=null==t[1]?B:t[1],n=L("Math").$ldexp(n,L(L("Float"),"MANT_DIG")).$to_i(),i=S(i,L(L("Float"),"MANT_DIG")),C(n,L(L("Float"),"RADIX")["$**"](i)).$to_r())}),v(o,"$to_s",function e(t){return(null==t&&(t=10),(b(E(t=m["$coerce_to!"](t,L("Integer"),"to_int"),2))||b(y(t,36)))&&$.$raise(L("ArgumentError"),"invalid radix "+t),O(this,0)&&b(1/this==-1/0))?"-0.0":this.toString(t)},-1),v(o,"$truncate",function e(t){null==t&&(t=0);var r=this.$to_f();if(r%1==0&&t>=0)return r;var n=Math.pow(10,t),i=parseInt(r*n,10)/n;return r%1==0&&(i=Math.round(i)),i},-1),v(o,"$digits",function e(t){null==t&&(t=10),E(this,0)&&$.$raise(L(L("Math"),"DomainError"),"out of domain"),b(E(t=m["$coerce_to!"](t,L("Integer"),"to_int"),2))&&$.$raise(L("ArgumentError"),"invalid radix "+t),this!=parseInt(this)&&$.$raise(L("NoMethodError"),"undefined method `digits' for "+this.$inspect());var r=this,n=[];if(0==this)return[0];for(;0!=r;)n.push(r%t),r=parseInt(r/t,10);return n},-1),v(o,"$divmod",function e(t){var r=e.$$p||B;return(e.$$p=null,b(this["$nan?"]())||b(t["$nan?"]()))?$.$raise(L("FloatDomainError"),"NaN"):b(this["$infinite?"]())?$.$raise(L("FloatDomainError"),"Infinity"):k(this,A(this,"divmod",e,!1,!0),"divmod",[t],r)}),v(o,"$upto",function e(t){var r=e.$$p||B,n=this;if(e.$$p=null,!(r!==B))return z(n,"enum_for",["upto",t],function e(){var r=null==e.$$s?this:e.$$s;return(_(L("Numeric"),t)||$.$raise(L("ArgumentError"),"comparison of "+r.$class()+" with "+t.$class()+" failed"),b(E(t,r)))?0:I(S(t,r),1)},{$$s:n});t.$$is_number||$.$raise(L("ArgumentError"),"comparison of "+n.$class()+" with "+t.$class()+" failed");for(var i=n;i<=t;i++)r(i);return n}),v(o,"$zero?",function e(){return 0==this}),v(o,"$size",j(4)),v(o,"$nan?",function e(){return isNaN(this)}),v(o,"$finite?",function e(){return this!=1/0&&this!=-1/0&&!isNaN(this)}),v(o,"$infinite?",function e(){return this==1/0?1:this==-1/0?-1:B}),v(o,"$positive?",function e(){return 0!=this&&(this==1/0||1/this>0)}),v(o,"$negative?",function e(){return this==-1/0||1/this<0}),v(o,"$next_float",function e(){return O(this,L(L("Float"),"INFINITY"))?L(L("Float"),"INFINITY"):b(this["$nan?"]())?L(L("Float"),"NAN"):F(this,0)?c(Math.abs(this)):h(this)}),v(o,"$prev_float",function e(){return O(this,L(L("Float"),"INFINITY")["$-@"]())?L(L("Float"),"INFINITY")["$-@"]():b(this["$nan?"]())?L(L("Float"),"NAN"):y(this,0)?h(this):-c(Math.abs(this))}),x(o,"arg","angle"),x(o,"eql?","=="),x(o,"fdiv","/"),x(o,"inspect","to_s"),x(o,"kind_of?","is_a?"),x(o,"magnitude","abs"),x(o,"modulo","%"),x(o,"object_id","__id__"),x(o,"phase","angle"),x(o,"succ","next"),x(o,"to_int","to_i")}("::",L("Numeric"),D),M("::","Fixnum",L("Number")),t=L("Numeric"),r=D,i=[n=g("::",t,"Integer")].concat(r),n.$$is_number_class=!0,n.$$is_integer_class=!0,s=e.get_singleton_class(n),a=[s].concat(o=i),u=e.$r(a),v(s,"$allocate",function e(){return $.$raise(L("TypeError"),"allocator undefined for "+this.$name())}),e.udef(s,"$new"),v(s,"$sqrt",function e(t){return(t=m["$coerce_to!"](t,L("Integer"),"to_int"))<0&&$.$raise(L(L("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)}),v(s,"$try_convert",function e(t){return u("Opal")["$coerce_to?"](t,this,"to_int")}),M(n,"MAX",1073741823),M(n,"MIN",-1073741824),l=L("Numeric"),c=D,f=[h=g("::",l,"Float")].concat(c),h.$$is_number_class=!0,d=e.get_singleton_class(h),v(d,"$allocate",function e(){return $.$raise(L("TypeError"),"allocator undefined for "+this.$name())}),e.udef(d,"$new"),v(d,"$===",function e(t){return!!t.$$is_number}),M(h,"INFINITY",1/0),M(h,"MAX",Number.MAX_VALUE),M(h,"MIN",Number.MIN_VALUE),M(h,"NAN",NaN),M(h,"DIG",15),M(h,"MANT_DIG",53),M(h,"RADIX",2),M(h,"EPSILON",Number.EPSILON||2220446049250313e-31)},Opal.modules["corelib/range"]=function(e){var t=e.klass,r=e.truthy,n=e.Kernel,i=e.def,s=e.not,o=e.send2,a=e.find_super,u=e.rb_lt,l=e.rb_le,c=e.send,h=e.eqeq,f=e.eqeqeq,d=e.return_ivar,p=e.rb_gt,g=e.rb_minus,m=e.Opal,$=e.rb_divide,v=e.rb_plus,_=e.rb_times,b=e.rb_ge,y=e.thrower,w=e.alias,E=e.top,x=e.nil,k=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),E.$require("corelib/enumerable"),function(E,A,z){var I=t("::",null,"Range"),S=[I].concat(z),O=e.$r(S),q=I.$$prototype;function R(e){return e.begin===x||e.end===x||e.begin===-1/0||e.end===1/0||e.begin===1/0||e.end===-1/0}return q.begin=q.end=q.excl=x,I.$include(k("Enumerable")),I.$$prototype.$$is_range=!0,I.$attr_reader("begin","end"),i(I,"$initialize",function e(t,i,s){var o=this;return null==s&&(s=!1),r(o.begin)&&n.$raise(k("NameError"),"'initialize' called twice"),r(t["$<=>"](i))||r(t["$nil?"]())||r(i["$nil?"]())||n.$raise(k("ArgumentError"),"bad value for range"),o.begin=t,o.end=i,o.excl=s},-3),i(I,"$===",function e(t){return this["$include?"](t)}),i(I,"$count",function e(){var t=e.$$p||x;return(e.$$p=null,s(t!==x)&&r(R(this)))?k(k("Float"),"INFINITY"):o(this,a(this,"count",e,!1,!0),"count",[],t)}),i(I,"$to_a",function e(){var t=e.$$p||x;return e.$$p=null,r(R(this))&&n.$raise(k("TypeError"),"cannot convert endless range to an array"),o(this,a(this,"to_a",e,!1,!0),"to_a",[],t)}),i(I,"$cover?",function e(t){var n=x,i=x,s=x,o=x,a=x;return(n=r(i=r(s=r(o=this.begin["$nil?"]())?-1:o)?s:this.begin["$<=>"](t))&&i,a=r(i=r(s=r(o=this.end["$nil?"]())?-1:o)?s:t["$<=>"](this.end))&&i,r(i=r(s=r(this.excl)?r(o=a)?u(a,0):o:r(o=a)?l(a,0):o)?n:s))?l(n,0):i}),i(I,"$each",function t(){var i,o,a=t.$$p||x,l=x,f=x,d=x;if(t.$$p=null,!(a!==x))return c(this,"enum_for",["each"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this});if(this.begin.$$is_number&&this.end.$$is_number){for((this.begin%1!=0||this.end%1!=0)&&n.$raise(k("TypeError"),"can't iterate from Float"),i=this.begin,o=this.end+(r(this.excl)?0:1);i<o;i++)a(i);return this}if(this.begin.$$is_string&&this.end.$$is_string)return c(this.begin,"upto",[this.end,this.excl],a.$to_proc()),this;for(l=this.begin,f=this.end,r(l["$respond_to?"]("succ"))||n.$raise(k("TypeError"),"can't iterate from "+l.$class());r(r(d=this.end["$nil?"]())?d:u(l["$<=>"](f),0));)e.yield1(a,l),l=l.$succ();return s(this.excl)&&h(l,f)&&e.yield1(a,l),this}),i(I,"$eql?",function e(t){var n=x,i=x;return!!f(k("Range"),t)&&(r(n=r(i=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):i)?this.end["$eql?"](t.$end()):n)}),i(I,"$exclude_end?",d("excl")),i(I,"$first",function e(t){var i=e.$$p||x;return(e.$$p=null,r(this.begin["$nil?"]())&&n.$raise(k("RangeError"),"cannot get the minimum of beginless range"),r(null==t))?this.begin:o(this,a(this,"first",e,!1,!0),"first",[t],i)},-1),i(I,"$last",function e(t){return(r(this.end["$nil?"]())&&n.$raise(k("RangeError"),"cannot get the maximum of endless range"),r(null==t))?this.end:this.$to_a().$last(t)},-1),i(I,"$max",function e(){var t=e.$$p||x;return(e.$$p=null,r(this.end["$nil?"]()))?n.$raise(k("RangeError"),"cannot get the maximum of endless range"):t!==x?o(this,a(this,"max",e,!1,!0),"max",[],t):s(this.begin["$nil?"]())&&(r(p(this.begin,this.end))||r(this.excl)&&h(this.begin,this.end))?x:this.excl?this.end-1:this.end}),i(I,"$min",function e(){var t=e.$$p||x;return(e.$$p=null,r(this.begin["$nil?"]()))?n.$raise(k("RangeError"),"cannot get the minimum of beginless range"):t!==x?o(this,a(this,"min",e,!1,!0),"min",[],t):s(this.end["$nil?"]())&&(r(p(this.begin,this.end))||r(this.excl)&&h(this.begin,this.end))?x:(0,this.begin)}),i(I,"$size",function e(){var t=x,n=x,i=x;return(t=k(k("Float"),"INFINITY"),h(this.begin,t)&&s(this.end["$nil?"]())||h(this.end,t["$-@"]())&&s(this.begin["$nil?"]()))?0:r(R(this))?t:f(k("Numeric"),this.begin)&&f(k("Numeric"),this.end)?(n=this.begin,i=this.end,r(this.excl)&&(i=g(i,1)),r(u(i,n)))?0:(Math.abs(i-n)+1).$to_i():x}),i(I,"$step",function t(i){var o=t.$$p||x,a=this,u=x,l=x;function f(){null==i?i=1:i.$$is_number||(i=m["$coerce_to!"](i,k("Integer"),"to_int")),i<0?n.$raise(k("ArgumentError"),"step can't be negative"):0===i&&n.$raise(k("ArgumentError"),"step can't be 0")}return(t.$$p=null,o!==x)?(f(),r(a.begin.$$is_number&&a.end.$$is_number)?(l=0,function(){try{var t=y("break");c(a,"loop",[],function n(){var s=null==n.$$s?this:n.$$s,a=x;return null==s.begin&&(s.begin=x),null==s.excl&&(s.excl=x),null==s.end&&(s.end=x),a=v(s.begin,_(l,i)),r(s.excl)?r(b(a,s.end))&&t.$throw():r(p(a,s.end))&&t.$throw(),e.yield1(o,a),l=v(l,1)},{$$s:a})}catch(n){if(n===t)return n.$v;throw n}}()):(a.begin.$$is_string&&a.end.$$is_string&&i%1!=0&&n.$raise(k("TypeError"),"no implicit conversion to float from string"),c(a,"each_with_index",[],function t(r,n){return(null==r&&(r=x),null==n&&(n=x),h(n["$%"](i),0))?e.yield1(o,r):x})),a):(r(a.begin["$is_a?"](O("Numeric")))||r(a.begin["$nil?"]()))&&(r(a.end["$is_a?"](O("Numeric")))||r(a.end["$nil?"]()))&&s(r(u=a.begin["$nil?"]())?a.end["$nil?"]():u)?k(k("Enumerator"),"ArithmeticSequence").$new(a,i,"step"):c(a,"enum_for",["step",i],function e(){return f(),function e(){if(!a.begin["$respond_to?"]("succ")||a.begin.$$is_string&&a.end.$$is_string)return x;if(i%1==0)return $(a.$size(),i).$ceil();var t,r=a.begin,n=a.end,s=Math.abs,o=Math.floor,u=(s(r)+s(n)+s(n-r))/s(i)*k(k("Float"),"EPSILON");return u>.5&&(u=.5),a.excl?(t=o((n-r)/i-u))*i+r<n&&t++:t=o((n-r)/i+u)+1,t}()})},-1),i(I,"$%",function e(t){return r(this.begin["$is_a?"](O("Numeric")))&&r(this.end["$is_a?"](O("Numeric")))?k(k("Enumerator"),"ArithmeticSequence").$new(this,t,"%"):this.$step(t)}),i(I,"$bsearch",function e(){var t=e.$$p||x;return(e.$$p=null,t!==x)?(r(R(this)&&(this.begin.$$is_number||this.end.$$is_number))&&n.$raise(k("NotImplementedError"),"Can't #bsearch an infinite range"),r(this.begin.$$is_number&&this.end.$$is_number)||n.$raise(k("TypeError"),"can't do binary search for "+this.begin.$class()),c(this.$to_a(),"bsearch",[],t.$to_proc())):this.$enum_for("bsearch")}),i(I,"$to_s",function e(){var t=x;return""+(r(t=this.begin)?t:"")+(r(this.excl)?"...":"..")+(r(t=this.end)?t:"")}),i(I,"$inspect",function e(){var t=x;return""+(r(t=this.begin)?this.begin.$inspect():t)+(r(this.excl)?"...":"..")+(r(t=this.end)?this.end.$inspect():t)}),i(I,"$marshal_load",function e(t){var r=this;return r.begin=t["$[]"]("begin"),r.end=t["$[]"]("end"),r.excl=t["$[]"]("excl")}),i(I,"$hash",function e(){return[this.begin,this.end,this.excl].$hash()}),w(I,"==","eql?"),w(I,"include?","cover?"),w(I,"member?","cover?")}("::",null,[])},Opal.modules["corelib/proc"]=function(e){var t,r,n=e.slice,i=e.klass,s=e.truthy,o=e.Kernel,a=e.defs,u=e.def,l=e.send,c=e.to_a,h=e.return_self,f=e.ensure_kwargs,d=e.Opal,p=e.alias,g=e.nil,m=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),r=i("::",t=Function,"Proc"),e.prop(r.$$prototype,"$$is_proc",!0),e.prop(r.$$prototype,"$$is_lambda",!1),a(r,"$new",function e(){var t=e.$$p||g;return e.$$p=null,s(t)||o.$raise(m("ArgumentError"),"tried to create a Proc object without a block"),t}),u(r,"$call",function t(r){var i,s,o=t.$$p||g,a=this;t.$$p=null,i=n(arguments),s=i,o!==g&&(a.$$p=o);var u,l=a.$$brk,c=a.$$ret;if(l||c&&a.$$is_lambda)try{u=a.$$is_lambda?a.apply(null,s):e.yieldX(a,s)}catch(h){if(h===l)return h.$v;if(a.$$is_lambda&&h===c)return h.$v;throw h}else u=a.$$is_lambda?a.apply(null,s):e.yieldX(a,s);return u},-1),u(r,"$>>",function e(t){return e.$$p,e.$$p=null,l(o,"proc",[],function e(r){var i,s,o=e.$$p||g,a=null==e.$$s?this:e.$$s,u=g;return e.$$p=null,i=n(arguments),u=l(a,"call",c(s=i),o.$to_proc()),t.$call(u)},{$$arity:-1,$$s:this})}),u(r,"$<<",function e(t){return e.$$p,e.$$p=null,l(o,"proc",[],function e(r){var i,s,o=e.$$p||g,a=null==e.$$s?this:e.$$s,u=g;return e.$$p=null,i=n(arguments),u=l(t,"call",c(s=i),o.$to_proc()),a.$call(u)},{$$arity:-1,$$s:this})}),u(r,"$to_proc",h),u(r,"$lambda?",function e(){return!!this.$$is_lambda}),u(r,"$arity",function e(){return this.$$is_curried?-1:null!=this.$$arity?this.$$arity:this.length}),u(r,"$source_location",function e(){var t=g;return this.$$is_curried?g:s(t=this.$$source_location)?t:g}),u(r,"$binding",function e(){var t;return(this.$$is_curried&&o.$raise(m("ArgumentError"),"Can't create Binding"),s((t=m("::","Binding","skip_raise"))?"constant":g))?m("Binding").$new(g,[],this.$$s,this.$source_location()):g}),u(r,"$parameters",function e(t){if(r=(t=f(t)).$$smap.lambda,this.$$is_curried)return[["rest"]];if(!this.$$parameters)return[];if(null==r?this.$$is_lambda:r)return this.$$parameters;var r,n,i,s=[];for(n=0,i=this.$$parameters.length;n<i;n++){var o=this.$$parameters[n];"req"===o[0]&&(o=["opt",o[1]]),s.push(o)}return s},-1),u(r,"$curry",function e(t){var r=this;function i(){var e,s=n(arguments),a=s.length;return(a>t&&r.$$is_lambda&&!r.$$is_curried&&o.$raise(m("ArgumentError"),"wrong number of arguments ("+a+" for "+t+")"),a>=t)?r.$call.apply(r,s):((e=function(){return i.apply(null,s.concat(n(arguments)))}).$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e)}return void 0===t?t=r.length:(t=d["$coerce_to!"](t,m("Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&o.$raise(m("ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),i.$$is_lambda=r.$$is_lambda,i.$$is_curried=!0,i},-1),u(r,"$dup",function e(){var t=this.$$original_proc||this,r=function(){return t.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(r[n]=this[n]);return r}),p(r,"===","call"),p(r,"clone","dup"),p(r,"yield","call"),p(r,"[]","call")},Opal.modules["corelib/method"]=function(e){var t,r,n,i,s=e.klass,o=e.def,a=e.truthy,u=e.slice,l=e.alias,c=e.Kernel,h=e.send,f=e.to_a,d=e.nil,p=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),(r=(t=s("::",null,"Method")).$$prototype).method=r.receiver=r.owner=r.name=d,t.$attr_reader("owner","receiver","name"),o(t,"$initialize",function e(t,r,n,i){var s=this;return s.receiver=t,s.owner=r,s.name=i,s.method=n}),o(t,"$arity",function e(){return this.method.$arity()}),o(t,"$parameters",function e(){return this.method.$$parameters}),o(t,"$source_location",function e(){var t=d;return a(t=this.method.$$source_location)?t:["(eval)",0]}),o(t,"$comments",function e(){var t=d;return a(t=this.method.$$comments)?t:[]}),o(t,"$call",function e(t){var r,n,i=e.$$p||d,s=this;return e.$$p=null,r=u(arguments),n=r,s.method.$$p=i,s.method.apply(s.receiver,n)},-1),o(t,"$curry",function e(t){return this.method.$curry(t)},-1),o(t,"$>>",function e(t){return this.method["$>>"](t)}),o(t,"$<<",function e(t){return this.method["$<<"](t)}),o(t,"$unbind",function e(){return p("UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)}),o(t,"$to_proc",function e(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t.$$arity=null==this.method.$$arity?this.method.length:this.method.$$arity,t.$$parameters=this.method.$$parameters,t}),o(t,"$inspect",function e(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"}),l(t,"[]","call"),l(t,"===","call"),(i=(n=s("::",null,"UnboundMethod")).$$prototype).method=i.owner=i.name=i.source=d,n.$attr_reader("source","owner","name"),o(n,"$initialize",function e(t,r,n,i){var s=this;return s.source=t,s.owner=r,s.method=n,s.name=i}),o(n,"$arity",function e(){return this.method.$arity()}),o(n,"$parameters",function e(){return this.method.$$parameters}),o(n,"$source_location",function e(){var t=d;return a(t=this.method.$$source_location)?t:["(eval)",0]}),o(n,"$comments",function e(){var t=d;return a(t=this.method.$$comments)?t:[]}),o(n,"$bind",function t(r){if(this.owner.$$is_module||e.is_a(r,this.owner))return p("Method").$new(r,this.owner,this.method,this.name);c.$raise(p("TypeError"),"can't bind singleton method to a different class (expected "+r+".kind_of?("+this.owner+" to be true)")}),o(n,"$bind_call",function e(t,r){var n,i,s=e.$$p||d;return e.$$p=null,n=u(arguments,1),i=n,h(this.$bind(t),"call",f(i),s.$to_proc())},-2),o(n,"$inspect",function e(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"})},Opal.modules["corelib/variables"]=function(e){var t=e.gvars,r=e.const_set,n=e.Object,i=e.hash2,s=e.nil;return e.add_stubs("new"),t["&"]=t["~"]=t["`"]=t["'"]=s,t.LOADED_FEATURES=t['"']=e.loaded_features,t.LOAD_PATH=t[":"]=[],t["/"]="\n",t[","]=s,r("::","ARGV",[]),r("::","ARGF",n.$new()),r("::","ENV",i([],{})),t.VERBOSE=!1,t.DEBUG=!1,t.SAFE=0},Opal.modules["corelib/io"]=function(e){var t,r,n,i=e.klass,s=e.const_set,o=e.not,a=e.truthy,u=e.def,l=e.return_ivar,c=e.return_val,h=e.slice,f=e.Kernel,d=e.gvars,p=e.send,g=e.to_a,m=e.rb_plus,$=e.neqeq,v=e.range,_=e.hash2,b=e.eqeq,y=e.to_ary,w=e.rb_gt,E=e.assign_ivar_val,x=e.alias,k=e.nil,A=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),(n=(r=i("::",null,"IO")).$$prototype).read_buffer=n.closed=k,s(r,"SEEK_SET",0),s(r,"SEEK_CUR",1),s(r,"SEEK_END",2),s(r,"SEEK_DATA",3),s(r,"SEEK_HOLE",4),s(r,"READABLE",1),s(r,"WRITABLE",4),r.$attr_reader("eof"),r.$attr_accessor("read_proc","sync","tty","write_proc"),u(r,"$initialize",function e(t,r){var n=this;return(null==r&&(r="r"),n.fd=t,n.flags=r,n.eof=!1,a(r["$include?"]("r"))&&o(r["$match?"](/[wa+]/)))?n.closed="write":a(r["$match?"](/[wa]/))&&o(r["$match?"](/[r+]/))?n.closed="read":k},-2),u(r,"$fileno",l("fd")),u(r,"$tty?",function e(){return!0==this.tty}),u(r,"$write",function e(t){return this.write_proc(t),t.$size()}),u(r,"$flush",c(k)),u(r,"$<<",function e(t){return this.$write(t),this}),u(r,"$print",function e(t){var r,n;null==d[","]&&(d[","]=k),r=h(arguments),n=r;for(var i=0,s=n.length;i<s;i++)n[i]=f.$String(n[i]);return this.$write(n.join(d[","])),k},-1),u(r,"$puts",function e(t){var r,n,i;if(n=h(arguments),0===(i=n).length)this.$write("\n");else for(var s=0,o=i.length;s<o;s++)if(i[s].$$is_array){var a=i[s].$flatten();a.length>0&&p(this,"puts",g(a))}else(r=i[s].$$is_string?i[s].valueOf():f.$String(i[s])).endsWith("\n")||(r+="\n"),this.$write(r);return k},-1),u(r,"$getc",function e(){var t=this,r=k,n=k,i=k;t.read_buffer=a(r=t.read_buffer)?r:"",n="";do if(t.read_buffer=m(t.read_buffer,n),$(t.read_buffer,""))return i=t.read_buffer["$[]"](0),t.read_buffer=t.read_buffer["$[]"](v(1,-1,!1)),i;while(a(n=t.$sysread_noraise(1)));return k}),u(r,"$getbyte",function e(){var t;return(t=this.$getc())===k||null==t?k:t.$ord()}),u(r,"$readbyte",function e(){return this.$readchar().$ord()}),u(r,"$readchar",function e(){var t=k;return a(t=this.$getc())?t:f.$raise(A("EOFError"),"end of file reached")}),u(r,"$readline",function e(t){var r,n,i=k;return(r=h(arguments),a(i=p(this,"gets",g(n=r))))?i:f.$raise(A("EOFError"),"end of file reached")},-1),u(r,"$gets",function t(r,n,i){var s,u,l=this,c=k,h=k,f=k,p=k,g=k,v=k;null==d["/"]&&(d["/"]=k),null==r&&(r=!1),null==n&&(n=k),null==i&&(i=_([],{})),a(r.$$is_number)&&o(n)&&(r=(s=[!1,r,n])[0],n=s[1],i=s[2]),a(r.$$is_hash)&&o(n)&&b(i,_([],{}))?(r=(s=[!1,k,r])[0],n=s[1],i=s[2]):a(n.$$is_hash)&&b(i,_([],{}))&&(r=(s=[r,k,n])[0],n=s[1],i=s[2]),c=r,b(r,!1)&&(r=d["/"]),b(r,"")&&(r=/\r?\n\r?\n/),r=a(h=r)?h:"",b(c,"")||(r=r.$to_str()),f=b(c,"")?2:r.$length(),b(r," ")&&(r=/ /),l.read_buffer=a(h=l.read_buffer)?h:"",p="",g=k;do if(l.read_buffer=m(l.read_buffer,p),$(r,"")&&a(a(r.$$is_regexp)?l.read_buffer["$match?"](r):l.read_buffer["$include?"](r))){v=l.read_buffer,g=null==(s=y(u=l.read_buffer.$split(r,2)))[0]?k:s[0],l.read_buffer=null==s[1]?k:s[1],$(g,v)&&(g=m(g,v["$[]"](g.$length(),f)));break}while(a(p=l.$sysread_noraise(b(r,"")?65536:1)));return!a(g)&&(g=(s=[a(h=l.read_buffer)?h:"",""])[0],l.read_buffer=s[1],b(g,"")&&(g=k)),a(g)&&(a(n)&&(g=g["$[]"](e.Range.$new(0,n,!0)),l.read_buffer=m(g["$[]"](e.Range.$new(n,-1,!1)),l.read_buffer)),a(i["$[]"]("chomp"))&&(g=g.$sub(/\r?\n$/,"")),b(c,"")&&(g=g.$sub(/^[\r\n]+/,""))),b(c,!1)&&(d._=g),g},-1),u(r,"$sysread",function e(t){var r=this,n=k;return a(n=r.read_proc(t))?n:(r.eof=!0,f.$raise(A("EOFError"),"end of file reached"))}),u(r,"$sysread_noraise",function t(r){try{return this.$sysread(r)}catch(n){if(e.rescue(n,[A("EOFError")]))try{return k}finally{e.pop_exception()}else throw n}}),u(r,"$readpartial",function e(t){var r,n=this,i=k,s=k,o=k;return n.read_buffer=a(i=n.read_buffer)?i:"",s=n.$sysread(t),o=(r=[m(n.read_buffer,a(i=s)?i:""),""])[0],n.read_buffer=r[1],b(o,"")&&(o=k),o}),u(r,"$read",function t(r){var n,i=this,s=k,o=k,u=k;null==r&&(r=k),i.read_buffer=a(s=i.read_buffer)?s:"",o="",u=k;do if(i.read_buffer=m(i.read_buffer,o),a(r)&&a(w(i.read_buffer.$length(),r)))return u=(n=[i.read_buffer["$[]"](e.Range.$new(0,r,!0)),i.read_buffer["$[]"](e.Range.$new(r,-1,!1))])[0],i.read_buffer=n[1],u;while(a(o=i.$sysread_noraise(a(s=r)?s:65536)));return u=(n=[i.read_buffer,""])[0],i.read_buffer=n[1],u},-1),u(r,"$readlines",function e(t){return null==d["/"]&&(d["/"]=k),null==t&&(t=d["/"]),this.$each_line(t).$to_a()},-1),u(r,"$each",function t(r,n){var i,s,o,u=t.$$p||k,l=k;if(null==d["/"]&&(d["/"]=k),t.$$p=null,i=h(arguments),i.length>0&&(s=i.shift()),null==s&&(s=d["/"]),o=i,!(u!==k))return p(this,"enum_for",["each",s].concat(g(o)));for(;a(l=p(this,"gets",[s].concat(g(o))));)e.yield1(u,l);return this},-1),u(r,"$each_byte",function t(){var r=t.$$p||k,n=k;if(t.$$p=null,!(r!==k))return this.$enum_for("each_byte");for(;a(n=this.$getbyte());)e.yield1(r,n);return this}),u(r,"$each_char",function t(){var r=t.$$p||k,n=k;if(t.$$p=null,!(r!==k))return this.$enum_for("each_char");for(;a(n=this.$getc());)e.yield1(r,n);return this}),u(r,"$close",E("closed","both")),u(r,"$close_read",function e(){var t=this;return b(t.closed,"write")?t.closed="both":t.closed="read"}),u(r,"$close_write",function e(){var t=this;return b(t.closed,"read")?t.closed="both":t.closed="write"}),u(r,"$closed?",function e(){return this.closed["$=="]("both")}),u(r,"$closed_read?",function e(){var t=k;return a(t=this.closed["$=="]("read"))?t:this.closed["$=="]("both")}),u(r,"$closed_write?",function e(){var t=k;return a(t=this.closed["$=="]("write"))?t:this.closed["$=="]("both")}),u(r,"$check_writable",function e(){return a(this["$closed_write?"]())?f.$raise(A("IOError"),"not opened for writing"):k}),u(r,"$check_readable",function e(){return a(this["$closed_read?"]())?f.$raise(A("IOError"),"not opened for reading"):k}),x(r,"each_line","each"),x(r,"eof?","eof"),s("::","STDIN",d.stdin=A("IO").$new(0,"r")),s("::","STDOUT",d.stdout=A("IO").$new(1,"w")),s("::","STDERR",d.stderr=A("IO").$new(2,"w"));var z=e.global.console;return A("STDOUT")["$write_proc="]("object"==typeof process&&"object"==typeof process.stdout?function(e){process.stdout.write(e)}:function(e){z.log(e)}),A("STDERR")["$write_proc="]("object"==typeof process&&"object"==typeof process.stderr?function(e){process.stderr.write(e)}:function(e){z.warn(e)}),t=[function(e){var t=prompt();return null!==t?t+"\n":k}],p(A("STDIN"),"read_proc=",t),t[t.length-1]},Opal.modules["opal/regexp_anchors"]=function(e){var t,r,n,i,s,o=e.module,a=e.const_set,u=[],l=(e.nil,e.$$$);return e.add_stubs("new"),t=u[0],r=u,i=[n=o(t,"Opal")].concat(r),s=e.$r(i),a(n,"REGEXP_START","^"),a(n,"REGEXP_END","$"),a(n,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),a(n,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),a(n,"INLINE_IDENTIFIER_REGEXP",s("Regexp").$new("[^"+l(n,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+l(n,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),a(n,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),a(n,"CONST_NAME_REGEXP",s("Regexp").$new(""+l(n,"REGEXP_START")+"(::)?[A-Z][^"+l(n,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+l(n,"REGEXP_END")))},Opal.modules["opal/mini"]=function(e){var t=e.Object;return e.nil,e.add_stubs("require"),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("corelib/io"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/kernel/format"]=function(e){var t,r=e.coerce_to,n=e.module,i=e.slice,s=e.truthy,o=e.eqeq,a=e.Opal,u=e.Kernel,l=e.gvars,c=e.def,h=e.alias,f=e.nil,d=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),c(t=n("::","Kernel"),"$format",function e(t,n){var c,h,p=f;null==l.DEBUG&&(l.DEBUG=f),c=i(arguments,1),o((h=c).$length(),1)&&s(h["$[]"](0)["$respond_to?"]("to_ary"))&&!s((p=a["$coerce_to?"](h["$[]"](0),d("Array"),"to_ary"))["$nil?"]())&&(h=p.$to_a());var g,m,$,v,_,b,y,w,E,x,k,A,z,I,S,O,q="",R=0,T=t.length,C=1,N=0;function F(){32&O&&u.$raise(d("ArgumentError"),"flag after width"),128&O&&u.$raise(d("ArgumentError"),"flag after precision")}function j(){32&O&&u.$raise(d("ArgumentError"),"width given twice"),128&O&&u.$raise(d("ArgumentError"),"width after precision")}function M(e){return e>=h.length&&u.$raise(d("ArgumentError"),"too few arguments"),h[e]}function P(){switch(N){case -1:u.$raise(d("ArgumentError"),"unnumbered("+C+") mixed with numbered");case -2:u.$raise(d("ArgumentError"),"unnumbered("+C+") mixed with named")}return M((N=C++)-1)}function D(e){return N>0&&u.$raise(d("ArgumentError"),"numbered("+e+") after unnumbered("+N+")"),-2===N&&u.$raise(d("ArgumentError"),"numbered("+e+") after named"),e<1&&u.$raise(d("ArgumentError"),"invalid index - "+e+"$"),N=-1,M(e-1)}function B(){return void 0===S?P():S}function L(e){for(var r,n="";;m++){if(m===T&&u.$raise(d("ArgumentError"),"malformed format string - %*[0-9]"),48>t.charCodeAt(m)||t.charCodeAt(m)>57)return m--,(r=parseInt(n,10)||0)>2147483647&&u.$raise(d("ArgumentError"),""+e+" too big"),r;n+=t.charAt(m)}}function U(e){var r,n=L(e);return"$"===t.charAt(m+1)?(m++,r=D(n)):r=P(),r.$to_int()}for(m=t.indexOf("%");-1!==m;m=t.indexOf("%",m)){switch(v=void 0,O=0,b=-1,y=-1,S=void 0,g=m,m++,t.charAt(m)){case"%":R=m;case"":case"\n":case"\0":m++;continue}format_sequence:for(;m<T;m++)switch(t.charAt(m)){case" ":F(),O|=16;continue format_sequence;case"#":F(),O|=1;continue format_sequence;case"+":F(),O|=4;continue format_sequence;case"-":F(),O|=2;continue format_sequence;case"0":F(),O|=8;continue format_sequence;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(w=L("width"),"$"===t.charAt(m+1)){if(m+2===T){v="%",m++;break format_sequence}void 0!==S&&u.$raise(d("ArgumentError"),"value given twice - %"+w+"$"),S=D(w),m++}else j(),O|=32,b=w;continue format_sequence;case"<":case"{":for(x="<"===t.charAt(m)?">":"}",E="",m++;;m++){if(m===T&&u.$raise(d("ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(m)===x){if(N>0&&u.$raise(d("ArgumentError"),"named "+E+" after unnumbered("+N+")"),-1===N&&u.$raise(d("ArgumentError"),"named "+E+" after numbered"),N=-2,void 0!==h[0]&&h[0].$$is_hash||u.$raise(d("ArgumentError"),"one hash required"),S=h[0].$fetch(E),">"===x)continue format_sequence;if(v=S.toString(),-1!==y&&(v=v.slice(0,y)),2&O)for(;v.length<b;)v+=" ";else for(;v.length<b;)v=" "+v;break format_sequence}E+=t.charAt(m)}case"*":m++,j(),O|=32,(b=U("width"))<0&&(O|=2,b=-b);continue format_sequence;case".":if(128&O&&u.$raise(d("ArgumentError"),"precision given twice"),O|=192,y=0,m++,"*"===t.charAt(m)){m++,(y=U("precision"))<0&&(O&=-65);continue format_sequence}y=L("precision");continue format_sequence;case"d":case"i":case"u":if(($=u.$Integer(B()))>=0){for(v=$.toString();v.length<y;)v="0"+v;if(2&O)for((4&O||16&O)&&(v=(4&O?"+":" ")+v);v.length<b;)v+=" ";else if(8&O&&-1===y){for(;v.length<b-(4&O||16&O?1:0);)v="0"+v;(4&O||16&O)&&(v=(4&O?"+":" ")+v)}else for((4&O||16&O)&&(v=(4&O?"+":" ")+v);v.length<b;)v=" "+v}else{for(v=(-$).toString();v.length<y;)v="0"+v;if(2&O)for(v="-"+v;v.length<b;)v+=" ";else if(8&O&&-1===y){for(;v.length<b-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<b;)v=" "+v}break format_sequence;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(m)){case"b":case"B":k=2,A="0b",z=/^1+/,I="1";break;case"o":k=8,A="0",z=/^3?7+/,I="7";break;case"x":case"X":k=16,A="0x",z=/^f+/,I="f"}if(($=u.$Integer(B()))>=0){for(v=$.toString(k);v.length<y;)v="0"+v;if(2&O)for((4&O||16&O)&&(v=(4&O?"+":" ")+v),1&O&&0!==$&&(v=A+v);v.length<b;)v+=" ";else if(8&O&&-1===y){for(;v.length<b-(4&O||16&O?1:0)-(1&O&&0!==$?A.length:0);)v="0"+v;1&O&&0!==$&&(v=A+v),(4&O||16&O)&&(v=(4&O?"+":" ")+v)}else for(1&O&&0!==$&&(v=A+v),(4&O||16&O)&&(v=(4&O?"+":" ")+v);v.length<b;)v=" "+v}else if(4&O||16&O){for(v=(-$).toString(k);v.length<y;)v="0"+v;if(2&O)for(1&O&&(v=A+v),v="-"+v;v.length<b;)v+=" ";else if(8&O&&-1===y){for(;v.length<b-1-(1&O?2:0);)v="0"+v;1&O&&(v=A+v),v="-"+v}else for(1&O&&(v=A+v),v="-"+v;v.length<b;)v=" "+v}else{for(v=($>>>0).toString(k).replace(z,I);v.length<y-2;)v=I+v;if(2&O)for(v=".."+v,1&O&&(v=A+v);v.length<b;)v+=" ";else if(8&O&&-1===y){for(;v.length<b-2-(1&O?A.length:0);)v=I+v;v=".."+v,1&O&&(v=A+v)}else for(v=".."+v,1&O&&(v=A+v);v.length<b;)v=" "+v}t.charAt(m)===t.charAt(m).toUpperCase()&&(v=v.toUpperCase());break format_sequence;case"f":case"e":case"E":case"g":case"G":if(($=u.$Float(B()))>=0||isNaN($)){if($===1/0)v="Inf";else switch(t.charAt(m)){case"f":v=$.toFixed(-1===y?6:y);break;case"e":case"E":v=$.toExponential(-1===y?6:y);break;case"g":case"G":(_=parseInt((v=$.toExponential()).split("e")[1],10))<-4||_>=(-1===y?6:y)||(v=$.toPrecision(-1===y?1&O?6:void 0:y))}if(2&O)for((4&O||16&O)&&(v=(4&O?"+":" ")+v);v.length<b;)v+=" ";else if(8&O&&$!==1/0&&!isNaN($)){for(;v.length<b-(4&O||16&O?1:0);)v="0"+v;(4&O||16&O)&&(v=(4&O?"+":" ")+v)}else for((4&O||16&O)&&(v=(4&O?"+":" ")+v);v.length<b;)v=" "+v}else{if($===-1/0)v="Inf";else switch(t.charAt(m)){case"f":v=(-$).toFixed(-1===y?6:y);break;case"e":case"E":v=(-$).toExponential(-1===y?6:y);break;case"g":case"G":(_=parseInt((v=(-$).toExponential()).split("e")[1],10))<-4||_>=(-1===y?6:y)||(v=(-$).toPrecision(-1===y?1&O?6:void 0:y))}if(2&O)for(v="-"+v;v.length<b;)v+=" ";else if(8&O&&$!==-1/0){for(;v.length<b-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<b;)v=" "+v}t.charAt(m)!==t.charAt(m).toUpperCase()||$===1/0||$===-1/0||isNaN($)||(v=v.toUpperCase()),v=v.replace(/([eE][-+]?)([0-9])$/,"$10$2");break format_sequence;case"a":case"A":u.$raise(d("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(($=B())["$respond_to?"]("to_ary")&&($=$.$to_ary()[0]),1!==(v=$["$respond_to?"]("to_str")?$.$to_str():String.fromCharCode(r($,d("Integer"),"to_int"))).length&&u.$raise(d("ArgumentError"),"%c requires a character"),2&O)for(;v.length<b;)v+=" ";else for(;v.length<b;)v=" "+v;break format_sequence;case"p":if(v=B().$inspect(),-1!==y&&(v=v.slice(0,y)),2&O)for(;v.length<b;)v+=" ";else for(;v.length<b;)v=" "+v;break format_sequence;case"s":if(v=B().$to_s(),-1!==y&&(v=v.slice(0,y)),2&O)for(;v.length<b;)v+=" ";else for(;v.length<b;)v=" "+v;break format_sequence;default:u.$raise(d("ArgumentError"),"malformed format string - %"+t.charAt(m))}void 0===v&&u.$raise(d("ArgumentError"),"malformed format string - %"),q+=t.slice(R,g)+v,R=m+1}return l.DEBUG&&N>=0&&C<h.length&&u.$raise(d("ArgumentError"),"too many arguments for format string"),q+t.slice(R)},-2),h(t,"sprintf","format")},Opal.modules["corelib/string/encoding"]=function(e){var t,r,n,i,s,o=e.klass,a=e.hash2,u=e.rb_plus,l=e.truthy,c=e.send,h=e.defs,f=e.eqeq,d=e.def,p=e.return_ivar,g=e.return_val,m=e.slice,$=e.Kernel,v=e.Opal,_=e.rb_lt,b=e.top,y=e.$r([]),w=e.nil,E=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),b.$require("corelib/string"),(n=(r=o("::",null,"Encoding")).$$prototype).name=n.dummy=w,h(r,"$register",function t(r,n){var i=t.$$p||w,s=w,o=w,h=w,f=w,d=w,p=w;return t.$$p=null,null==n&&(n=a([],{})),s=u([r],l(o=n["$[]"]("aliases"))?o:[]),h=l(o=n["$[]"]("ascii"))&&o,f=l(o=n["$[]"]("dummy"))&&o,l(n["$[]"]("inherits"))?(d=n["$[]"]("inherits").$clone()).$initialize(r,s,h,f):d=this.$new(r,s,h,f),i!==w&&c(d,"instance_eval",[],i.$to_proc()),p=e.encodings,c(s,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=w),r.$const_set(t.$tr("-","_"),d),p[t]=d},{$$s:this})},-2),h(r,"$find",function t(r){return f(r,"default_external")?this.$default_external():e.find_encoding(r)}),r.$singleton_class().$attr_accessor("default_external"),r.$attr_reader("name","names"),d(r,"$initialize",function e(t,r,n,i){var s=this;return s.name=t,s.names=r,s.ascii=n,s.dummy=i}),d(r,"$ascii_compatible?",p("ascii")),d(r,"$dummy?",p("dummy")),d(r,"$binary?",g(!1)),d(r,"$to_s",p("name")),d(r,"$inspect",function e(){return"#<Encoding:"+this.name+(l(this.dummy)?" (dummy)":w)+">"}),d(r,"$charsize",function e(t){for(var r=0,n=0,i=t.length;n<i;n++){var s=t.charCodeAt(n);!(s>=55296&&s<=56319)&&r++}return r}),d(r,"$each_char",function t(r){var n=t.$$p||w;t.$$p=null;for(var i="",s=0,o=r.length;s<o;s++){var a=r.charCodeAt(s),u=r.charAt(s);if(a>=56320&&a<=57343){i=u;continue}a>=55296&&a<=56319&&(u=i+u),"UTF-8"!=r.encoding.name&&((u=new String(u)).encoding=r.encoding),e.yield1(n,u)}}),d(r,"$each_byte",function e(t){var r,n;return r=m(arguments),n=r,$.$raise(E("NotImplementedError"))},-1),d(r,"$bytesize",function e(t){var r,n;return r=m(arguments),n=r,$.$raise(E("NotImplementedError"))},-1),o("::",E("StandardError"),"EncodingError"),o("::",E("EncodingError"),"CompatibilityError"),c(E("Encoding"),"register",["UTF-8",a(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function t(){var r=null==t.$$s?this:t.$$s;return d(r,"$each_byte",function t(r){var n,i=t.$$p||w;t.$$p=null;for(var s=1/0,o=r.length,a=null,u=0;u<o;++u){if((n=r.charCodeAt(u))>55295&&n<57344){if(!a){if(n>56319||u+1===o){(s-=3)>-1&&(e.yield1(i,239),e.yield1(i,191),e.yield1(i,189));continue}a=n;continue}if(n<56320){(s-=3)>-1&&(e.yield1(i,239),e.yield1(i,191),e.yield1(i,189)),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(s-=3)>-1&&(e.yield1(i,239),e.yield1(i,191),e.yield1(i,189));if(a=null,n<128){if((s-=1)<0)break;e.yield1(i,n)}else if(n<2048){if((s-=2)<0)break;e.yield1(i,n>>6|192),e.yield1(i,63&n|128)}else if(n<65536){if((s-=3)<0)break;e.yield1(i,n>>12|224),e.yield1(i,n>>6&63|128),e.yield1(i,63&n|128)}else if(n<1114112){if((s-=4)<0)break;e.yield1(i,n>>18|240),e.yield1(i,n>>12&63|128),e.yield1(i,n>>6&63|128),e.yield1(i,63&n|128)}}}),d(r,"$bytesize",function e(t){return t.$bytes().$length()})},{$$s:b}),c(E("Encoding"),"register",["UTF-16LE"],function t(){var r=null==t.$$s?this:t.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||w;t.$$p=null;for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);e.yield1(n,255&o),e.yield1(n,o>>8)}}),d(r,"$bytesize",function e(t){return 2*t.length})},{$$s:b}),c(E("Encoding"),"register",["UTF-16BE",a(["inherits"],{inherits:E(E("Encoding"),"UTF_16LE")})],function t(){return d(null==t.$$s?this:t.$$s,"$each_byte",function t(r){var n=t.$$p||w;t.$$p=null;for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);e.yield1(n,o>>8),e.yield1(n,255&o)}})},{$$s:b}),c(E("Encoding"),"register",["UTF-32LE"],function t(){var r=null==t.$$s?this:t.$$s;return d(r,"$each_byte",function t(r){var n=t.$$p||w;t.$$p=null;for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);e.yield1(n,255&o),e.yield1(n,o>>8),e.yield1(n,0),e.yield1(n,0)}}),d(r,"$bytesize",function e(t){return 4*t.length})},{$$s:b}),c(E("Encoding"),"register",["UTF-32BE",a(["inherits"],{inherits:E(E("Encoding"),"UTF_32LE")})],function t(){return d(null==t.$$s?this:t.$$s,"$each_byte",function t(r){var n=t.$$p||w;t.$$p=null;for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);e.yield1(n,0),e.yield1(n,0),e.yield1(n,o>>8),e.yield1(n,255&o)}})},{$$s:b}),c(E("Encoding"),"register",["ASCII-8BIT",a(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function t(){var r=null==t.$$s?this:t.$$s;return d(r,"$each_char",function t(r){var n=t.$$p||w;t.$$p=null;for(var i=0,s=r.length;i<s;i++){var o=new String(r.charAt(i));o.encoding=r.encoding,e.yield1(n,o)}}),d(r,"$charsize",function e(t){return t.length}),d(r,"$each_byte",function t(r){var n=t.$$p||w;t.$$p=null;for(var i=0,s=r.length;i<s;i++){var o=r.charCodeAt(i);e.yield1(n,255&o)}}),d(r,"$bytesize",function e(t){return t.length}),d(r,"$binary?",g(!0))},{$$s:b}),E("Encoding").$register("ISO-8859-1",a(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:E(E("Encoding"),"ASCII_8BIT")})),E("Encoding").$register("US-ASCII",a(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:E(E("Encoding"),"ASCII_8BIT")})),(s=(i=o("::",null,"String")).$$prototype).internal_encoding=s.bytes=s.encoding=w,i.$attr_reader("encoding"),i.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",w),e.prop(String.prototype,"encoding",E(E("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",E(E("Encoding"),"UTF_8")),d(i,"$b",function e(){return this.$dup().$force_encoding("binary")}),d(i,"$bytesize",function e(){return this.internal_encoding.$bytesize(this)}),d(i,"$each_byte",function e(){var t=e.$$p||w;return(e.$$p=null,t!==w)?(c(this.internal_encoding,"each_byte",[this],t.$to_proc()),this):c(this,"enum_for",["each_byte"],function e(){return(null==e.$$s?this:e.$$s).$bytesize()},{$$s:this})}),d(i,"$bytes",function e(){var t=this,r=w;return"string"==typeof t?new String(t).$each_byte().$to_a():(t.bytes=l(r=t.bytes)?r:t.$each_byte().$to_a(),t.bytes.$dup())}),d(i,"$each_char",function e(){var t=e.$$p||w;return(e.$$p=null,t!==w)?(c(this.encoding,"each_char",[this],t.$to_proc()),this):c(this,"enum_for",["each_char"],function e(){return(null==e.$$s?this:e.$$s).$length()},{$$s:this})}),d(i,"$chars",function e(){var t=e.$$p||w;return(e.$$p=null,l(t))?c(this,"each_char",[],t.$to_proc()):this.$each_char().$to_a()}),d(i,"$each_codepoint",function t(){var r=t.$$p||w;if(t.$$p=null,!(r!==w))return this.$enum_for("each_codepoint");for(var n=0,i=this.length;n<i;n++)e.yield1(r,this.codePointAt(n));return this}),d(i,"$codepoints",function e(){var t=e.$$p||w;return(e.$$p=null,t!==w)?c(this,"each_codepoint",[],t.$to_proc()):this.$each_codepoint().$to_a()}),d(i,"$encode",function t(r){return e.enc(this,r)}),d(i,"$force_encoding",function t(r){var n=this,i=n;return r===i.encoding?i:(r=v["$coerce_to!"](r,E("String"),"to_s"),(r=E("Encoding").$find(r))===i.encoding)?i:i=e.set_encoding(i,r)}),d(i,"$getbyte",function e(t){var r=w;return(r=this.$bytes(),t=v["$coerce_to!"](t,E("Integer"),"to_int"),l(_(r.$length(),t)))?w:r["$[]"](t)}),d(i,"$initialize_copy",function e(t){return"\n      self.encoding = other.encoding;\n      self.internal_encoding = other.internal_encoding;\n    "}),d(i,"$valid_encoding?",g(!0)),t=[E(y("Encoding"),"UTF_8")],c(E("Encoding"),"default_external=",t),t[t.length-1]},Opal.modules["corelib/math"]=function(e){var t,r,n,i,s=e.type_error,o=e.module,a=e.const_set,u=e.Class,l=e.slice,c=e.Kernel,h=e.defs,f=e.truthy,d=e.send,p=e.def,g=e.rb_minus,m=e.eqeqeq,$=e.rb_divide,v=e.nil,_=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),t=[],n=[r=o("::","Math")].concat(t),i=e.$r(n),a(r,"E",Math.E),a(r,"PI",Math.PI),a(r,"DomainError",u.$new(_("StandardError"))),h(r,"$checked",function e(t,r){if(n=l(arguments,1),isNaN((s=n)[0])||2==s.length&&isNaN(s[1]))return NaN;var n,s,o=Math[t].apply(null,s);return isNaN(o)&&c.$raise(i("DomainError"),'Numerical argument is out of domain - "'+t+'"'),o},-2),h(r,"$float!",function t(r){try{return c.$Float(r)}catch(n){if(e.rescue(n,[_("ArgumentError")]))try{return c.$raise(s(r,_("Float")))}finally{e.pop_exception()}else throw n}}),h(r,"$integer!",function t(r){try{return c.$Integer(r)}catch(n){if(e.rescue(n,[_("ArgumentError")]))try{return c.$raise(s(r,_("Integer")))}finally{e.pop_exception()}else throw n}}),r.$module_function(),f(void 0!==Math.erf)||e.prop(Math,"erf",function(e){var t=1;e<0&&(t=-1);var r=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*r+-1.453152027)*r+1.421413741)*r+-.284496736)*r+.254829592)*r*Math.exp(-e*e))}),f(void 0!==Math.erfc)||e.prop(Math,"erfc",function(e){var t=Math.abs(e),r=1/(.5*t+1),n=r*Math.exp(-t*t-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return e<0?2-n:n}),d(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=v),d(r,"define_method",[t],function e(r){return null==r&&(r=v),_("Math").$checked(t,_("Math")["$float!"](r))})},{$$s:r}),p(r,"$atan2",function e(t,r){return _("Math").$checked("atan2",_("Math")["$float!"](t),_("Math")["$float!"](r))}),p(r,"$hypot",function e(t,r){return _("Math").$checked("hypot",_("Math")["$float!"](t),_("Math")["$float!"](r))}),p(r,"$frexp",function e(t){if(isNaN(t=i("Math")["$float!"](t)))return[NaN,0];var r=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,r),r]}),p(r,"$gamma",function e(t){t=i("Math")["$float!"](t);var r,n,s,o,a,u,l,h,f,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-.00009837447530487956,1580887032249125e-19,-.00021026444172410488,21743961811521265e-20,-.0001643181065367639,8441822398385275e-20,-.000026190838401581408,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-1/0;if((-1===t||t===-1/0)&&c.$raise(i("DomainError"),'Numerical argument is out of domain - "gamma"'),i("Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(o=t-2,a=t-1;o>1;)a*=o,o--;return 0==a&&(a=1),a}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*_("Math").$gamma(g(1,t)));if(t>=171.35)return 1/0;if(t>85)return f=(h=(l=(u=t*t)*t)*t)*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*l)-571/(2488320*h)+163879/(209018880*f)+5246819/(75246796800*f*t));for(t-=1,s=d[0],r=1;r<d.length;++r)s+=d[r]/(t+r);return Math.sqrt(2*Math.PI)*Math.pow(n=t+4.7421875+.5,t+.5)*Math.exp(-n)*s}),p(r,"$ldexp",function e(t,r){return t=i("Math")["$float!"](t),isNaN(r=i("Math")["$integer!"](r))&&c.$raise(_("RangeError"),"float NaN out of range of integer"),t*Math.pow(2,r)}),p(r,"$lgamma",function e(t){return -1==t?[1/0,1]:[Math.log(Math.abs(_("Math").$gamma(t))),0>_("Math").$gamma(t)?-1:1]}),p(r,"$log",function e(t,r){return(m(_("String"),t)&&c.$raise(s(t,_("Float"))),f(null==r))?_("Math").$checked("log",_("Math")["$float!"](t)):(m(_("String"),r)&&c.$raise(s(r,_("Float"))),$(_("Math").$checked("log",_("Math")["$float!"](t)),_("Math").$checked("log",_("Math")["$float!"](r))))},-2),p(r,"$log10",function e(t){return m(_("String"),t)&&c.$raise(s(t,_("Float"))),_("Math").$checked("log10",_("Math")["$float!"](t))}),p(r,"$log2",function e(t){return m(_("String"),t)&&c.$raise(s(t,_("Float"))),_("Math").$checked("log2",_("Math")["$float!"](t))}),p(r,"$tan",function e(t){return f((t=_("Math")["$float!"](t))["$infinite?"]())?_(_("Float"),"NAN"):_("Math").$checked("tan",_("Math")["$float!"](t))})},Opal.modules["corelib/complex/base"]=function(e){var t,r,n,i,s,o,a,u,l=e.module,c=e.truthy,h=e.def,f=e.klass,d=[],p=e.nil;return e.add_stubs("new,from_string"),t=d,n=[r=l("::","Kernel")].concat(t),i=e.$r(n),h(r,"$Complex",function e(t,r){return(null==r&&(r=p),c(r))?i("Complex").$new(t,r):i("Complex").$new(t,0)},-2),s=d,a=[o=f("::",null,"String")].concat(s),u=e.$r(a),h(o,"$to_c",function e(){return u("Complex").$from_string(this)})},Opal.modules["corelib/complex"]=function(e){var t,r,n,i,s,o,a,u,l=e.klass,c=e.truthy,h=e.eqeqeq,f=e.Kernel,d=e.defs,p=e.rb_times,g=e.def,m=e.rb_plus,$=e.rb_minus,v=e.rb_divide,_=e.eqeq,b=e.to_ary,y=e.rb_gt,w=e.neqeq,E=e.return_val,x=e.const_set,k=e.alias,A=e.top,z=e.nil,I=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),A.$require("corelib/numeric"),A.$require("corelib/complex/base"),t=I("Numeric"),r=[],i=[n=l("::",t,"Complex")].concat(r),s=e.$r(i),(o=n.$$prototype).real=o.imag=z,d(n,"$rect",function e(t,r){return null==r&&(r=0),h(I("Numeric"),t)&&c(t["$real?"]())&&h(I("Numeric"),r)&&c(r["$real?"]())||f.$raise(I("TypeError"),"not a real"),this.$new(t,r)},-2),d(n,"$polar",function e(t,r){return null==r&&(r=0),h(I("Numeric"),t)&&c(t["$real?"]())&&h(I("Numeric"),r)&&c(r["$real?"]())||f.$raise(I("TypeError"),"not a real"),this.$new(p(t,I("Math").$cos(r)),p(t,I("Math").$sin(r)))},-2),n.$attr_reader("real","imag"),g(n,"$initialize",function e(t,r){var n=this;return null==r&&(r=0),n.real=t,n.imag=r,n.$freeze()},-2),g(n,"$coerce",function e(t){return h(I("Complex"),t)?[t,this]:h(I("Numeric"),t)&&c(t["$real?"]())?[I("Complex").$new(t,0),this]:f.$raise(I("TypeError"),""+t.$class()+" can't be coerced into Complex")}),g(n,"$==",function e(t){var r=z;return h(I("Complex"),t)?c(r=this.real["$=="](t.$real()))?this.imag["$=="](t.$imag()):r:h(I("Numeric"),t)&&c(t["$real?"]())?c(r=this.real["$=="](t))?this.imag["$=="](0):r:t["$=="](this)}),g(n,"$-@",function e(){return f.$Complex(this.real["$-@"](),this.imag["$-@"]())}),g(n,"$+",function e(t){return h(I("Complex"),t)?f.$Complex(m(this.real,t.$real()),m(this.imag,t.$imag())):h(I("Numeric"),t)&&c(t["$real?"]())?f.$Complex(m(this.real,t),this.imag):this.$__coerced__("+",t)}),g(n,"$-",function e(t){return h(I("Complex"),t)?f.$Complex($(this.real,t.$real()),$(this.imag,t.$imag())):h(I("Numeric"),t)&&c(t["$real?"]())?f.$Complex($(this.real,t),this.imag):this.$__coerced__("-",t)}),g(n,"$*",function e(t){return h(I("Complex"),t)?f.$Complex($(p(this.real,t.$real()),p(this.imag,t.$imag())),m(p(this.real,t.$imag()),p(this.imag,t.$real()))):h(I("Numeric"),t)&&c(t["$real?"]())?f.$Complex(p(this.real,t),p(this.imag,t)):this.$__coerced__("*",t)}),g(n,"$/",function e(t){return h(I("Complex"),t)?h(I("Number"),this.real)&&c(this.real["$nan?"]())||h(I("Number"),this.imag)&&c(this.imag["$nan?"]())||h(I("Number"),t.$real())&&c(t.$real()["$nan?"]())||h(I("Number"),t.$imag())&&c(t.$imag()["$nan?"]())?I("Complex").$new(I(I("Float"),"NAN"),I(I("Float"),"NAN")):v(p(this,t.$conj()),t.$abs2()):h(I("Numeric"),t)&&c(t["$real?"]())?f.$Complex(this.real.$quo(t),this.imag.$quo(t)):this.$__coerced__("/",t)}),g(n,"$**",function e(t){var r,n,i=z,s=z,o=z,a=z,u=z,l=z,d=z,g=z,E=z,x=z,k=z;if(_(t,0))return I("Complex").$new(1,0);if(h(I("Complex"),t))return i=null==(r=b(n=this.$polar()))[0]?z:r[0],s=null==r[1]?z:r[1],o=t.$real(),a=t.$imag(),u=I("Math").$exp($(p(o,I("Math").$log(i)),p(a,s))),l=m(p(s,o),p(a,I("Math").$log(i))),I("Complex").$polar(u,l);if(h(I("Integer"),t)){if(!c(y(t,0)))return v(I("Rational").$new(1,1),this)["$**"](t["$-@"]());for(d=this,g=d,E=$(t,1);w(E,0);){for(x=null==(r=b(n=E.$divmod(2)))[0]?z:r[0],k=null==r[1]?z:r[1];_(k,0);)d=f.$Complex($(p(d.$real(),d.$real()),p(d.$imag(),d.$imag())),p(p(2,d.$real()),d.$imag())),x=null==(r=b(n=(E=x).$divmod(2)))[0]?z:r[0],k=null==r[1]?z:r[1];g=p(g,d),E=$(E,1)}return g}return h(I("Float"),t)||h(I("Rational"),t)?(i=null==(r=b(n=this.$polar()))[0]?z:r[0],s=null==r[1]?z:r[1],I("Complex").$polar(i["$**"](t),p(s,t))):this.$__coerced__("**",t)}),g(n,"$abs",function e(){return I("Math").$hypot(this.real,this.imag)}),g(n,"$abs2",function e(){return m(p(this.real,this.real),p(this.imag,this.imag))}),g(n,"$angle",function e(){return I("Math").$atan2(this.imag,this.real)}),g(n,"$conj",function e(){return f.$Complex(this.real,this.imag["$-@"]())}),g(n,"$denominator",function e(){return this.real.$denominator().$lcm(this.imag.$denominator())}),g(n,"$eql?",function e(t){var r=z,n=z;return c(r=c(n=s("Complex")["$==="](t))?this.real.$class()["$=="](this.imag.$class()):n)?this["$=="](t):r}),g(n,"$fdiv",function e(t){return h(I("Numeric"),t)||f.$raise(I("TypeError"),""+t.$class()+" can't be coerced into Complex"),v(this,t)}),g(n,"$finite?",function e(){var t=z;return c(t=this.real["$finite?"]())?this.imag["$finite?"]():t}),g(n,"$hash",function e(){return"Complex:"+this.real+":"+this.imag}),g(n,"$infinite?",function e(){var t=z;return c(t=this.real["$infinite?"]())?t:this.imag["$infinite?"]()}),g(n,"$inspect",function e(){return"("+this+")"}),g(n,"$numerator",function e(){var t=z;return t=this.$denominator(),f.$Complex(p(this.real.$numerator(),v(t,this.real.$denominator())),p(this.imag.$numerator(),v(t,this.imag.$denominator())))}),g(n,"$polar",function e(){return[this.$abs(),this.$arg()]}),g(n,"$rationalize",function e(t){return arguments.length>1&&f.$raise(I("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),w(this.imag,0)&&f.$raise(I("RangeError"),"can't convert "+this+" into Rational"),this.$real().$rationalize(t)},-1),g(n,"$real?",E(!1)),g(n,"$rect",function e(){return[this.real,this.imag]}),g(n,"$to_f",function e(){return _(this.imag,0)||f.$raise(I("RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()}),g(n,"$to_i",function e(){return _(this.imag,0)||f.$raise(I("RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()}),g(n,"$to_r",function e(){return _(this.imag,0)||f.$raise(I("RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()}),g(n,"$to_s",function e(){var t=z;return t=m(t=this.real.$inspect(),h(I("Number"),this.imag)&&c(this.imag["$nan?"]())||c(this.imag["$positive?"]())||c(this.imag["$zero?"]())?"+":"-"),t=m(t,this.imag.$abs().$inspect()),h(I("Number"),this.imag)&&(c(this.imag["$nan?"]())||c(this.imag["$infinite?"]()))&&(t=m(t,"*")),m(t,"i")}),x(i[0],"I",n.$new(0,1)),d(n,"$from_string",function e(t){var r,n,i=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;function s(){return i.test(t)}function o(){var e=t.match(i)[0];return t=t.slice(e.length),e.replace(/_/g,"")}function a(){if(!s())return null;var e=parseFloat(o());if("/"!==t[0])return e;if(t=t.slice(1),!s())return t="/"+t,e;var r=parseFloat(o());return f.$Rational(e,r)}return(t.match(i),r=a())?(n=a())?f.$Complex(r,n):"i"===t[0]?f.$Complex(0,r):f.$Complex(r,0):"i"===t[0]?f.$Complex(0,1):"-"===t[0]&&"i"===t[1]?f.$Complex(0,-1):"+"===t[0]&&"i"===t[1]?f.$Complex(0,1):f.$Complex(0,0)}),a=e.get_singleton_class(n),k(a,"rectangular","rect"),k(n,"arg","angle"),k(n,"conjugate","conj"),k(n,"divide","/"),k(n,"imaginary","imag"),k(n,"magnitude","abs"),k(n,"phase","arg"),k(n,"quo","/"),k(n,"rectangular","rect"),e.udef(n,"$negative?"),e.udef(n,"$positive?"),e.udef(n,"$step"),z},Opal.modules["corelib/rational/base"]=function(e){var t=e.module,r=e.def,n=e.klass,i=(e.nil,e.$$$);return e.add_stubs("convert,from_string"),r(t("::","Kernel"),"$Rational",function e(t,r){return null==r&&(r=1),i("Rational").$convert(t,r)},-2),r(n("::",null,"String"),"$to_r",function e(){return i("Rational").$from_string(this)})},Opal.modules["corelib/rational"]=function(e){var t,r,n,i=e.klass,s=e.eqeq,o=e.Kernel,a=e.truthy,u=e.rb_lt,l=e.rb_divide,c=e.defs,h=e.eqeqeq,f=e.not,d=e.Opal,p=e.def,g=e.return_ivar,m=e.rb_minus,$=e.rb_times,v=e.rb_plus,_=e.rb_gt,b=e.rb_le,y=e.return_self,w=e.alias,E=e.top,x=e.nil,k=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),E.$require("corelib/numeric"),E.$require("corelib/rational/base"),(n=(r=i("::",t=k("Numeric"),"Rational")).$$prototype).num=n.den=x,c(r,"$reduce",function e(t,r){var n=x;if(t=t.$to_i(),s(r=r.$to_i(),0))o.$raise(k("ZeroDivisionError"),"divided by 0");else if(a(u(r,0)))t=t["$-@"](),r=r["$-@"]();else if(s(r,1))return this.$new(t,r);return n=t.$gcd(r),this.$new(l(t,n),l(r,n))}),c(r,"$convert",function e(t,r){return((a(t["$nil?"]())||a(r["$nil?"]()))&&o.$raise(k("TypeError"),"cannot convert nil into Rational"),h(k("Integer"),t)&&h(k("Integer"),r))?this.$reduce(t,r):((h(k("Float"),t)||h(k("String"),t)||h(k("Complex"),t))&&(t=t.$to_r()),(h(k("Float"),r)||h(k("String"),r)||h(k("Complex"),r))&&(r=r.$to_r()),a(r["$equal?"](1))&&f(k("Integer")["$==="](t)))?d["$coerce_to!"](t,k("Rational"),"to_r"):h(k("Numeric"),t)&&h(k("Numeric"),r)?l(t,r):this.$reduce(t,r)}),p(r,"$initialize",function e(t,r){var n=this;return n.num=t,n.den=r,n.$freeze()}),p(r,"$numerator",g("num")),p(r,"$denominator",g("den")),p(r,"$coerce",function e(t){var r=x;return h(k("Rational"),r=t)?[t,this]:h(k("Integer"),r)?[t.$to_r(),this]:h(k("Float"),r)?[t,this.$to_f()]:x}),p(r,"$==",function e(t){var r=x,n=x;return h(k("Rational"),r=t)?a(n=this.num["$=="](t.$numerator()))?this.den["$=="](t.$denominator()):n:h(k("Integer"),r)?a(n=this.num["$=="](t))?this.den["$=="](1):n:h(k("Float"),r)?this.$to_f()["$=="](t):t["$=="](this)}),p(r,"$<=>",function e(t){var r=x;return h(k("Rational"),r=t)?m($(this.num,t.$denominator()),$(this.den,t.$numerator()))["$<=>"](0):h(k("Integer"),r)?m(this.num,$(this.den,t))["$<=>"](0):h(k("Float"),r)?this.$to_f()["$<=>"](t):this.$__coerced__("<=>",t)}),p(r,"$+",function e(t){var r=x,n=x,i=x;return h(k("Rational"),r=t)?(n=v($(this.num,t.$denominator()),$(this.den,t.$numerator())),i=$(this.den,t.$denominator()),o.$Rational(n,i)):h(k("Integer"),r)?o.$Rational(v(this.num,$(t,this.den)),this.den):h(k("Float"),r)?v(this.$to_f(),t):this.$__coerced__("+",t)}),p(r,"$-",function e(t){var r=x,n=x,i=x;return h(k("Rational"),r=t)?(n=m($(this.num,t.$denominator()),$(this.den,t.$numerator())),i=$(this.den,t.$denominator()),o.$Rational(n,i)):h(k("Integer"),r)?o.$Rational(m(this.num,$(t,this.den)),this.den):h(k("Float"),r)?m(this.$to_f(),t):this.$__coerced__("-",t)}),p(r,"$*",function e(t){var r=x,n=x,i=x;return h(k("Rational"),r=t)?(n=$(this.num,t.$numerator()),i=$(this.den,t.$denominator()),o.$Rational(n,i)):h(k("Integer"),r)?o.$Rational($(this.num,t),this.den):h(k("Float"),r)?$(this.$to_f(),t):this.$__coerced__("*",t)}),p(r,"$/",function e(t){var r=x,n=x,i=x;return h(k("Rational"),r=t)?(n=$(this.num,t.$denominator()),i=$(this.den,t.$numerator()),o.$Rational(n,i)):h(k("Integer"),r)?s(t,0)?l(this.$to_f(),0):o.$Rational(this.num,$(this.den,t)):h(k("Float"),r)?l(this.$to_f(),t):this.$__coerced__("/",t)}),p(r,"$**",function e(t){var r=x;if(h(k("Integer"),r=t))return s(this,0)&&a(u(t,0))?k(k("Float"),"INFINITY"):a(_(t,0))?o.$Rational(this.num["$**"](t),this.den["$**"](t)):a(u(t,0))?o.$Rational(this.den["$**"](t["$-@"]()),this.num["$**"](t["$-@"]())):o.$Rational(1,1);return h(k("Float"),r)?this.$to_f()["$**"](t):h(k("Rational"),r)?s(t,0)?o.$Rational(1,1):s(t.$denominator(),1)?a(u(t,0))?o.$Rational(this.den["$**"](t.$numerator().$abs()),this.num["$**"](t.$numerator().$abs())):o.$Rational(this.num["$**"](t.$numerator()),this.den["$**"](t.$numerator())):s(this,0)&&a(u(t,0))?o.$raise(k("ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](t):this.$__coerced__("**",t)}),p(r,"$abs",function e(){return o.$Rational(this.num.$abs(),this.den.$abs())}),p(r,"$ceil",function e(t){return(null==t&&(t=0),s(t,0))?l(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},-1),p(r,"$floor",function e(t){return(null==t&&(t=0),s(t,0))?l(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},-1),p(r,"$hash",function e(){return"Rational:"+this.num+":"+this.den}),p(r,"$inspect",function e(){return"("+this+")"}),p(r,"$rationalize",function e(t){if(arguments.length>1&&o.$raise(k("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var r,n,i,s,a,u=t.$abs(),c=m(this,u),h=v(this,u),f=0,d=1,p=1,g=0;!b(r=c.$ceil(),h);)s=(n=r-1)*d+f,a=n*g+p,i=l(1,m(h,n)),h=l(1,m(c,n)),c=i,f=d,p=g,d=s,g=a;return o.$Rational(r*d+f,r*g+p)},-1),p(r,"$round",function e(t){var r=x,n=x,i=x;return(null==t&&(t=0),s(t,0))?s(this.num,0)?0:s(this.den,1)?this.num:(i=l(r=v($(this.num.$abs(),2),this.den),n=$(this.den,2)).$truncate(),a(u(this.num,0)))?i["$-@"]():i:this.$with_precision("round",t)},-1),p(r,"$to_f",function e(){return l(this.num,this.den)}),p(r,"$to_i",function e(){return this.$truncate()}),p(r,"$to_r",y),p(r,"$to_s",function e(){return""+this.num+"/"+this.den}),p(r,"$truncate",function e(t){return(null==t&&(t=0),s(t,0))?a(u(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},-1),p(r,"$with_precision",function e(t,r){var n=x,i=x;return(h(k("Integer"),r)||o.$raise(k("TypeError"),"not an Integer"),i=$(this,n=10["$**"](r)),a(u(r,1)))?l(i.$send(t),n).$to_i():o.$Rational(i.$send(t),n)}),c(r,"$from_string",function e(t){var r,n,i=t.trimLeft(),s=/^[+-]?[\d_]+(\.[\d_]+)?/;function a(){return s.test(i)}function u(){var e=i.match(s)[0];return i=i.slice(e.length),e.replace(/_/g,"")}return(i.match(s),a())?(r=parseFloat(u()),"/"!==i[0])?o.$Rational(r,1):(i=i.slice(1),a())?(n=parseFloat(u()),o.$Rational(r,n)):o.$Rational(r,1):o.$Rational(0,1)}),w(r,"divide","/"),w(r,"quo","/")},Opal.modules["corelib/time"]=function(e){var t=e.slice,r=e.deny_frozen_access,n=e.klass,i=e.Kernel,s=e.Opal,o=e.defs,a=e.eqeqeq,u=e.def,l=e.truthy,c=e.rb_gt,h=e.rb_lt,f=e.send,d=e.rb_plus,p=e.rb_divide,g=e.rb_minus,m=e.range,$=e.neqeq,v=e.rb_le,_=e.eqeq,b=e.alias,y=e.top,w=e.nil,E=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),y.$require("corelib/comparable"),function(y,x,k){var A,z,I=n("::",x,"Time"),S=[I].concat(k),O=e.$r(S);I.$include(E("Comparable"));var q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=["January","February","March","April","May","June","July","August","September","October","November","December"];function N(e,t,r,n,o,a){if(e=e.$$is_string?parseInt(e,10):s["$coerce_to!"](e,E("Integer"),"to_int"),t===w)t=1;else if(!t.$$is_number){if(t["$respond_to?"]("to_str"))switch((t=t.$to_str()).toLowerCase()){case"jan":t=1;break;case"feb":t=2;break;case"mar":t=3;break;case"apr":t=4;break;case"may":t=5;break;case"jun":t=6;break;case"jul":t=7;break;case"aug":t=8;break;case"sep":t=9;break;case"oct":t=10;break;case"nov":t=11;break;case"dec":t=12;break;default:t=t.$to_i()}else t=s["$coerce_to!"](t,E("Integer"),"to_int")}return(t<1||t>12)&&i.$raise(E("ArgumentError"),"month out of range: "+t),t-=1,((r=r===w?1:r.$$is_string?parseInt(r,10):s["$coerce_to!"](r,E("Integer"),"to_int"))<1||r>31)&&i.$raise(E("ArgumentError"),"day out of range: "+r),((n=n===w?0:n.$$is_string?parseInt(n,10):s["$coerce_to!"](n,E("Integer"),"to_int"))<0||n>24)&&i.$raise(E("ArgumentError"),"hour out of range: "+n),((o=o===w?0:o.$$is_string?parseInt(o,10):s["$coerce_to!"](o,E("Integer"),"to_int"))<0||o>59)&&i.$raise(E("ArgumentError"),"min out of range: "+o),a===w?a=0:a.$$is_number||(a=a.$$is_string?parseInt(a,10):s["$coerce_to!"](a,E("Integer"),"to_int")),(a<0||a>60)&&i.$raise(E("ArgumentError"),"sec out of range: "+a),[e,t,r,n,o,a]}return o(I,"$at",function e(t,r){var n;return E("Time")["$==="](t)?(void 0!==r&&i.$raise(E("TypeError"),"can't convert Time into an exact number"),(n=new Date(t.getTime())).timezone=t.timezone,n):(t.$$is_number||(t=s["$coerce_to!"](t,E("Integer"),"to_int")),void 0===r)?new Date(1e3*t):(r.$$is_number||(r=s["$coerce_to!"](r,E("Integer"),"to_int")),new Date(1e3*t+r/1e3))},-2),o(I,"$new",function e(t,r,n,i,s,o,a){var u,l,c,h;return(null==r&&(r=w),null==n&&(n=w),null==i&&(i=w),null==s&&(s=w),null==o&&(o=w),null==a&&(a=w),void 0===t)?new Date:(t=(u=N(t,r,n,i,s,o))[0],r=u[1],n=u[2],i=u[3],s=u[4],o=u[5],a===w)?(l=new Date(t,r,n,i,s,0,1e3*o),t<100&&l.setFullYear(t),l):(c=this.$_parse_offset(a),h=new Date(Date.UTC(t,r,n,i,s,0,1e3*o)),t<100&&h.setUTCFullYear(t),(l=new Date(h.getTime()-36e5*c)).timezone=c,l)},-1),o(I,"$_parse_offset",function e(t){var r,n,s,o;return t.$$is_string?"UTC"==t?r=0:/^[+-]\d\d:[0-5]\d$/.test(t)?(n=t[0],r=("-"==n?-1:1)*((s=+(t[1]+t[2]))+(o=+(t[4]+t[5]))/60)):i.$raise(E("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+t):t.$$is_number?r=t/3600:i.$raise(E("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String"),r}),o(I,"$local",function e(r,n,i,s,o,a,u,l,c,h){var f,d;return null==n&&(n=w),null==i&&(i=w),null==s&&(s=w),null==o&&(o=w),null==a&&(a=w),null==u&&(u=w),null==l&&(l=w),null==c&&(c=w),null==h&&(h=w),10===arguments.length&&(f=t(arguments),r=f[5],n=f[4],i=f[3],s=f[2],o=f[1],a=f[0]),r=(f=N(r,n,i,s,o,a))[0],n=f[1],i=f[2],s=f[3],o=f[4],a=f[5],d=new Date(r,n,i,s,o,0,1e3*a),r<100&&d.setFullYear(r),d},-2),o(I,"$gm",function e(r,n,i,s,o,a,u,l,c,h){var f,d;return null==n&&(n=w),null==i&&(i=w),null==s&&(s=w),null==o&&(o=w),null==a&&(a=w),null==u&&(u=w),null==l&&(l=w),null==c&&(c=w),null==h&&(h=w),10===arguments.length&&(f=t(arguments),r=f[5],n=f[4],i=f[3],s=f[2],o=f[1],a=f[0]),r=(f=N(r,n,i,s,o,a))[0],n=f[1],i=f[2],s=f[3],o=f[4],a=f[5],d=new Date(Date.UTC(r,n,i,s,o,0,1e3*a)),r<100&&d.setUTCFullYear(r),d.timezone=0,d},-2),o(I,"$now",function e(){return this.$new()}),u(I,"$+",function e(t){a(E("Time"),t)&&i.$raise(E("TypeError"),"time + time?"),t.$$is_number||(t=s["$coerce_to!"](t,E("Integer"),"to_int"));var r=new Date(this.getTime()+1e3*t);return r.timezone=this.timezone,r}),u(I,"$-",function e(t){if(a(E("Time"),t))return(this.getTime()-t.getTime())/1e3;t.$$is_number||(t=s["$coerce_to!"](t,E("Integer"),"to_int"));var r=new Date(this.getTime()-1e3*t);return r.timezone=this.timezone,r}),u(I,"$<=>",function e(t){var r=w;return a(E("Time"),t)?this.$to_f()["$<=>"](t.$to_f()):l((r=t["$<=>"](this))["$nil?"]())?w:l(c(r,0))?-1:l(h(r,0))?1:0}),u(I,"$==",function e(t){var r=w;return l(r=E("Time")["$==="](t))?this.$to_f()===t.$to_f():r}),u(I,"$asctime",function e(){return this.$strftime("%a %b %e %H:%M:%S %Y")}),f([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function e(t,r,n,i){var s=null==e.$$s?this:e.$$s;return null==t&&(t=w),null==r&&(r=w),null==n&&(n=w),null==i&&(i=0),f(s,"define_method",[t],function e(){var t=null==e.$$s?this:e.$$s;return i+(null!=t.timezone?new Date(t.getTime()+36e5*t.timezone)[n]():t[r]())},{$$s:s})},{$$arity:-4,$$s:I}),u(I,"$yday",function e(){var t=w,r=w,n=w;return t=O("Time").$new(this.$year()).$to_i(),r=O("Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),n=86400,d(p(g(r,t),n).$round(),1)}),u(I,"$isdst",function e(){var t=new Date(this.getFullYear(),0,1),r=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),r.getTimezoneOffset())}),u(I,"$dup",function e(){var t=w;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t}),u(I,"$eql?",function e(t){var r=w;return l(r=t["$is_a?"](E("Time")))?this["$<=>"](t)["$zero?"]():r}),f([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function e(t,r){var n=null==e.$$s?this:e.$$s;return null==t&&(t=w),null==r&&(r=w),f(n,"define_method",[t],function e(){return(null==e.$$s?this:e.$$s).$wday()===r},{$$s:n})},{$$s:I}),u(I,"$hash",function e(){return"Time:"+this.getTime()}),u(I,"$inspect",function e(){return l(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")}),u(I,"$succ",function e(){var t=new Date(this.getTime()+1e3);return t.timezone=this.timezone,t}),u(I,"$usec",function e(){return 1e3*this.getMilliseconds()}),u(I,"$zone",function e(){if(0===this.timezone)return"UTC";if(null!=this.timezone)return w;var t,r=this.toString();return"GMT"==(t=-1==r.indexOf("(")?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:t}),u(I,"$getgm",function e(){var t=new Date(this.getTime());return t.timezone=0,t}),u(I,"$gmtime",function e(){var t=this;return 0!==t.timezone&&(r(t),t.timezone=0),t}),u(I,"$gmt?",function e(){return 0===this.timezone}),u(I,"$gmt_offset",function e(){return null!=this.timezone?60*this.timezone:-(60*this.getTimezoneOffset())}),u(I,"$strftime",function e(t){var r=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,t,n,i,s){var o,a,u,l="",c=-1!==t.indexOf("0"),h=-1===t.indexOf("-"),f=-1!==t.indexOf("_"),d=-1!==t.indexOf("^"),p=-1!==t.indexOf("#"),$=(t.match(":")||[]).length;switch(n=parseInt(n,10),c&&f&&(t.indexOf("0")<t.indexOf("_")?c=!1:f=!1),s){case"Y":l+=r.$year();break;case"C":c=!f,l+=Math.round(r.$year()/100);break;case"y":c=!f,l+=r.$year()%100;break;case"m":c=!f,l+=r.$mon();break;case"B":l+=C[r.$mon()-1];break;case"b":case"h":f=!c,l+=T[r.$mon()-1];break;case"d":c=!f,l+=r.$day();break;case"e":f=!c,l+=r.$day();break;case"j":c=!f,n=isNaN(n)?3:n,l+=r.$yday();break;case"H":c=!f,l+=r.$hour();break;case"k":f=!c,l+=r.$hour();break;case"I":c=!f,l+=r.$hour()%12||12;break;case"l":f=!c,l+=r.$hour()%12||12;break;case"P":l+=r.$hour()>=12?"pm":"am";break;case"p":l+=r.$hour()>=12?"PM":"AM";break;case"M":c=!f,l+=r.$min();break;case"S":c=!f,l+=r.$sec();break;case"L":c=!f,n=isNaN(n)?3:n,l+=r.getMilliseconds();break;case"N":n=isNaN(n)?9:n,l+=r.getMilliseconds().toString().$rjust(3,"0"),l=l.$ljust(n,"0");break;case"z":var v=null==r.timezone?r.getTimezoneOffset():-(60*r.timezone),_=Math.floor(Math.abs(v)/60),b=Math.abs(v)%60;l+=v<0?"+":"-",l+=_<10?"0":"",l+=_,$>0&&(l+=":"),l+=b<10?"0":"",l+=b,$>1&&(l+=":00");break;case"Z":l+=r.$zone();break;case"A":l+=q[r.$wday()];break;case"a":l+=R[r.$wday()];break;case"u":l+=r.$wday()+1;break;case"w":l+=r.$wday();break;case"V":l+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":l+=r.$cweek_cyear()["$[]"](1);break;case"g":l+=r.$cweek_cyear()["$[]"](1)["$[]"](m(-2,-1,!1));break;case"s":l+=r.$to_i();break;case"n":l+="\n";break;case"t":l+="	";break;case"%":l+="%";break;case"c":l+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":l+=r.$strftime("%m/%d/%y");break;case"F":l+=r.$strftime("%Y-%m-%d");break;case"v":l+=r.$strftime("%e-%^b-%4Y");break;case"r":l+=r.$strftime("%I:%M:%S %p");break;case"R":l+=r.$strftime("%H:%M");break;case"T":case"X":l+=r.$strftime("%H:%M:%S");break;case"J":if((o=r.$to_date().$jd())<2405160){l+=r.$strftime("%Y-%m-%d");break}o<2419614?(a="M",u=1867):o<2424875?(a="T",u=1911):o<2447535?(a="S",u=1925):o<2458605?(a="H",u=1988):(a="R",u=2018),l+=r.$format("%c%02d",a,g(r.$year(),u)),l+=r.$strftime("-%m-%d");break;default:return e}return d&&(l=l.toUpperCase()),p&&(l=l.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),h&&(c||f)&&(l=l.$rjust(isNaN(n)?2:n,f?" ":"0")),l})}),u(I,"$to_a",function e(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]}),u(I,"$to_f",function e(){return this.getTime()/1e3}),u(I,"$to_i",function e(){return parseInt(this.getTime()/1e3,10)}),u(I,"$cweek_cyear",function e(){var t=w,r=w,n=w,i=w,s=w,o=w,a=w,u=w;return(r=(t=E("Time").$new(this.$year(),1,1)).$wday(),n=0,i=this.$year(),l(v(r,4))&&$(r,0)?s=g(r,1):_(s=g(g(r,7),1),-8)&&(s=-1),l(v(o=p(d(this.$yday(),s),7).$ceil(),0)))?E("Time").$new(g(this.$year(),1),12,31).$cweek_cyear():(_(o,53)&&l(v(u=(a=E("Time").$new(this.$year(),12,31)).$wday(),3))&&$(u,0)&&(o=1,i=d(i,1)),[o,i])}),A=e.get_singleton_class(I),b(A,"mktime","local"),b(A,"utc","gm"),b(I,"ctime","asctime"),b(I,"dst?","isdst"),b(I,"getutc","getgm"),b(I,"gmtoff","gmt_offset"),b(I,"mday","day"),b(I,"month","mon"),b(I,"to_s","inspect"),b(I,"tv_sec","to_i"),b(I,"tv_usec","usec"),b(I,"utc","gmtime"),b(I,"utc?","gmt?"),b(I,"utc_offset","gmt_offset")}("::",Date,[])},Opal.modules["corelib/struct"]=function(e){var t,r,n,i,s,o=e.klass,a=e.slice,u=e.extract_kwargs,l=e.ensure_kwargs,c=e.truthy,h=e.neqeq,f=e.eqeq,d=e.Opal,p=e.send,g=e.Class,m=e.to_a,$=e.def,v=e.defs,_=e.Kernel,b=e.hash2,y=e.rb_gt,w=e.rb_minus,E=e.eqeqeq,x=e.rb_lt,k=e.rb_ge,A=e.rb_plus,z=e.alias,I=e.top,S=e.nil,O=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),I.$require("corelib/enumerable"),t=[],n=[r=o("::",null,"Struct")].concat(t),i=e.$r(n),r.$include(O("Enumerable")),v(r,"$new",function t(r,n,i){var s,o,v,_,b=t.$$p||S,y=S;if(t.$$p=null,s=a(arguments,1),o=l(o=u(s)),v=s,null==(_=o.$$smap.keyword_init)&&(_=!1),c(r)){if(f(r.$class(),O("String"))&&h(r["$[]"](0).$upcase(),r["$[]"](0)))v.$unshift(r),r=S;else try{r=d["$const_name!"](r)}catch(w){if(e.rescue(w,[O("TypeError"),O("NameError")]))try{v.$unshift(r),r=S}finally{e.pop_exception()}else throw w}}return p(v,"map",[],function e(t){return null==t&&(t=S),d["$coerce_to!"](t,O("String"),"to_str")}),y=p(g,"new",[this],function t(){var r,n,i=null==t.$$s?this:t.$$s;return p(v,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),r.$define_struct_attribute(t)},{$$s:i}),r=e.get_singleton_class(i),$(r,"$new",function e(t){var r,n,i=S;return r=a(arguments),n=r,(i=this.$allocate()).$$data={},p(i,"initialize",m(n)),i},-1),r.$alias_method("[]","new")},{$$s:this}),c(b)&&p(y,"module_eval",[],b.$to_proc()),y.$$keyword_init=_,c(r)&&O("Struct").$const_set(r,y),y},-2),v(r,"$define_struct_attribute",function e(t){return f(this,O("Struct"))&&_.$raise(O("ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](t),p(this,"define_method",[t],function e(){return(null==e.$$s?this:e.$$s).$$data[t]},{$$s:this}),p(this,"define_method",[""+t+"="],function e(r){var n=null==e.$$s?this:e.$$s;return null==r&&(r=S),n.$$data[t]=r},{$$s:this})}),v(r,"$members",function e(){var t=this,r=S;return null==t.members&&(t.members=S),f(t,O("Struct"))&&_.$raise(O("ArgumentError"),"the Struct class has no members"),t.members=c(r=t.members)?r:[]}),v(r,"$inherited",function e(t){var r=this,n=S;return null==r.members&&(r.members=S),n=r.members,p(t,"instance_eval",[],function e(){return(null==e.$$s?this:e.$$s).members=n},{$$s:r})}),$(r,"$initialize",function e(t){var r,n,i=S,s=S,o=S;return(r=a(arguments),n=r,c(this.$class().$$keyword_init))?(i=c(s=n.$last())?s:b([],{}),(c(y(n.$length(),1))||c(1===n.length&&!i.$$is_hash))&&_.$raise(O("ArgumentError"),"wrong number of arguments (given "+n.$length()+", expected 0)"),c((o=w(i.$keys(),this.$class().$members()))["$any?"]())&&_.$raise(O("ArgumentError"),"unknown keywords: "+o.$join(", ")),p(this.$class().$members(),"each",[],function e(t){var r,n=null==e.$$s?this:e.$$s;return null==t&&(t=S),p(n,"[]=",r=[t,i["$[]"](t)]),r[r.length-1]},{$$s:this})):(c(y(n.$length(),this.$class().$members().$length()))&&_.$raise(O("ArgumentError"),"struct size differs"),p(this.$class().$members(),"each_with_index",[],function e(t,r){var i,s=null==e.$$s?this:e.$$s;return null==t&&(t=S),null==r&&(r=S),p(s,"[]=",i=[t,n["$[]"](r)]),i[i.length-1]},{$$s:this}))},-1),$(r,"$initialize_copy",function e(t){var r=this;r.$$data={};var n,i,s,o=Object.keys(t.$$data);for(n=0,i=o.length;n<i;n++)s=o[n],r.$$data[s]=t.$$data[s]}),v(r,"$keyword_init?",function e(){return this.$$keyword_init}),$(r,"$members",function e(){return this.$class().$members()}),$(r,"$hash",function e(){return i("Hash").$new(this.$$data).$hash()}),$(r,"$[]",function e(t){return E(O("Integer"),t)?(c(x(t,this.$class().$members().$size()["$-@"]()))&&_.$raise(O("IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),c(k(t,this.$class().$members().$size()))&&_.$raise(O("IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):E(O("String"),t)?this.$$data.hasOwnProperty(t)||_.$raise(O("NameError").$new("no member '"+t+"' in struct",t)):_.$raise(O("TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=d["$coerce_to!"](t,O("String"),"to_str"),this.$$data[t]}),$(r,"$[]=",function e(t,r){var n=this;return E(O("Integer"),t)?(c(x(t,n.$class().$members().$size()["$-@"]()))&&_.$raise(O("IndexError"),"offset "+t+" too small for struct(size:"+n.$class().$members().$size()+")"),c(k(t,n.$class().$members().$size()))&&_.$raise(O("IndexError"),"offset "+t+" too large for struct(size:"+n.$class().$members().$size()+")"),t=n.$class().$members()["$[]"](t)):E(O("String"),t)?c(n.$class().$members()["$include?"](t.$to_sym()))||_.$raise(O("NameError").$new("no member '"+t+"' in struct",t)):_.$raise(O("TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=d["$coerce_to!"](t,O("String"),"to_str"),n.$$data[t]=r}),$(r,"$==",function e(t){if(!c(t["$instance_of?"](this.$class())))return!1;var r={},n={};return function e(t,i){var s,o,a;for(s in r[t.$__id__()]=!0,n[i.$__id__()]=!0,t.$$data)if(o=t.$$data[s],a=i.$$data[s],O("Struct")["$==="](o)){if((!r.hasOwnProperty(o.$__id__())||!n.hasOwnProperty(a.$__id__()))&&!e(o,a))return!1}else if(!o["$=="](a))return!1;return!0}(this,t)}),$(r,"$eql?",function e(t){if(!c(t["$instance_of?"](this.$class())))return!1;var r={},n={};return function e(t,i){var s,o,a;for(s in r[t.$__id__()]=!0,n[i.$__id__()]=!0,t.$$data)if(o=t.$$data[s],a=i.$$data[s],O("Struct")["$==="](o)){if((!r.hasOwnProperty(o.$__id__())||!n.hasOwnProperty(a.$__id__()))&&!e(o,a))return!1}else if(!o["$eql?"](a))return!1;return!0}(this,t)}),$(r,"$each",function t(){var r=t.$$p||S;return(t.$$p=null,r!==S)?(p(this.$class().$members(),"each",[],function t(n){var i=null==t.$$s?this:t.$$s;return null==n&&(n=S),e.yield1(r,i["$[]"](n))},{$$s:this}),this):p(this,"enum_for",["each"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),$(r,"$each_pair",function t(){var r=t.$$p||S;return(t.$$p=null,r!==S)?(p(this.$class().$members(),"each",[],function t(n){var i=null==t.$$s?this:t.$$s;return null==n&&(n=S),e.yield1(r,[n,i["$[]"](n)])},{$$s:this}),this):p(this,"enum_for",["each_pair"],function e(){return(null==e.$$s?this:e.$$s).$size()},{$$s:this})}),$(r,"$length",function e(){return this.$class().$members().$length()}),$(r,"$to_a",function e(){return p(this.$class().$members(),"map",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=S),r["$[]"](t)},{$$s:this})}),s=[],$(r,"$inspect",function e(){var t=this,r=S,n=S;return function(){try{if(r="#<struct ",c(s["$include?"](t.$__id__())))return A(r,":...>");return s["$<<"](t.$__id__()),n=!0,E(O("Struct"),t)&&c(t.$class().$name())&&(r=A(r,""+t.$class()+" ")),r=A(r,p(t.$each_pair(),"map",[],function e(t,r){return null==t&&(t=S),null==r&&(r=S),""+t+"="+i("Opal").$inspect(r)}).$join(", ")),r=A(r,">")}finally{c(n)&&s.pop()}}()}),$(r,"$to_h",function e(){var t=e.$$p||S;return(e.$$p=null,t!==S)?p(p(this,"map",[],t.$to_proc()),"to_h",m(this.$args())):p(this.$class().$members(),"each_with_object",[b([],{})],function e(t,r){var n,i=null==e.$$s?this:e.$$s;return null==t&&(t=S),null==r&&(r=S),p(r,"[]=",n=[t,i["$[]"](t)]),n[n.length-1]},{$$s:this})}),$(r,"$values_at",function e(t){r=a(arguments),n=p(n=r,"map",[],function e(t){return null==t&&(t=S),t.$$is_range?t.$to_a():t}).$flatten();for(var r,n,i=[],s=0,o=n.length;s<o;s++)n[s].$$is_number||_.$raise(O("TypeError"),"no implicit conversion of "+n[s].$class()+" into Integer"),i.push(this["$[]"](n[s]));return i},-1),$(r,"$dig",function e(t,r){var n,i,s=S;return(n=a(arguments,1),i=n,(s=c(t.$$is_string&&this.$$data.hasOwnProperty(t))&&this.$$data[t]||S)===S||0===i.length)?s:(c(s["$respond_to?"]("dig"))||_.$raise(O("TypeError"),""+s.$class()+" does not have #dig method"),p(s,"dig",m(i)))},-2),z(r,"size","length"),z(r,"to_s","inspect"),z(r,"values","to_a")},Opal.modules["corelib/set"]=function(e){var t=e.freeze,r=e.klass,n=e.slice,i=e.defs,s=e.hash2,o=e.truthy,a=e.eqeqeq,u=e.Kernel,l=e.send,c=e.def,h=e.eqeq,f=e.rb_lt,d=e.rb_le,p=e.alias,g=e.nil,m=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function($,v,_){var b=r("::",null,"Set"),y=[b].concat(_),w=e.$r(y),E=g;function x(e){o(E=e["$is_a?"](m("Set")))||u.$raise(m("ArgumentError"),"value must be a set")}return b.$$prototype.hash=g,b.$include(m("Enumerable")),i(b,"$[]",function e(t){var r,i;return r=n(arguments),i=r,this.$new(i)},-1),c(b,"$initialize",function t(r){var n=t.$$p||g,i=this;return(t.$$p=null,null==r&&(r=g),i.hash=s([],{}),o(r["$nil?"]()))?g:(a(m("Enumerable"),r)||u.$raise(m("ArgumentError"),"value must be enumerable"),o(n))?l(r,"each",[],function t(r){var i=null==t.$$s?this:t.$$s;return null==r&&(r=g),i.$add(e.yield1(n,r))},{$$s:i}):i.$merge(r)},-1),c(b,"$dup",function e(){var t=g;return(t=this.$class().$new()).$merge(this)}),c(b,"$-",function e(t){return o(t["$respond_to?"]("each"))||u.$raise(m("ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)}),c(b,"$inspect",function e(){return"#<Set: {"+this.$to_a().$join(",")+"}>"}),c(b,"$==",function e(t){return!!o(this["$equal?"](t))||(o(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!(o(t["$is_a?"](m("Set")))&&h(this.$size(),t.$size()))&&l(t,"all?",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==r.hash&&(r.hash=g),null==t&&(t=g),r.hash["$include?"](t)},{$$s:this}))}),c(b,"$add",function e(t){return this.hash["$[]="](t,!0),this}),c(b,"$classify",function t(){var r=t.$$p||g,n=g;return(t.$$p=null,r!==g)?(n=l(m("Hash"),"new",[],function e(t,r){var n,i=null==e.$$s?this:e.$$s;return null==t&&(t=g),null==r&&(r=g),l(t,"[]=",n=[r,i.$class().$new()]),n[n.length-1]},{$$s:this}),l(this,"each",[],function t(i){return null==i&&(i=g),n["$[]"](e.yield1(r,i)).$add(i)}),n):this.$enum_for("classify")}),c(b,"$collect!",function t(){var r=t.$$p||g,n=g;return(t.$$p=null,r!==g)?(n=this.$class().$new(),l(this,"each",[],function t(i){return null==i&&(i=g),n["$<<"](e.yield1(r,i))}),this.$replace(n)):this.$enum_for("collect!")}),c(b,"$compare_by_identity",function e(){return o(this.hash["$respond_to?"]("compare_by_identity"))?(this.hash.$compare_by_identity(),this):this.$raise(w("NotImplementedError"),""+this.$class().$name()+"#compare_by_identity is not implemented")}),c(b,"$compare_by_identity?",function e(){var t=g;return o(t=this.hash["$respond_to?"]("compare_by_identity?"))?this.hash["$compare_by_identity?"]():t}),c(b,"$delete",function e(t){return this.hash.$delete(t),this}),c(b,"$delete?",function e(t){return o(this["$include?"](t))?(this.$delete(t),this):g}),c(b,"$delete_if",function t(){var r=t.$$p||g;return(t.$$p=null,r!==g)?(l(l(this,"select",[],function t(n){return null==n&&(n=g),e.yield1(r,n)}),"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==r.hash&&(r.hash=g),null==t&&(t=g),r.hash.$delete(t)},{$$s:this}),this):this.$enum_for("delete_if")}),c(b,"$freeze",function e(){return o(this["$frozen?"]())?this:(this.hash.$freeze(),t(this))}),c(b,"$keep_if",function t(){var r=t.$$p||g;return(t.$$p=null,r!==g)?(l(l(this,"reject",[],function t(n){return null==n&&(n=g),e.yield1(r,n)}),"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==r.hash&&(r.hash=g),null==t&&(t=g),r.hash.$delete(t)},{$$s:this}),this):this.$enum_for("keep_if")}),c(b,"$reject!",function e(){var t=e.$$p||g,r=g;return(e.$$p=null,t!==g)?(r=this.$size(),l(this,"delete_if",[],t.$to_proc()),h(this.$size(),r))?g:this:this.$enum_for("reject!")}),c(b,"$select!",function e(){var t=e.$$p||g,r=g;return(e.$$p=null,t!==g)?(r=this.$size(),l(this,"keep_if",[],t.$to_proc()),h(this.$size(),r))?g:this:this.$enum_for("select!")}),c(b,"$add?",function e(t){return o(this["$include?"](t))?g:this.$add(t)}),c(b,"$each",function e(){var t=e.$$p||g;return(e.$$p=null,t!==g)?(l(this.hash,"each_key",[],t.$to_proc()),this):this.$enum_for("each")}),c(b,"$empty?",function e(){return this.hash["$empty?"]()}),c(b,"$eql?",function e(t){return this.hash["$eql?"](l(t,"instance_eval",[],function e(){var t=null==e.$$s?this:e.$$s;return null==t.hash&&(t.hash=g),t.hash},{$$s:this}))}),c(b,"$clear",function e(){return this.hash.$clear(),this}),c(b,"$include?",function e(t){return this.hash["$include?"](t)}),c(b,"$merge",function e(t){return l(t,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=g),r.$add(t)},{$$s:this}),this}),c(b,"$replace",function e(t){return this.$clear(),this.$merge(t),this}),c(b,"$size",function e(){return this.hash.$size()}),c(b,"$subtract",function e(t){return l(t,"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=g),r.$delete(t)},{$$s:this}),this}),c(b,"$|",function e(t){return o(t["$respond_to?"]("each"))||u.$raise(m("ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)}),c(b,"$superset?",function e(t){return x(t),!o(f(this.$size(),t.$size()))&&l(t,"all?",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=g),r["$include?"](t)},{$$s:this})}),c(b,"$proper_superset?",function e(t){return x(t),!o(d(this.$size(),t.$size()))&&l(t,"all?",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=g),r["$include?"](t)},{$$s:this})}),c(b,"$subset?",function e(t){return x(t),!o(f(t.$size(),this.$size()))&&l(this,"all?",[],function e(r){return null==r&&(r=g),t["$include?"](r)})}),c(b,"$proper_subset?",function e(t){return x(t),!o(d(t.$size(),this.$size()))&&l(this,"all?",[],function e(r){return null==r&&(r=g),t["$include?"](r)})}),c(b,"$intersect?",function e(t){return(x(t),o(f(this.$size(),t.$size())))?l(this,"any?",[],function e(r){return null==r&&(r=g),t["$include?"](r)}):l(t,"any?",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=g),r["$include?"](t)},{$$s:this})}),c(b,"$disjoint?",function e(t){return this["$intersect?"](t)["$!"]()}),c(b,"$to_a",function e(){return this.hash.$keys()}),p(b,"+","|"),p(b,"<","proper_subset?"),p(b,"<<","add"),p(b,"<=","subset?"),p(b,">","proper_superset?"),p(b,">=","superset?"),p(b,"difference","-"),p(b,"filter!","select!"),p(b,"length","size"),p(b,"map!","collect!"),p(b,"member?","include?"),p(b,"union","|")}("::",null,[])},Opal.modules["corelib/dir"]=function(e){var t,r,n,i,s,o=e.klass,a=e.def,u=e.truthy,l=e.alias,c=e.nil,h=e.$$$;return e.add_stubs("[],pwd"),t=[],n=[r=o("::",null,"Dir")].concat(t),i=e.get_singleton_class(r),a(i,"$chdir",function t(r){var n=t.$$p||c,i=c;return t.$$p=null,function(){try{return i=e.current_dir,e.current_dir=r,e.yieldX(n,[])}finally{e.current_dir=i}}()}),a(i,"$pwd",function t(){return e.current_dir||"."}),a(i,"$home",function e(){var t=c;return u(t=h("ENV")["$[]"]("HOME"))?t:"."}),l(i,"getwd","pwd")},Opal.modules["corelib/file"]=function(e){var t,r,n,i,s,o=e.truthy,a=e.klass,u=e.const_set,l=e.Opal,c=e.regexp,h=e.rb_plus,f=e.def,d=e.Kernel,p=e.eqeq,g=e.rb_lt,m=e.rb_minus,$=e.range,v=e.send,_=e.slice,b=e.alias,y=e.nil,w=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),t=w("IO"),r=[],i=[n=a("::",t,"File")].concat(r),s=y,u(i[0],"Separator",u(i[0],"SEPARATOR","/")),u(i[0],"ALT_SEPARATOR",y),u(i[0],"PATH_SEPARATOR",":"),u(i[0],"FNM_SYSCASE",0),s=/^[a-zA-Z]:(?:\\|\/)/,function(t,r){var n=[t].concat(r),i=e.$r(n);function a(e){return o(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),e=l["$coerce_to!"](e,w("String"),"to_str")}function u(){return i("ALT_SEPARATOR")===y?e.escape_regexp(i("SEPARATOR")):e.escape_regexp(h(i("SEPARATOR"),i("ALT_SEPARATOR")))}return f(t,"$absolute_path",function e(t,r){var n,a=y,f=y,d=y,p=y,g=y,m=y,$=y,v=y,_=y,b=y;null==r&&(r=y),a=i("SEPARATOR"),f=u(),d=[],t=o(t["$respond_to?"]("to_path"))?t.$to_path():t,t=l["$coerce_to!"](t,w("String"),"to_str"),r=o(p=r)?p:w("Dir").$pwd(),g=t.substr(0,a.length)===a||s.test(t),m=r.substr(0,a.length)===a||s.test(r),o(g)?($=t.$split(c(["[",f,"]"])),v=s.test(t)?"":t.$sub(c(["^([",f,"]+).*$"]),"\\1"),_=!0):($=h(r.$split(c(["[",f,"]"])),t.$split(c(["[",f,"]"]))),v=s.test(r)?"":r.$sub(c(["^([",f,"]+).*$"]),"\\1"),_=m);for(var E=0,x=$.length;E<x;E++)(n=$[E])!==y&&(""!==n||0!==d.length&&!_)&&("."!==n||0!==d.length&&!_)&&(".."===n?d.pop():d.push(n));return _||"."===$[0]||d.$unshift("."),b=d.$join(a),o(_)&&(b=h(v,b)),b},-2),f(t,"$expand_path",function e(t,r){var n=y,a=y,l=y,f=y,p=y;return null==r&&(r=y),n=i("SEPARATOR"),a=u(),o("~"===t[0]||r&&"~"===r[0])&&(o(l=i("Dir").$home())||d.$raise(w("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),f=s.test(l)?"":l.$sub(c(["^([",a,"]+).*$"]),"\\1"),o(l["$start_with?"](f))||d.$raise(w("ArgumentError"),"non-absolute home"),l=h(l,n),p=c(["^\\~(?:",n,"|$)"]),t=t.$sub(p,l),o(r)&&(r=r.$sub(p,l))),this.$absolute_path(t,r)},-2),f(t,"$dirname",function e(t,r){var n=y;if(null==r&&(r=1),p(r,0))return t;o(g(r,0))&&d.$raise(w("ArgumentError"),"level can't be negative"),n=u();var i,s=(t=a(t)).match(RegExp("^["+n+"]"));return(i=""===(t=(t=(t=t.replace(RegExp("["+n+"]+$"),"")).replace(RegExp("[^"+n+"]+$"),"")).replace(RegExp("["+n+"]+$"),""))?s?"/":".":t,1==r)?i:this.$dirname(i,m(r,1))},-2),f(t,"$basename",function t(r,n){var i=y;return null==n&&(n=y),i=u(),0==(r=a(r)).length||(n=n!==y?l["$coerce_to!"](n,w("String"),"to_str"):null,r=(r=r.replace(RegExp("(.)["+i+"]*$"),"$1")).replace(RegExp("^(?:.*["+i+"])?([^"+i+"]+)$"),"$1"),".*"===n?r=r.replace(/\.[^\.]+$/,""):null!==n&&(n=e.escape_regexp(n),r=r.replace(RegExp(""+n+"$"),""))),r},-2),f(t,"$extname",function t(r){var n=y,i=y;return(r=a(r),o((n=this.$basename(r))["$empty?"]()))?"":o((i=n["$[]"]($(1,-1,!1)).$rindex("."))["$nil?"]())||p(h(i,1),m(n.$length(),1))?"":n["$[]"](e.Range.$new(h(i,1),-1,!1))}),f(t,"$exist?",function t(r){return null!=e.modules[r]}),f(t,"$directory?",function t(r){var n=y;for(var s in n=[],e.modules)n.push(s);return r=r.$gsub(c(["(^.",i("SEPARATOR"),"+|",i("SEPARATOR"),"+$)"])),v(n,"find",[],function e(t){return null==t&&(t=y),t["$=~"](c(["^",r]))})}),f(t,"$join",function e(t){var r,n,s=y;return(r=_(arguments),o((n=r)["$empty?"]()))?"":(s="",n=v(n.$flatten().$each_with_index(),"map",[],function e(t,r){return(null==t&&(t=y),null==r&&(r=y),p(r,0)&&o(t["$empty?"]()))?i("SEPARATOR"):p(n.$length(),h(r,1))&&o(t["$empty?"]())?i("SEPARATOR"):t}),n=v(n,"reject",[],"empty?".$to_proc()),v(n,"each_with_index",[],function e(t,r){var a=y;return(null==t&&(t=y),null==r&&(r=y),o((a=n["$[]"](h(r,1)))["$nil?"]()))?s=""+s+t:(o(t["$end_with?"](i("SEPARATOR")))&&o(a["$start_with?"](i("SEPARATOR")))&&(t=t.$sub(c([i("SEPARATOR"),"+$"]),"")),s=o(t["$end_with?"](i("SEPARATOR")))||o(a["$start_with?"](i("SEPARATOR")))?""+s+t:""+s+t+i("SEPARATOR"))}),s)},-1),f(t,"$split",function e(t){return t.$split(i("SEPARATOR"))}),b(t,"realpath","expand_path"),b(t,"exists?","exist?")}(e.get_singleton_class(n),i)},Opal.modules["corelib/process/base"]=function(e){var t=e.klass,r=e.slice,n=e.defs,i=e.return_val,s=e.nil;return n(t("::",null,"Signal"),"$trap",function e(t){var n,i;return n=r(arguments),i=n,s},-1),n(t("::",null,"GC"),"$start",i(s))},Opal.modules["corelib/process"]=function(e){var t=e.module,r=e.defs,n=e.truthy,i=e.return_val,s=e.Kernel,o=e.nil,a=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(u){var l=t("::","Process"),c=o;if(l.__clocks__=[],r(l,"$__register_clock__",function e(t,r){var n=this;return null==n.__clocks__&&(n.__clocks__=o),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](r)}),l.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),c=!1,e.global.performance)c=function(){return performance.now()};else if(e.global.process&&process.hrtime){var h=process.hrtime();c=function(){var e=process.hrtime(h),t=e[1]/1e3|0;return 1e3*e[0]+t/1e3}}return n(c)&&l.$__register_clock__("CLOCK_MONOTONIC",c),r(l,"$pid",i(0)),r(l,"$times",function e(){var t=o;return t=a("Time").$now().$to_f(),a(a("Benchmark"),"Tms").$new(t,t,t,t,t)}),r(l,"$clock_gettime",function e(t,r){var i=this,u=o,l=o;null==i.__clocks__&&(i.__clocks__=o),null==r&&(r="float_second"),n(u=l=i.__clocks__["$[]"](t))||s.$raise(a(a("Errno"),"EINVAL"),"clock_gettime("+t+") "+i.__clocks__["$[]"](t));var c=l();switch(r){case"float_second":return c/1e3;case"float_millisecond":return c/1;case"float_microsecond":return 1e3*c;case"second":return c/1e3|0;case"millisecond":return c/1|0;case"microsecond":return 1e3*c|0;case"nanosecond":return 1e6*c|0;default:s.$raise(a("ArgumentError"),"unexpected unit: "+r)}},-2)}("::")},Opal.modules["corelib/random/formatter"]=function(e){var t,r,n,i,s,o,a,u,l=e.klass,c=e.module,h=e.def,f=e.range,d=e.send,p=e.rb_divide,g=e.Kernel,m=e.Opal,$=e.nil,v=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),t=[],n=[r=l("::",null,"Random")].concat(t),i=r,s=n,a=[o=c(i,"Formatter")].concat(s),u=e.$r(a),h(o,"$hex",function e(t){null==t&&(t=$),t=v("Random").$_verify_count(t);for(var r=this.$bytes(t),n="",i=0;i<t;i++)n+=r.charCodeAt(i).toString(16).padStart(2,"0");return n.$encode("US-ASCII")},-1),h(o,"$random_bytes",function e(t){return null==t&&(t=$),this.$bytes(t)},-1),h(o,"$base64",function e(t){return null==t&&(t=$),v("Base64").$strict_encode64(this.$random_bytes(t)).$encode("US-ASCII")},-1),h(o,"$urlsafe_base64",function e(t,r){return null==t&&(t=$),null==r&&(r=!1),v("Base64").$urlsafe_encode64(this.$random_bytes(t),r).$encode("US-ASCII")},-1),h(o,"$uuid",function e(){var t=$;return(t=this.$hex(16).$split(""))["$[]="](12,"4"),t["$[]="](16,(3&parseInt(t["$[]"](16),16)|8).toString(16)),(t=d(t=[t["$[]"](f(0,8,!0)),t["$[]"](f(8,12,!0)),t["$[]"](f(12,16,!0)),t["$[]"](f(16,20,!0)),t["$[]"](f(20,32,!0))],"map",[],"join".$to_proc())).$join("-")}),h(o,"$random_float",function e(){var t=$,r=$;return t=this.$bytes(4),r=0,d(4,"times",[],function e(n){return null==n&&(n=$),r=(r=r["$<<"](8))["$|"](t["$[]"](n).$ord())}),p(r.$abs(),2147483647)}),h(o,"$random_number",function e(t){var r=this;function n(){return r.$random_float()}function i(e){return Math.floor(n()*e)}return null==t?n():t.$$is_range?function e(){var r=t.begin,n=t.end;if(r===$||n===$)return $;var s=n-r;return s<0?$:0===s?r:(n%1==0&&r%1==0&&!t.excl&&s++,i(s)+r)}():t.$$is_number?(t<=0&&g.$raise(v("ArgumentError"),"invalid argument - "+t),t%1==0)?i(t):n()*t:((t=m["$coerce_to!"](t,v("Integer"),"to_int"))<=0&&g.$raise(v("ArgumentError"),"invalid argument - "+t),i(t))},-1),h(o,"$alphanumeric",function e(t){var r=$;return null==t&&(t=$),t=u("Random").$_verify_count(t),r=d([f("0","9",!1),f("a","z",!1),f("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),d(v("Array"),"new",[t],function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=$),r["$[]"](n.$random_number(r.$length()))},{$$s:this}).$join()},-1),r.$include(v(v("Random"),"Formatter")),r.$extend(v(v("Random"),"Formatter"))},Opal.modules["corelib/random/mersenne_twister"]=function(e){var t,r,n,i=e.klass,s=e.const_set,o=e.send,a=e.nil,u=e.$$$,l=a;return e.add_stubs("generator="),l=function(){var e=function(e,t){var r,n;return r=e,(2147483648&r|2147483647&(n=t))>>>1^(1&t?2567483615:0)};function t(t){var r;return--t.left<=0&&function t(r){var n,i=0,s=r.state;for(r.left=624,r.next=0,n=228;--n;i++)s[i]=s[i+397]^e(s[i+0],s[i+1]);for(n=397;--n;i++)s[i]=s[i+-227]^e(s[i+0],s[i+1]);s[i]=s[i+-227]^e(s[i+0],s[0])}(t),r=t.state[t.next++],r^=r>>>11,r^=r<<7&2636928640,r^=r<<15&4022730752,(r^=r>>>18)>>>0}return{genrand_real:function e(r){var n,i,s=t(r),o=t(r);return n=s,i=o,(67108864*(n>>>=5)+(i>>>=6))*(1/9007199254740992)},init:function e(t){var r={left:0,next:624,state:Array(624)};return function e(t,r){var n;for(n=1,t.state[0]=r>>>0;n<624;n++)t.state[n]=1812433253*(t.state[n-1]^t.state[n-1]>>30>>>0)+n,t.state[n]&=4294967295;t.left=1,t.next=624}(r,t),r}}}(),r=i("::",null,"Random"),n=Number.MAX_SAFE_INTEGER||9007199254740991,s(r,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*n)},reseed:function(e){return l.init(e)},rand:function(e){return l.genrand_real(e)}}),t=[u(r,"MERSENNE_TWISTER_GENERATOR")],o(r,"generator=",t),t[t.length-1]},Opal.modules["corelib/random"]=function(e){var t,r=e.truthy,n=e.klass,i=e.Kernel,s=e.defs,o=e.Opal,a=e.def,u=e.eqeqeq,l=e.send,c=e.top,h=e.nil,f=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),c.$require("corelib/random/formatter"),(t=n("::",null,"Random")).$attr_reader("seed","state"),s(t,"$_verify_count",function e(t){return r(t)||(t=16),"number"!=typeof t&&(t=t.$to_int()),t<0&&i.$raise(f("ArgumentError"),"negative string size (or size too big)"),t=Math.floor(t)}),a(t,"$initialize",function e(t){var r=this;return null==t&&(t=f("Random").$new_seed()),t=o["$coerce_to!"](t,f("Integer"),"to_int"),r.state=t,r.$reseed(t)},-1),a(t,"$reseed",function t(r){var n=this;return n.seed=r,n.$rng=e.$$rand.reseed(r)}),s(t,"$new_seed",function t(){return e.$$rand.new_seed()}),s(t,"$rand",function e(t){return f(this,"DEFAULT").$rand(t)},-1),s(t,"$srand",function e(t){var r=h;return null==t&&(t=f("Random").$new_seed()),t=o["$coerce_to!"](t,f("Integer"),"to_int"),r=f(this,"DEFAULT").$seed(),f(this,"DEFAULT").$reseed(t),r},-1),s(t,"$urandom",function e(t){return f("SecureRandom").$bytes(t)}),a(t,"$==",function e(t){var n=h;return!!u(f("Random"),t)&&(r(n=this.$seed()["$=="](t.$seed()))?this.$state()["$=="](t.$state()):n)}),a(t,"$bytes",function e(t){return t=f("Random").$_verify_count(t),l(f("Array"),"new",[t],function e(){return(null==e.$$s?this:e.$$s).$rand(255).$chr()},{$$s:this}).$join().$encode("ASCII-8BIT")}),s(t,"$bytes",function e(t){return f(this,"DEFAULT").$bytes(t)}),a(t,"$rand",function e(t){return this.$random_number(t)},-1),a(t,"$random_float",function t(){return this.state++,e.$$rand.rand(this.$rng)}),s(t,"$random_float",function e(){return f(this,"DEFAULT").$random_float()}),s(t,"$generator=",function t(n){return(e.$$rand=n,r(this["$const_defined?"]("DEFAULT")))?f(this,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))}),c.$require("corelib/random/mersenne_twister")},Opal.modules["corelib/unsupported"]=function(e){var t,r,n,i,s,o,a,u,l,c=e.Kernel,h=e.klass,f=e.send,d=e.slice,p=e.module,g=e.def,m=e.return_val,$=e.alias,v=e.defs,_=e.top,b=e.nil,y=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var w={};function E(t){switch(e.config.unsupported_features_severity){case"error":c.$raise(y("NotImplementedError"),t);break;case"warning":var r;r=t,!w[r]&&(w[r]=!0,_.$warn(r))}}return f(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=b),f(r,"define_method",[t],function e(r){var n,i;return n=d(arguments),i=n,c.$raise(y("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"](t))},-1)},{$$s:t=h("::",null,"String")}),r=p("::","Kernel"),n="Object tainting is not supported by Opal",g(r,"$taint",function e(){return E(n),this}),g(r,"$untaint",function e(){return E(n),this}),g(r,"$tainted?",function e(){return E(n),!1}),g(i=h("::",null,"Module"),"$public",function e(t){var r,n,i=this;return(r=d(arguments),0===(n=r).length)?(i.$$module_function=!1,b):1===n.length?n[0]:n},-1),g(i,"$private_class_method",function e(t){var r,n;return r=d(arguments),1===(n=r).length?n[0]:n},-1),g(i,"$private_method_defined?",m(!1)),g(i,"$private_constant",function e(t){var r,n;return r=d(arguments),n=r,b},-1),$(i,"nesting","public"),$(i,"private","public"),$(i,"protected","public"),$(i,"protected_method_defined?","private_method_defined?"),$(i,"public_class_method","private_class_method"),$(i,"public_instance_method","instance_method"),$(i,"public_instance_methods","instance_methods"),$(i,"public_method_defined?","method_defined?"),g(s=p("::","Kernel"),"$private_methods",function e(t){var r,n;return r=d(arguments),n=r,[]},-1),$(s,"protected_methods","private_methods"),$(s,"private_instance_methods","private_methods"),$(s,"protected_instance_methods","private_methods"),o=[],u=[a=p("::","Kernel")].concat(o),l=e.$r(u),g(a,"$eval",function e(t){var r,n;return r=d(arguments),n=r,c.$raise(y("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+l("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},-1),v(_,"$public",function e(t){var r,n;return r=d(arguments),1===(n=r).length?n[0]:n},-1),v(_,"$private",function e(t){var r,n;return r=d(arguments),1===(n=r).length?n[0]:n},-1)},Opal.modules["corelib/binding"]=function(e){var t,r,n=e.klass,i=e.truthy,s=e.def,o=e.slice,a=e.send,u=e.to_a,l=e.Kernel,c=e.return_ivar,h=e.eqeq,f=e.thrower,d=e.module,p=e.const_set,g=e.top,m=e.nil,$=e.$$$;return e.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new"),(r=(t=n("::",null,"Binding")).$$prototype).jseval=r.scope_variables=m,s(t,"$initialize",function e(t,r,n,s){var o,a=this;return(null==r&&(r=[]),null==s&&(s=m),o=[t,r,n,s],a.jseval=o[0],a.scope_variables=o[1],a.receiver=o[2],a.source_location=o[3],i(!0))?m:n=a.$js_eval("self")},-2),s(t,"$js_eval",function e(t){var r,n;return(r=o(arguments),n=r,i(this.jseval))?a(this.jseval,"call",u(n)):l.$raise("Evaluation on a Proc#binding is not supported")},-1),s(t,"$local_variable_get",function t(r){try{return this.$js_eval(r)}catch(n){if(e.rescue(n,[$("Exception")]))try{return l.$raise($("NameError"),"local variable `"+r+"' is not defined for "+this.$inspect())}finally{e.pop_exception()}else throw n}}),s(t,"$local_variable_set",function t(r,n){return e.Binding.tmp_value=n,this.$js_eval(""+r+" = Opal.Binding.tmp_value"),delete e.Binding.tmp_value,n}),s(t,"$local_variables",c("scope_variables")),s(t,"$local_variable_defined?",function e(t){return this.scope_variables["$include?"](t)}),s(t,"$eval",function t(r,n,i){try{if(f("eval_return"),null==n&&(n=m),null==i&&(i=m),h(r,"self"))return this.$receiver();return l.$eval(r,this,n,i)}catch(s){if(s===e.t_eval_return)return s.$v;throw s}},-2),t.$attr_reader("receiver","source_location"),s(d("::","Kernel"),"$binding",function e(){return l.$raise("Opal doesn't support dynamic calls to binding")}),p(void 0,"TOPLEVEL_BINDING",$("Binding").$new(function(e){return Function("self","return "+e)(g)},[],g,["<main>",0]))},Opal.modules["corelib/irb"]=function(e){var t,r,n,i,s,o,a,u,l,c,h,f,d,p,g,m,$=e.module,v=e.truthy,_=e.Kernel,b=e.defs,y=e.hash,w=e.gvars,E=e.lambda,x=e.send,k=e.rb_plus,A=e.const_set,z=e.klass,I=e.def,S=e.Opal,O=e.range,q=e.eqeq,R=e.thrower,T=[],C=e.nil,N=e.$$$;e.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb"),t=T[0],i=(n=[$(t,"Opal")].concat(r=T))[0],s=n,a=[o=$(i,"IRB")].concat(s),u=e.$r(a),b(o,"$ensure_loaded",function t(r){var n,i=C,s=C;if(v(e.loaded_features["$include?"](r)))return C;if(s="https://cdn.opalrb.com/opal/"+(i=v(u("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":u("RUBY_ENGINE_VERSION"))+"/"+r+".js","undefined"!=typeof XMLHttpRequest){var o=new XMLHttpRequest;o.open("GET",s,!1),o.send(""),n=o.responseText}else _.$raise("You need to provision "+r+" yourself in this environment");return(Function("Opal",n)(e),e.require(r),v(e.loaded_features["$include?"](r)))?C:_.$raise("Could not load "+r+" for some reason")}),o.$singleton_class().$attr_accessor("output"),b(o,"$prepare_console",function t(){var r,n=t.$$p||C,i=this,s=C,o=C;return null==w.stdout&&(w.stdout=C),null==w.stderr&&(w.stderr=C),null==w.stdin&&(w.stdin=C),t.$$p=null,function(){try{return i["$output="](""),s=y(w.stdout,E(function e(t){return null==t&&(t=C),w.stdout=t}),w.stderr,E(function e(t){return null==t&&(t=C),w.stderr=t})),v(i["$browser?"]())&&(x(s,"each",[],function e(t,r){var n=null==e.$$s?this:e.$$s,i=C;return null==t&&(t=C),null==r&&(r=C),(i=t.$dup())["$write_proc="](x(n,"proc",[],function e(r){var n=null==e.$$s?this:e.$$s;return null==r&&(r=C),n["$output="](k(n.$output(),r)),n["$output="](n.$output().$split("\n").$last(30).$join("\n")),v(r["$end_with?"]("\n"))&&n["$output="](k(n.$output(),"\n")),t.$write_proc().$call(r)},{$$s:n})),i["$tty="](!1),r.$call(i)},{$$s:i}),o=w.stdin.$read_proc(),w.stdin["$read_proc="](function(e){var t=prompt(i.$output());return null!==t?t+"\n":C})),e.yieldX(n,[])}finally{x(s,"each",[],function e(t,r){return null==t&&(t=C),null==r&&(r=C),r.$call(t)}),r=[o],x(w.stdin,"read_proc=",r),r[r.length-1],x(i,"output=",r=[""]),r[r.length-1]}}()}),b(o,"$browser?",function e(){return"undefined"!=typeof document&&"undefined"!=typeof prompt}),A(a[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze()),(f=(h=z(l=a[0],null,"Silencer")).$$prototype).collector=f.stderr=C,I(h,"$initialize",function e(){var t=this;return null==w.stderr&&(w.stderr=C),t.stderr=w.stderr}),I(h,"$silence",function t(){var r=t.$$p||C,n=this;return t.$$p=null,function(){try{return n.collector=N("StringIO").$new(),w.stderr=n.collector,e.yieldX(r,[])}finally{w.stderr=n.stderr}}()}),I(h,"$warnings",function e(){return this.collector.$string()}),d=T,g=[p=z("::",null,"Binding")].concat(d),m=e.$r(g),I(p,"$irb",function t(){try{var r=R("return"),n=C;return N(S,"IRB").$ensure_loaded("opal-replutils"),n=N(N(S,"IRB"),"Silencer").$new(),x(N(S,"IRB"),"prepare_console",[],function t(){var i=null==t.$$s?this:t.$$s;return function(){try{var t=R("break");return x(i,"loop",[],function i(){var s=null==i.$$s?this:i.$$s,o=C,a=C,u=C,l=C,c=C;for(s.$print(">> "),o=s.$gets(),v(o)||t.$throw(),a="",v(N(S,"IRB")["$browser?"]())&&s.$puts(o),v(o["$start_with?"]("ls "))?(a=o["$[]"](O(3,-1,!1)),u="ls"):q(o,"ls\n")?(a="self",u="ls"):v(o["$start_with?"]("show "))?(a=o["$[]"](O(5,-1,!1)),u="show"):(a=o,u="inspect"),l=C;;){try{x(n,"silence",[],function t(){return l=e.compile(a,{irb:!0})})}catch(h){if(e.rescue(h,[m("SyntaxError")])){c=h;try{if(v(N(N(S,"IRB"),"LINEBREAKS")["$include?"](c.$message()))){s.$print(".. "),o=s.$gets(),v(o)||r.$throw(),v(N(S,"IRB")["$browser?"]())&&s.$puts(o),a=k(a,o);continue}v(n.$warnings()["$empty?"]())?s.$warn(c.$full_message()):s.$warn(n.$warnings())}finally{e.pop_exception()}}else throw h}break}return q(u,"show")&&(s.$puts(l),r.$throw()),s.$puts(N("REPLUtils").$eval_and_print(l,u,!1,s))},{$$s:i,$$ret:r})}catch(s){if(s===t)return s.$v;throw s}}()},{$$s:this})}catch(i){if(i===r)return i.$v;throw i}}),e.irb=function(e){N("Binding").$new(e).$irb()},e.load_parser=function(){e.Opal.IRB.$ensure_loaded("opal-parser")},void 0===e.eval&&(e.eval=function(t){return e.load_parser(),e.eval(t)}),void 0===e.compile&&(e.compile=function(t,r){return e.load_parser(),e.compile(t,r)})},Opal.modules.opal=function(e){var t=e.Object;return e.nil,e.add_stubs("require,autoload"),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/kernel/format"),t.$require("corelib/string/encoding"),t.$autoload("Math","corelib/math"),t.$require("corelib/complex/base"),t.$autoload("Complex","corelib/complex"),t.$require("corelib/rational/base"),t.$autoload("Rational","corelib/rational"),t.$require("corelib/time"),t.$autoload("Struct","corelib/struct"),t.$autoload("Set","corelib/set"),t.$autoload("Dir","corelib/dir"),t.$autoload("File","corelib/file"),t.$require("corelib/process/base"),t.$autoload("Process","corelib/process"),t.$autoload("Random","corelib/random"),t.$require("corelib/unsupported"),t.$require("corelib/binding"),t.$require("corelib/irb")},Opal.load_normalized("opal"),Opal.modules.relax=function(e){var t,r,n,i,s,o,a,u,l,c,h,f,d,p,g,m,$,v,_,b,y,w,E,x,k=e.module,A=e.klass,z=e.range,I=e.send,S=e.def,O=e.const_set,q=e.eqeq,R=e.rb_plus,T=e.rb_minus,C=[],N=e.nil,F=e.$$$;return e.add_stubs("intensity=,rand,new,each,send,a=,percentage=,instance_eval,attr_accessor,rgba_color=,direction=,rgba_color,color=,color,==,intensity,direction,+,-,r,g,b,a,css,update_color"),t=C[0],n=[k(t,"Relax")].concat(r=C),i=e.$r(n),s=n[0],S(A(s,o=i("Struct").$new("intensity"),"Color"),"$initialize",function e(){var t;return I(this,"intensity=",t=[this.$rand(z(0,100,!1))]),t[t.length-1]}),a=n[0],u=i("Struct").$new("r","g","b","a","percentage"),l=n,h=[c=A(a,u,"RGBAColor")].concat(l),f=e.$r(h),O(h[0],"COLOR_PARAMETERS",["r","g","b"]),S(c,"$initialize",function e(){var t;return I(f("COLOR_PARAMETERS"),"each",[],function e(t){var r=null==e.$$s?this:e.$$s;return null==t&&(t=N),r.$send(""+t+"=",f("Color").$new())},{$$s:this}),this["$a="](1),I(this,"percentage=",t=[10]),t[t.length-1]}),d=n[0],p=i("Struct").$new("rgba_color","direction"),g=n,$=[m=A(d,p,"ChangingColor")].concat(g),v=e.$r($),S(m,"$initialize",function e(){return I(v("Color"),"instance_eval",[],function e(){return(null==e.$$s?this:e.$$s).$attr_accessor("direction")},{$$s:this}),this["$rgba_color="](v("RGBAColor").$new()),I(F(v("RGBAColor"),"COLOR_PARAMETERS"),"each",[],function e(t){var r,n=null==e.$$s?this:e.$$s;return null==t&&(t=N),r=["→"],I(n.$rgba_color().$send(t),"direction=",r),r[r.length-1]},{$$s:this})}),_=n[0],b=i("Struct").$new("color"),y=n,E=[w=A(_,b,"Background")].concat(y),x=e.$r(E),S(w,"$initialize",function e(){var t;return I(this,"color=",t=[x("ChangingColor").$new()]),t[t.length-1]}),S(w,"$update_color",function e(){return I(F(x("RGBAColor"),"COLOR_PARAMETERS"),"each",[],function e(t){var r,n=null==e.$$s?this:e.$$s,i=N;return(null==t&&(t=N),q((i=n.$color().$rgba_color().$send(t)).$intensity(),0)&&i["$direction="]("→"),q(i.$intensity(),255)&&i["$direction="]("←"),q(i.$direction(),"→")&&i["$intensity="](R(i.$intensity(),1)),q(i.$direction(),"←"))?(r=[T(i.$intensity(),1)],I(i,"intensity=",r),r[r.length-1]):N},{$$s:this}),this}),S(w,"$css",function e(){var t=N;return"rgba("+(t=this.$color().$rgba_color()).$r().$intensity()+", "+t.$g().$intensity()+", "+t.$b().$intensity()+", "+t.$a()+")"}),S(w,"$update",function e(){return document.body.style.backgroundColor=this.$update_color().$css()})},Opal.queue(function(e){var t=e.top,r=e.$r([]),n=e.nil,i=e.$$$,s=n;return e.add_stubs("require,include,new,update"),t.$require("./relax.rb"),t.$include(r("Relax")),s=i(r("Relax"),"Background").$new(),setInterval(function(){s.$update()},50)}),Opal.queue(function(e){var t=e.Kernel;return e.nil,e.add_stubs("exit"),t.$exit()});
